var kP=Object.defineProperty;var _P=(t,e,n)=>e in t?kP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ya=(t,e,n)=>_P(t,typeof e!="symbol"?e+"":e,n);import{r as D,j as N,a as h_,g as hf,R as ld,b as p_,w as IP,T as m_,G as RP,c as pf,k as Ca,d as MP,e as g_,f as DP,l as Oh,D as Sy,y as j,x as mf,h as OP,i as PP,_ as bn,m as NP,n as ti,o as ou,p as Pr,E as LP}from"./react-vendor-PWxUQDYb.js";var Ph={exports:{}},Nh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function BP(){return Y0||(Y0=1,function(t){function e(B,z){var Q=B.length;B.push(z);e:for(;0<Q;){var ae=Q-1>>>1,ce=B[ae];if(0<i(ce,z))B[ae]=z,B[Q]=ce,Q=ae;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var z=B[0],Q=B.pop();if(Q!==z){B[0]=Q;e:for(var ae=0,ce=B.length,oe=ce>>>1;ae<oe;){var pe=2*(ae+1)-1,fe=B[pe],te=pe+1,ve=B[te];if(0>i(fe,Q))te<ce&&0>i(ve,fe)?(B[ae]=ve,B[te]=Q,ae=te):(B[ae]=fe,B[pe]=Q,ae=pe);else if(te<ce&&0>i(ve,Q))B[ae]=ve,B[te]=Q,ae=te;else break e}}return z}function i(B,z){var Q=B.sortIndex-z.sortIndex;return Q!==0?Q:B.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(B){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=B)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function I(B){if(g=!1,C(B),!m)if(n(l)!==null)m=!0,U(P);else{var z=n(c);z!==null&&G(I,z.startTime-B)}}function P(B,z){m=!1,g&&(g=!1,w(x),x=-1),p=!0;var Q=h;try{for(C(z),d=n(l);d!==null&&(!(d.expirationTime>z)||B&&!k());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,h=d.priorityLevel;var ce=ae(d.expirationTime<=z);z=t.unstable_now(),typeof ce=="function"?d.callback=ce:d===n(l)&&r(l),C(z)}else r(l);d=n(l)}if(d!==null)var oe=!0;else{var pe=n(c);pe!==null&&G(I,pe.startTime-z),oe=!1}return oe}finally{d=null,h=Q,p=!1}}var O=!1,S=null,x=-1,T=5,v=-1;function k(){return!(t.unstable_now()-v<T)}function M(){if(S!==null){var B=t.unstable_now();v=B;var z=!0;try{z=S(!0,B)}finally{z?_():(O=!1,S=null)}}else O=!1}var _;if(typeof A=="function")_=function(){A(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=M,_=function(){$.postMessage(null)}}else _=function(){b(M,0)};function U(B){S=B,O||(O=!0,_())}function G(B,z){x=b(function(){B(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,U(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Q=h;h=z;try{return B()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=h;h=B;try{return z()}finally{h=Q}},t.unstable_scheduleCallback=function(B,z,Q){var ae=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ae+Q:ae):Q=ae,B){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Q+ce,B={id:u++,callback:z,priorityLevel:B,startTime:Q,expirationTime:ce,sortIndex:-1},Q>ae?(B.sortIndex=Q,e(c,B),n(l)===null&&B===n(c)&&(g?(w(x),x=-1):g=!0,G(I,Q-ae))):(B.sortIndex=ce,e(l,B),m||p||(m=!0,U(P))),B},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(B){var z=h;return function(){var Q=h;h=z;try{return B.apply(this,arguments)}finally{h=Q}}}}(Nh)),Nh}var Q0;function yie(){return Q0||(Q0=1,Ph.exports=BP()),Ph.exports}var Qa={},J0;function VP(){if(J0)return Qa;J0=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.parse=o,Qa.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function o(h,p){const m=new s,g=h.length;if(g<2)return m;const b=(p==null?void 0:p.decode)||u;let w=0;do{const A=h.indexOf("=",w);if(A===-1)break;const C=h.indexOf(";",w),I=C===-1?g:C;if(A>I){w=h.lastIndexOf(";",A-1)+1;continue}const P=a(h,w,A),O=l(h,A,P),S=h.slice(P,O);if(m[S]===void 0){let x=a(h,A+1,I),T=l(h,I,x);const v=b(h.slice(x,T));m[S]=v}w=I+1}while(w<g);return m}function a(h,p,m){do{const g=h.charCodeAt(p);if(g!==32&&g!==9)return p}while(++p<m);return m}function l(h,p,m){for(;p>m;){const g=h.charCodeAt(--p);if(g!==32&&g!==9)return p+1}return m}function c(h,p,m){const g=(m==null?void 0:m.encode)||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const b=g(p);if(!e.test(b))throw new TypeError(`argument val is invalid: ${p}`);let w=h+"="+b;if(!m)return w;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);w+="; Max-Age="+m.maxAge}if(m.domain){if(!n.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);w+="; Domain="+m.domain}if(m.path){if(!r.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);w+="; Path="+m.path}if(m.expires){if(!d(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);w+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(w+="; HttpOnly"),m.secure&&(w+="; Secure"),m.partitioned&&(w+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return w}function u(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function d(h){return i.call(h)==="[object Date]"}return Qa}VP();function Uv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Is(t){return Object.keys(t)}function Lh(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Hv(t,e){const n={...t},r=e;return Lh(t)&&Lh(e)&&Object.keys(e).forEach(i=>{Lh(r[i])&&i in t?n[i]=Hv(n[i],r[i]):n[i]=r[i]}),n}function FP(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function $P(t){const e=FP(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function Bh(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function y_(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const i=`${r/16}${t}`;return e?Bh(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(t))return e?Bh(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${t}`;return e?Bh(s):s}}return r}return n}const Z=y_("rem",{shouldScale:!0}),X0=y_("em"),v_=typeof document<"u"?D.useLayoutEffect:D.useEffect;function b_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=b_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function le(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=b_(t))&&(r&&(r+=" "),r+=e);return r}const w_=D.createContext(null);function E_(){const t=D.useContext(w_);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function jP(){return E_().cssVariablesResolver}function x_(){return E_().getStyleNonce}function zP(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function UP(t){let e=t.replace("#","");if(e.length===3){const o=e.split("");e=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(e.length===8){const o=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:o}}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function HP(t){const[e,n,r,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:i||1}}function WP(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*i,l=r/60,c=a*(1-Math.abs(l%2-1)),u=s-a/2;let d,h,p;return l>=0&&l<1?(d=a,h=c,p=0):l>=1&&l<2?(d=c,h=a,p=0):l>=2&&l<3?(d=0,h=a,p=c):l>=3&&l<4?(d=0,h=c,p=a):l>=4&&l<5?(d=c,h=0,p=a):(d=a,h=0,p=c),{r:Math.round((d+u)*255),g:Math.round((h+u)*255),b:Math.round((p+u)*255),a:o||1}}function Wv(t){return zP(t)?UP(t):t.startsWith("rgb")?HP(t):t.startsWith("hsl")?WP(t):{r:0,g:0,b:0,a:1}}function au(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:i,a:s}=Wv(t),o=1-e,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function Fl(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function Vh(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function qP(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function GP(t){if(t.startsWith("oklch("))return(qP(t)||0)/100;const{r:e,g:n,b:r}=Wv(t),i=e/255,s=n/255,o=r/255,a=Vh(i),l=Vh(s),c=Vh(o);return .2126*a+.7152*l+.0722*c}function Ja(t,e=.179){return t.startsWith("var(")?!1:GP(t)>e}function qv({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Ja(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Ja(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Ja(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,i]=t.split("."),s=i?Number(i):void 0,o=r in e.colors;if(o){const a=s!==void 0?e.colors[r][s]:e.colors[r][Fl(e,n||"light")];return{color:r,value:a,shade:s,isThemeColor:o,isLight:Ja(a,e.luminanceThreshold),variable:i?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:o,isLight:Ja(t,e.luminanceThreshold),shade:s,variable:void 0}}function Z0(t,e){const n=qv({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function eE(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)||e.defaultGradient.deg||0},r=Z0(n.from,e),i=Z0(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Hr(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const s=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${s}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:i}=Wv(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const xo=Hr,KP=({color:t,theme:e,variant:n,gradient:r,autoContrast:i})=>{const s=qv({color:t,theme:e}),o=typeof i=="boolean"?i:e.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${Z(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${Z(1)} solid transparent`}:{background:t,hover:au(t,.1),color:a,border:`${Z(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${Z(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:Hr(a,.1),hover:Hr(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Z(1)} solid transparent`}}return{background:Hr(t,.1),hover:Hr(t,.12),color:t,border:`${Z(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${Z(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:Hr(e.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Z(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:Hr(t,.05),color:t,border:`${Z(1)} solid ${t}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${Z(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:"transparent",hover:Hr(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Z(1)} solid transparent`}}return{background:"transparent",hover:Hr(t,.12),color:t,border:`${Z(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${Z(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Z(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${Z(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:au(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${Z(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:au(e.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Z(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:au(e.white,.01),color:t,border:`${Z(1)} solid transparent`}:n==="gradient"?{background:eE(r,e),hover:eE(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Z(1)} solid var(--mantine-color-default-border)`}:{}},YP={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},tE="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Gv={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:YP,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:KP,autoContrast:!1,luminanceThreshold:.3,fontFamily:tE,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:tE,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Z(34),lineHeight:"1.3"},h2:{fontSize:Z(26),lineHeight:"1.35"},h3:{fontSize:Z(22),lineHeight:"1.4"},h4:{fontSize:Z(18),lineHeight:"1.45"},h5:{fontSize:Z(16),lineHeight:"1.5"},h6:{fontSize:Z(14),lineHeight:"1.5"}}},fontSizes:{xs:Z(12),sm:Z(14),md:Z(16),lg:Z(18),xl:Z(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Z(2),sm:Z(4),md:Z(8),lg:Z(16),xl:Z(32)},spacing:{xs:Z(10),sm:Z(12),md:Z(16),lg:Z(20),xl:Z(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Z(1)} ${Z(3)} rgba(0, 0, 0, 0.05), 0 ${Z(1)} ${Z(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Z(1)} ${Z(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Z(10)} ${Z(15)} ${Z(-5)}, rgba(0, 0, 0, 0.04) 0 ${Z(7)} ${Z(7)} ${Z(-5)}`,md:`0 ${Z(1)} ${Z(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Z(20)} ${Z(25)} ${Z(-5)}, rgba(0, 0, 0, 0.04) 0 ${Z(10)} ${Z(10)} ${Z(-5)}`,lg:`0 ${Z(1)} ${Z(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Z(28)} ${Z(23)} ${Z(-7)}, rgba(0, 0, 0, 0.04) 0 ${Z(12)} ${Z(12)} ${Z(-7)}`,xl:`0 ${Z(1)} ${Z(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Z(36)} ${Z(28)} ${Z(-7)}, rgba(0, 0, 0, 0.04) 0 ${Z(17)} ${Z(17)} ${Z(-7)}`},other:{},components:{}};function nE(t){return t==="auto"||t==="dark"||t==="light"}function QP({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return nE(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&nE(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const JP="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",rE="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Fh(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function iE(t){if(!(t.primaryColor in t.colors))throw new Error(JP);if(typeof t.primaryShade=="object"&&(!Fh(t.primaryShade.dark)||!Fh(t.primaryShade.light)))throw new Error(rE);if(typeof t.primaryShade=="number"&&!Fh(t.primaryShade))throw new Error(rE)}function XP(t,e){var r;if(!e)return iE(t),t;const n=Hv(t,e);return e.fontFamily&&!((r=e.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=e.fontFamily),iE(n),n}const Kv=D.createContext(null),ZP=()=>D.useContext(Kv)||Gv;function S_(){const t=D.useContext(Kv);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function T_({theme:t,children:e,inherit:n=!0}){const r=ZP(),i=D.useMemo(()=>XP(n?r:Gv,t),[t,r,n]);return N.jsx(Kv.Provider,{value:i,children:e})}T_.displayName="@mantine/core/MantineThemeProvider";function eN(){const t=S_(),e=x_(),n=Is(t.breakpoints).reduce((r,i)=>{const s=t.breakpoints[i].includes("px"),o=$P(t.breakpoints[i]),a=s?`${o-.1}px`:X0(o-.1),l=s?`${o}px`:X0(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return N.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function $h(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function Xa(t,e){return(Array.isArray(t)?t:[t]).reduce((r,i)=>`${i}{${r}}`,e)}function tN(t,e){const n=$h(t.variables),r=n?Xa(e,n):"",i=$h(t.dark),s=$h(t.light),o=i?Xa(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,i):"",a=s?Xa(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,s):"";return`${r}${o}${a}`}function nN({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&qv({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function sE(t,e){return nN({color:t.colors[t.primaryColor][Fl(t,e)],theme:t,autoContrast:null})}function lu({theme:t,color:e,colorScheme:n,name:r=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(n==="light"){const a=Fl(t,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:xo(t.colors[e][a],.1),[`--mantine-color-${r}-light-hover`]:xo(t.colors[e][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:xo(t.colors[e][a],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...l}:l}const s=Fl(t,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:xo(t.colors[e][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:xo(t.colors[e][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:xo(t.colors[e][Math.max(s-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...o}:o}function rN(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function So(t,e,n){Is(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const C_=t=>{const e=Fl(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:Z(t.defaultRadius),r={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":sE(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":sE(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};So(r.variables,t.breakpoints,"breakpoint"),So(r.variables,t.spacing,"spacing"),So(r.variables,t.fontSizes,"font-size"),So(r.variables,t.lineHeights,"line-height"),So(r.variables,t.shadows,"shadow"),So(r.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((s,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${t.primaryColor}-${o})`}),Is(t.colors).forEach(s=>{const o=t.colors[s];if(rN(o)){Object.assign(r.light,lu({theme:t,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,lu({theme:t,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,l)=>{r.variables[`--mantine-color-${s}-${l}`]=a}),Object.assign(r.light,lu({theme:t,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,lu({theme:t,color:s,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return Is(i).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=i[s].fontSize,r.variables[`--mantine-${s}-line-height`]=i[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=i[s].fontWeight||t.headings.fontWeight}),r};function iN({theme:t,generator:e}){const n=C_(t),r=e==null?void 0:e(t);return r?Hv(n,r):n}const jh=C_(Gv);function sN(t){const e={variables:{},light:{},dark:{}};return Is(t.variables).forEach(n=>{jh.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),Is(t.light).forEach(n=>{jh.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),Is(t.dark).forEach(n=>{jh.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function oN(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function A_({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=S_(),r=x_(),i=jP(),s=iN({theme:n,generator:i}),o=t===":root"&&e,a=o?sN(s):s,l=tN(a,t);return l?N.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${l}${o?"":oN(t)}`}}):null}A_.displayName="@mantine/CssVariables";function aN(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function To(t,e){var i,s;const n=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),r=t!=="auto"?t:n?"dark":"light";(s=e())==null||s.setAttribute("data-mantine-color-scheme",r)}function lN({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const i=D.useRef(null),[s,o]=D.useState(()=>t.get(e)),a=r||s,l=D.useCallback(u=>{r||(To(u,n),o(u),t.set(u))},[t.set,a,r]),c=D.useCallback(()=>{o(e),To(e,n),t.clear()},[t.clear,e]);return D.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),v_(()=>{To(t.get(e),n)},[]),D.useEffect(()=>{var d;if(r)return To(r,n),()=>{};r===void 0&&To(s,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const u=h=>{s==="auto"&&To(h.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",u),()=>{var h;return(h=i.current)==null?void 0:h.removeEventListener("change",u)}},[s,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:c}}function cN({respectReducedMotion:t,getRootElement:e}){v_(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}aN();function uN({theme:t,children:e,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:c=QP(),defaultColorScheme:u="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:h,forceColorScheme:p,stylesTransform:m}){const{colorScheme:g,setColorScheme:b,clearColorScheme:w}=lN({defaultColorScheme:u,forceColorScheme:p,manager:c,getRootElement:d});return cN({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:d}),N.jsx(w_.Provider,{value:{colorScheme:g,setColorScheme:b,clearColorScheme:w,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:h,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:m},children:N.jsxs(T_,{theme:t,children:[o&&N.jsx(A_,{cssVariablesSelector:a,deduplicateCssVariables:s}),i&&N.jsx(eN,{}),e]})})}uN.displayName="@mantine/core/MantineProvider";function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(null,arguments)}function vie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function bi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function k_(t){if(D.isValidElement(t)||h_.isValidElementType(t)||!bi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=k_(t[n])}),e}function Er(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return bi(t)&&bi(e)&&Object.keys(e).forEach(i=>{D.isValidElement(e[i])||h_.isValidElementType(e[i])?r[i]=e[i]:bi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&bi(t[i])?r[i]=Er(t[i],e[i],n):n.clone?r[i]=bi(e[i])?k_(e[i]):e[i]:r[i]=e[i]}),r}var zh={exports:{}},Uh,oE;function dN(){if(oE)return Uh;oE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Uh=t,Uh}var Hh,aE;function fN(){if(aE)return Hh;aE=1;var t=dN();function e(){}function n(){}return n.resetWarningCache=e,Hh=function(){function r(o,a,l,c,u,d){if(d!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Hh}var lE;function hN(){return lE||(lE=1,zh.exports=fN()()),zh.exports}var pN=hN();const bie=hf(pN);function $s(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function de(t){if(typeof t!="string")throw new Error($s(7));return t.charAt(0).toUpperCase()+t.slice(1)}function cE(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Yv(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function $u(t,e){var n,r,i;return D.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Vn(t){return t&&t.ownerDocument||document}function ur(t){return Vn(t).defaultView||window}function Cy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Ar=typeof window<"u"?D.useLayoutEffect:D.useEffect;let uE=0;function mN(t){const[e,n]=D.useState(t),r=t||e;return D.useEffect(()=>{e==null&&(uE+=1,n(`mui-${uE}`))},[e]),r}const gN={...ld},dE=gN.useId;function pc(t){if(dE!==void 0){const e=dE();return t??e}return mN(t)}function Ay({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=D.useRef(t!==void 0),[s,o]=D.useState(e),a=i?t:s,l=D.useCallback(c=>{i||o(c)},[]);return[a,l]}function Di(t){const e=D.useRef(t);return Ar(()=>{e.current=t}),D.useRef((...n)=>(0,e.current)(...n)).current}function vt(...t){return D.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Cy(n,e)})},t)}const fE={};function __(t,e){const n=D.useRef(fE);return n.current===fE&&(n.current=t(e)),n}const yN=[];function vN(t){D.useEffect(t,yN)}class gf{constructor(){Ya(this,"currentId",null);Ya(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Ya(this,"disposeEffect",()=>this.clear)}static create(){return new gf}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Es(){const t=__(gf.create).current;return vN(t.disposeEffect),t}function ia(t){try{return t.matches(":focus-visible")}catch{}return!1}function I_(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Qv(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=Qv(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function Ie(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}const hE=t=>t,bN=()=>{let t=hE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=hE}}},R_=bN(),wN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Re(t,e,n="Mui"){const r=wN[e];return r?`${n}-${r}`:`${R_.generate(t)}-${e}`}function Ae(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Re(t,i,n)}),r}function EN(t){return typeof t=="string"}function M_(t,e,n){return t===void 0||EN(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function D_(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function pE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function O_(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=le(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},g={...n,...i,...r};return p.length>0&&(g.className=p),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const o=D_({...i,...r}),a=pE(r),l=pE(i),c=e(o),u=le(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...c,...n,...l,...a};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function P_(t,e,n){return typeof t=="function"?t(e,n):t}function cd(t){var d;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=t,o=i?{}:P_(n,r),{props:a,internalRef:l}=O_({...s,externalSlotProps:o}),c=vt(l,o==null?void 0:o.ref,(d=t.additionalProps)==null?void 0:d.ref);return M_(e,{...a,ref:c},r)}function to(t){var e;return parseInt(D.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}function ky(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function yf(t){if(typeof t!="string")throw new Error(ky(7));return t.charAt(0).toUpperCase()+t.slice(1)}function wi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function N_(t){if(D.isValidElement(t)||p_.isValidElementType(t)||!wi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=N_(t[n])}),e}function Rs(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return wi(t)&&wi(e)&&Object.keys(e).forEach(i=>{D.isValidElement(e[i])||p_.isValidElementType(e[i])?r[i]=e[i]:wi(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&wi(t[i])?r[i]=Rs(t[i],e[i],n):n.clone?r[i]=wi(e[i])?N_(e[i]):e[i]:r[i]=e[i]}),r}function El(t,e){return e?Rs(t,e,{clone:!1}):t}function xN(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function SN(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function TN(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function CN(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const vf={xs:0,sm:600,md:900,lg:1200,xl:1536},mE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${vf[t]}px)`},AN={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:vf[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ni(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||mE;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||mE;return Object.keys(e).reduce((o,a)=>{if(SN(s.keys,a)){const l=TN(r.containerQueries?r:AN,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||vf).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function kN(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function _N(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Ai(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function ud(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Ai(t,n)||r,e&&(i=e(i,r,t)),i}function _t(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Ai(l,r)||{};return ni(o,a,d=>{let h=ud(c,i,d);return d===h&&typeof d=="string"&&(h=ud(c,i,`${e}${d==="default"?"":yf(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function IN(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const RN={m:"margin",p:"padding"},MN={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},gE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},DN=IN(t=>{if(t.length>2)if(gE[t])t=gE[t];else return[t];const[e,n]=t.split(""),r=RN[e],i=MN[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Jv=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Xv=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Jv,...Xv];function mc(t,e,n,r){const i=Ai(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function Zv(t){return mc(t,"spacing",8)}function gc(t,e){return typeof e=="string"||e==null?e:t(e)}function ON(t,e){return n=>t.reduce((r,i)=>(r[i]=gc(e,n),r),{})}function PN(t,e,n,r){if(!e.includes(n))return null;const i=DN(n),s=ON(i,r),o=t[n];return ni(t,o,s)}function L_(t,e){const n=Zv(t.theme);return Object.keys(t).map(r=>PN(t,e,r,n)).reduce(El,{})}function Et(t){return L_(t,Jv)}Et.propTypes={};Et.filterProps=Jv;function xt(t){return L_(t,Xv)}xt.propTypes={};xt.filterProps=Xv;function bf(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?El(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Hn(t){return typeof t!="number"?t:`${t}px solid`}function Zn(t,e){return _t({prop:t,themeKey:"borders",transform:e})}const NN=Zn("border",Hn),LN=Zn("borderTop",Hn),BN=Zn("borderRight",Hn),VN=Zn("borderBottom",Hn),FN=Zn("borderLeft",Hn),$N=Zn("borderColor"),jN=Zn("borderTopColor"),zN=Zn("borderRightColor"),UN=Zn("borderBottomColor"),HN=Zn("borderLeftColor"),WN=Zn("outline",Hn),qN=Zn("outlineColor"),wf=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=mc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:gc(e,r)});return ni(t,t.borderRadius,n)}return null};wf.propTypes={};wf.filterProps=["borderRadius"];bf(NN,LN,BN,VN,FN,$N,jN,zN,UN,HN,wf,WN,qN);const Ef=t=>{if(t.gap!==void 0&&t.gap!==null){const e=mc(t.theme,"spacing",8),n=r=>({gap:gc(e,r)});return ni(t,t.gap,n)}return null};Ef.propTypes={};Ef.filterProps=["gap"];const xf=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=mc(t.theme,"spacing",8),n=r=>({columnGap:gc(e,r)});return ni(t,t.columnGap,n)}return null};xf.propTypes={};xf.filterProps=["columnGap"];const Sf=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=mc(t.theme,"spacing",8),n=r=>({rowGap:gc(e,r)});return ni(t,t.rowGap,n)}return null};Sf.propTypes={};Sf.filterProps=["rowGap"];const GN=_t({prop:"gridColumn"}),KN=_t({prop:"gridRow"}),YN=_t({prop:"gridAutoFlow"}),QN=_t({prop:"gridAutoColumns"}),JN=_t({prop:"gridAutoRows"}),XN=_t({prop:"gridTemplateColumns"}),ZN=_t({prop:"gridTemplateRows"}),e2=_t({prop:"gridTemplateAreas"}),t2=_t({prop:"gridArea"});bf(Ef,xf,Sf,GN,KN,YN,QN,JN,XN,ZN,e2,t2);function qo(t,e){return e==="grey"?e:t}const n2=_t({prop:"color",themeKey:"palette",transform:qo}),r2=_t({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:qo}),i2=_t({prop:"backgroundColor",themeKey:"palette",transform:qo});bf(n2,r2,i2);function Nn(t){return t<=1&&t!==0?`${t*100}%`:t}const s2=_t({prop:"width",transform:Nn}),eb=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||vf[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Nn(n)}};return ni(t,t.maxWidth,e)}return null};eb.filterProps=["maxWidth"];const o2=_t({prop:"minWidth",transform:Nn}),a2=_t({prop:"height",transform:Nn}),l2=_t({prop:"maxHeight",transform:Nn}),c2=_t({prop:"minHeight",transform:Nn});_t({prop:"size",cssProperty:"width",transform:Nn});_t({prop:"size",cssProperty:"height",transform:Nn});const u2=_t({prop:"boxSizing"});bf(s2,eb,o2,a2,l2,c2,u2);const yc={border:{themeKey:"borders",transform:Hn},borderTop:{themeKey:"borders",transform:Hn},borderRight:{themeKey:"borders",transform:Hn},borderBottom:{themeKey:"borders",transform:Hn},borderLeft:{themeKey:"borders",transform:Hn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Hn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wf},color:{themeKey:"palette",transform:qo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:qo},backgroundColor:{themeKey:"palette",transform:qo},p:{style:xt},pt:{style:xt},pr:{style:xt},pb:{style:xt},pl:{style:xt},px:{style:xt},py:{style:xt},padding:{style:xt},paddingTop:{style:xt},paddingRight:{style:xt},paddingBottom:{style:xt},paddingLeft:{style:xt},paddingX:{style:xt},paddingY:{style:xt},paddingInline:{style:xt},paddingInlineStart:{style:xt},paddingInlineEnd:{style:xt},paddingBlock:{style:xt},paddingBlockStart:{style:xt},paddingBlockEnd:{style:xt},m:{style:Et},mt:{style:Et},mr:{style:Et},mb:{style:Et},ml:{style:Et},mx:{style:Et},my:{style:Et},margin:{style:Et},marginTop:{style:Et},marginRight:{style:Et},marginBottom:{style:Et},marginLeft:{style:Et},marginX:{style:Et},marginY:{style:Et},marginInline:{style:Et},marginInlineStart:{style:Et},marginInlineEnd:{style:Et},marginBlock:{style:Et},marginBlockStart:{style:Et},marginBlockEnd:{style:Et},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ef},rowGap:{style:Sf},columnGap:{style:xf},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Nn},maxWidth:{style:eb},minWidth:{transform:Nn},height:{transform:Nn},maxHeight:{transform:Nn},minHeight:{transform:Nn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function d2(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function f2(t,e){return typeof t=="function"?t(e):t}function h2(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=Ai(i,c)||{};return d?d(o):ni(o,r,m=>{let g=ud(h,u,m);return m===g&&typeof m=="string"&&(g=ud(h,u,`${n}${m==="default"?"":yf(m)}`,m)),l===!1?g:{[l]:g}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??yc;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=kN(i.breakpoints),u=Object.keys(c);let d=c;return Object.keys(l).forEach(h=>{const p=f2(l[h],i);if(p!=null)if(typeof p=="object")if(s[h])d=El(d,t(h,p,i,s));else{const m=ni({theme:i},p,g=>({[h]:g}));d2(m,p)?d[h]=e({sx:p,theme:i}):d=El(d,m)}else d=El(d,t(h,p,i,s))}),xN(i,_N(u,d))}return Array.isArray(r)?r.map(o):o(r)}return e}const js=h2();js.filterProps=["sx"];const p2=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??yc;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function B_(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=p2(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return wi(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}function m2(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function g2(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var y2=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(g2(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=m2(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),on="-ms-",dd="-moz-",Ye="-webkit-",V_="comm",tb="rule",nb="decl",v2="@import",F_="@keyframes",b2="@layer",w2=Math.abs,Tf=String.fromCharCode,E2=Object.assign;function x2(t,e){return Qt(t,0)^45?(((e<<2^Qt(t,0))<<2^Qt(t,1))<<2^Qt(t,2))<<2^Qt(t,3):0}function $_(t){return t.trim()}function S2(t,e){return(t=e.exec(t))?t[0]:t}function Qe(t,e,n){return t.replace(e,n)}function _y(t,e){return t.indexOf(e)}function Qt(t,e){return t.charCodeAt(e)|0}function $l(t,e,n){return t.slice(e,n)}function vr(t){return t.length}function rb(t){return t.length}function cu(t,e){return e.push(t),t}function T2(t,e){return t.map(e).join("")}var Cf=1,sa=1,j_=0,Rn=0,Rt=0,Aa="";function Af(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Cf,column:sa,length:o,return:""}}function Za(t,e){return E2(Af("",null,null,"",null,null,0),t,{length:-t.length},e)}function C2(){return Rt}function A2(){return Rt=Rn>0?Qt(Aa,--Rn):0,sa--,Rt===10&&(sa=1,Cf--),Rt}function Bn(){return Rt=Rn<j_?Qt(Aa,Rn++):0,sa++,Rt===10&&(sa=1,Cf++),Rt}function xr(){return Qt(Aa,Rn)}function ju(){return Rn}function vc(t,e){return $l(Aa,t,e)}function jl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function z_(t){return Cf=sa=1,j_=vr(Aa=t),Rn=0,[]}function U_(t){return Aa="",t}function zu(t){return $_(vc(Rn-1,Iy(t===91?t+2:t===40?t+1:t)))}function k2(t){for(;(Rt=xr())&&Rt<33;)Bn();return jl(t)>2||jl(Rt)>3?"":" "}function _2(t,e){for(;--e&&Bn()&&!(Rt<48||Rt>102||Rt>57&&Rt<65||Rt>70&&Rt<97););return vc(t,ju()+(e<6&&xr()==32&&Bn()==32))}function Iy(t){for(;Bn();)switch(Rt){case t:return Rn;case 34:case 39:t!==34&&t!==39&&Iy(Rt);break;case 40:t===41&&Iy(t);break;case 92:Bn();break}return Rn}function I2(t,e){for(;Bn()&&t+Rt!==57;)if(t+Rt===84&&xr()===47)break;return"/*"+vc(e,Rn-1)+"*"+Tf(t===47?t:Bn())}function R2(t){for(;!jl(xr());)Bn();return vc(t,Rn)}function M2(t){return U_(Uu("",null,null,null,[""],t=z_(t),0,[0],t))}function Uu(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,m=0,g=1,b=1,w=1,A=0,C="",I=i,P=s,O=r,S=C;b;)switch(m=A,A=Bn()){case 40:if(m!=108&&Qt(S,d-1)==58){_y(S+=Qe(zu(A),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:S+=zu(A);break;case 9:case 10:case 13:case 32:S+=k2(m);break;case 92:S+=_2(ju()-1,7);continue;case 47:switch(xr()){case 42:case 47:cu(D2(I2(Bn(),ju()),e,n),l);break;default:S+="/"}break;case 123*g:a[c++]=vr(S)*w;case 125*g:case 59:case 0:switch(A){case 0:case 125:b=0;case 59+u:w==-1&&(S=Qe(S,/\f/g,"")),p>0&&vr(S)-d&&cu(p>32?vE(S+";",r,n,d-1):vE(Qe(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(cu(O=yE(S,e,n,c,u,i,a,C,I=[],P=[],d),s),A===123)if(u===0)Uu(S,e,O,O,I,s,d,a,P);else switch(h===99&&Qt(S,3)===110?100:h){case 100:case 108:case 109:case 115:Uu(t,O,O,r&&cu(yE(t,O,O,0,0,i,a,C,i,I=[],d),P),i,P,d,a,r?I:P);break;default:Uu(S,O,O,O,[""],P,0,a,P)}}c=u=p=0,g=w=1,C=S="",d=o;break;case 58:d=1+vr(S),p=m;default:if(g<1){if(A==123)--g;else if(A==125&&g++==0&&A2()==125)continue}switch(S+=Tf(A),A*g){case 38:w=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(vr(S)-1)*w,w=1;break;case 64:xr()===45&&(S+=zu(Bn())),h=xr(),u=d=vr(C=S+=R2(ju())),A++;break;case 45:m===45&&vr(S)==2&&(g=0)}}return s}function yE(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=rb(h),m=0,g=0,b=0;m<r;++m)for(var w=0,A=$l(t,d+1,d=w2(g=o[m])),C=t;w<p;++w)(C=$_(g>0?h[w]+" "+A:Qe(A,/&\f/g,h[w])))&&(l[b++]=C);return Af(t,e,n,i===0?tb:a,l,c,u)}function D2(t,e,n){return Af(t,e,n,V_,Tf(C2()),$l(t,2,-2),0)}function vE(t,e,n,r){return Af(t,e,n,nb,$l(t,0,r),$l(t,r+1,-1),r)}function Go(t,e){for(var n="",r=rb(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function O2(t,e,n,r){switch(t.type){case b2:if(t.children.length)break;case v2:case nb:return t.return=t.return||t.value;case V_:return"";case F_:return t.return=t.value+"{"+Go(t.children,r)+"}";case tb:t.value=t.props.join(",")}return vr(n=Go(t.children,r))?t.return=t.value+"{"+n+"}":""}function P2(t){var e=rb(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function N2(t){return function(e){e.root||(e=e.return)&&t(e)}}function H_(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var L2=function(e,n,r){for(var i=0,s=0;i=s,s=xr(),i===38&&s===12&&(n[r]=1),!jl(s);)Bn();return vc(e,Rn)},B2=function(e,n){var r=-1,i=44;do switch(jl(i)){case 0:i===38&&xr()===12&&(n[r]=1),e[r]+=L2(Rn-1,n,r);break;case 2:e[r]+=zu(i);break;case 4:if(i===44){e[++r]=xr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Tf(i)}while(i=Bn());return e},V2=function(e,n){return U_(B2(z_(e),n))},bE=new WeakMap,F2=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!bE.get(r))&&!i){bE.set(e,!0);for(var s=[],o=V2(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},$2=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function W_(t,e){switch(x2(t,e)){case 5103:return Ye+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ye+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ye+t+dd+t+on+t+t;case 6828:case 4268:return Ye+t+on+t+t;case 6165:return Ye+t+on+"flex-"+t+t;case 5187:return Ye+t+Qe(t,/(\w+).+(:[^]+)/,Ye+"box-$1$2"+on+"flex-$1$2")+t;case 5443:return Ye+t+on+"flex-item-"+Qe(t,/flex-|-self/,"")+t;case 4675:return Ye+t+on+"flex-line-pack"+Qe(t,/align-content|flex-|-self/,"")+t;case 5548:return Ye+t+on+Qe(t,"shrink","negative")+t;case 5292:return Ye+t+on+Qe(t,"basis","preferred-size")+t;case 6060:return Ye+"box-"+Qe(t,"-grow","")+Ye+t+on+Qe(t,"grow","positive")+t;case 4554:return Ye+Qe(t,/([^-])(transform)/g,"$1"+Ye+"$2")+t;case 6187:return Qe(Qe(Qe(t,/(zoom-|grab)/,Ye+"$1"),/(image-set)/,Ye+"$1"),t,"")+t;case 5495:case 3959:return Qe(t,/(image-set\([^]*)/,Ye+"$1$`$1");case 4968:return Qe(Qe(t,/(.+:)(flex-)?(.*)/,Ye+"box-pack:$3"+on+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ye+t+t;case 4095:case 3583:case 4068:case 2532:return Qe(t,/(.+)-inline(.+)/,Ye+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vr(t)-1-e>6)switch(Qt(t,e+1)){case 109:if(Qt(t,e+4)!==45)break;case 102:return Qe(t,/(.+:)(.+)-([^]+)/,"$1"+Ye+"$2-$3$1"+dd+(Qt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~_y(t,"stretch")?W_(Qe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Qt(t,e+1)!==115)break;case 6444:switch(Qt(t,vr(t)-3-(~_y(t,"!important")&&10))){case 107:return Qe(t,":",":"+Ye)+t;case 101:return Qe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ye+(Qt(t,14)===45?"inline-":"")+"box$3$1"+Ye+"$2$3$1"+on+"$2box$3")+t}break;case 5936:switch(Qt(t,e+11)){case 114:return Ye+t+on+Qe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ye+t+on+Qe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ye+t+on+Qe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ye+t+on+t+t}return t}var j2=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case nb:e.return=W_(e.value,e.length);break;case F_:return Go([Za(e,{value:Qe(e.value,"@","@"+Ye)})],i);case tb:if(e.length)return T2(e.props,function(s){switch(S2(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Go([Za(e,{props:[Qe(s,/:(read-\w+)/,":"+dd+"$1")]})],i);case"::placeholder":return Go([Za(e,{props:[Qe(s,/:(plac\w+)/,":"+Ye+"input-$1")]}),Za(e,{props:[Qe(s,/:(plac\w+)/,":"+dd+"$1")]}),Za(e,{props:[Qe(s,/:(plac\w+)/,on+"input-$1")]})],i)}return""})}},z2=[j2],wie=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var b=g.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||z2,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var b=g.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)s[b[w]]=!0;a.push(g)});var l,c=[F2,$2];{var u,d=[O2,N2(function(g){u.insert(g)})],h=P2(c.concat(i,d)),p=function(b){return Go(M2(b),h)};l=function(b,w,A,C){u=A,p(b?b+"{"+w.styles+"}":w.styles),C&&(m.inserted[w.name]=!0)}}var m={key:n,sheet:new y2({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},U2=!0;function H2(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var q_=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||U2===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},W2=function(e,n,r){q_(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function q2(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var G2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},K2=/[A-Z]|^ms/g,Y2=/_EMO_([^_]+?)_([^]*?)_EMO_/g,G_=function(e){return e.charCodeAt(1)===45},wE=function(e){return e!=null&&typeof e!="boolean"},Wh=H_(function(t){return G_(t)?t:t.replace(K2,"-$&").toLowerCase()}),EE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Y2,function(r,i,s){return br={name:i,styles:s,next:br},i})}return G2[e]!==1&&!G_(e)&&typeof n=="number"&&n!==0?n+"px":n};function zl(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return br={name:i.name,styles:i.styles,next:br},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)br={name:o.name,styles:o.styles,next:br},o=o.next;var a=s.styles+";";return a}return Q2(t,e,n)}case"function":{if(t!==void 0){var l=br,c=n(t);return br=l,zl(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function Q2(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=zl(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":wE(a)&&(r+=Wh(s)+":"+EE(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)wE(o[l])&&(r+=Wh(s)+":"+EE(s,o[l])+";");else{var c=zl(t,e,o);switch(s){case"animation":case"animationName":{r+=Wh(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var xE=/label:\s*([^\s;{]+)\s*(;|$)/g,br;function K_(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";br=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=zl(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=zl(n,e,t[a]),r){var l=s;i+=l[a]}xE.lastIndex=0;for(var c="",u;(u=xE.exec(i))!==null;)c+="-"+u[1];var d=q2(i)+c;return{name:d,styles:i,next:br}}var J2=function(e){return e()},Y_=ld.useInsertionEffect?ld.useInsertionEffect:!1,X2=Y_||J2,Eie=Y_||D.useLayoutEffect,Z2=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,eL=H_(function(t){return Z2.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),tL=eL,nL=function(e){return e!=="theme"},SE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?tL:nL},TE=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},rL=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return q_(n,r,i),X2(function(){return W2(n,r,i)}),null},iL=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=TE(e,n,r),l=a||SE(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var h=u[0];d.push(h[0]);for(var p=u.length,m=1;m<p;m++)d.push(u[m],h[m])}var g=IP(function(b,w,A){var C=c&&b.as||i,I="",P=[],O=b;if(b.theme==null){O={};for(var S in b)O[S]=b[S];O.theme=D.useContext(m_)}typeof b.className=="string"?I=H2(w.registered,P,b.className):b.className!=null&&(I=b.className+" ");var x=K_(d.concat(P),w.registered,O);I+=w.key+"-"+x.name,o!==void 0&&(I+=" "+o);var T=c&&a===void 0?SE(C):l,v={};for(var k in b)c&&k==="as"||T(k)&&(v[k]=b[k]);return v.className=I,A&&(v.ref=A),D.createElement(D.Fragment,null,D.createElement(rL,{cache:w,serialized:x,isStringTag:typeof C=="string"}),D.createElement(C,v))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(b,w){var A=t(b,Ty({},n,w,{shouldForwardProp:TE(g,w,!0)}));return A.apply(void 0,d)},g}},sL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ry=iL.bind(null);sL.forEach(function(t){Ry[t]=Ry(t)});function oL(t){return t==null||Object.keys(t).length===0}function aL(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(oL(i)?n:i):e;return N.jsx(RP,{styles:r})}/**
 * @mui/styled-engine v6.4.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Q_(t,e){return Ry(t,e)}function lL(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const CE=[];function AE(t){return CE[0]=t,K_(CE)}const cL=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function uL(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=cL(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n,...i}}const dL={borderRadius:4};function J_(t=8,e=Zv({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function fL(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function kf(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=uL(n),l=J_(i);let c=Rs({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...dL,...s}},o);return c=CN(c),c.applyStyles=fL,c=e.reduce((u,d)=>Rs(u,d),c),c.unstable_sxConfig={...yc,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(d){return js({sx:d,theme:this})},c}function hL(t){return Object.keys(t).length===0}function X_(t=null){const e=D.useContext(m_);return!e||hL(e)?t:e}const pL=kf();function _f(t=pL){return X_(t)}function mL({styles:t,themeId:e,defaultTheme:n={}}){const r=_f(n),i=typeof t=="function"?t(e&&r[e]||r):t;return N.jsx(aL,{styles:i})}const kE=t=>t,gL=()=>{let t=kE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=kE}}},yL=gL();function vL(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=Q_("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(js);return D.forwardRef(function(l,c){const u=_f(n),{className:d,component:h="div",...p}=B_(l);return N.jsx(s,{as:h,ref:c,className:le(d,i?i(r):r),theme:e&&u[e]||u,...p})})}const bL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function wL(t,e,n="Mui"){const r=bL[e];return r?`${n}-${r}`:`${yL.generate(t)}-${e}`}function Z_(t){const{variants:e,...n}=t,r={variants:e,style:AE(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=AE(i.style))}),r}const EL=kf();function qh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function xL(t){return t?(e,n)=>n[t]:null}function SL(t,e,n){t.theme=CL(t.theme)?n:t.theme[e]||t.theme}function Hu(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Hu(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return eI(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function eI(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function tI(t={}){const{themeId:e,defaultTheme:n=EL,rootShouldForwardProp:r=qh,slotShouldForwardProp:i=qh}=t;function s(a){SL(a,e,n)}return(a,l={})=>{lL(a,P=>P.filter(O=>O!==js));const{name:c,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:p=xL(kL(u)),...m}=l,g=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,b=h||!1;let w=qh;u==="Root"||u==="root"?w=r:u?w=i:AL(a)&&(w=void 0);const A=Q_(a,{shouldForwardProp:w,label:TL(),...m}),C=P=>{if(typeof P=="function"&&P.__emotion_real!==P)return function(S){return Hu(S,P)};if(wi(P)){const O=Z_(P);return O.variants?function(x){return Hu(x,O)}:O.style}return P},I=(...P)=>{const O=[],S=P.map(C),x=[];if(O.push(s),c&&p&&x.push(function(M){var U,G;const W=(G=(U=M.theme.components)==null?void 0:U[c])==null?void 0:G.styleOverrides;if(!W)return null;const $={};for(const B in W)$[B]=Hu(M,W[B]);return p(M,$)}),c&&!g&&x.push(function(M){var $,U;const _=M.theme,W=(U=($=_==null?void 0:_.components)==null?void 0:$[c])==null?void 0:U.variants;return W?eI(M,W):null}),b||x.push(js),Array.isArray(S[0])){const k=S.shift(),M=new Array(O.length).fill(""),_=new Array(x.length).fill("");let W;W=[...M,...k,..._],W.raw=[...M,...k.raw,..._],O.unshift(W)}const T=[...O,...S,...x],v=A(...T);return a.muiName&&(v.muiName=a.muiName),v};return A.withConfig&&(I.withConfig=A.withConfig),I}}function TL(t,e){return void 0}function CL(t){for(const e in t)return!1;return!0}function AL(t){return typeof t=="string"&&t.charCodeAt(0)>96}function kL(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const _L=tI();function fd(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=fd(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function nI(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:fd(e.components[n].defaultProps,r)}function IL({props:t,name:e,defaultTheme:n,themeId:r}){let i=_f(n);return r&&(i=i[r]||i),nI({theme:i,name:e,props:t})}const RL=typeof window<"u"?D.useLayoutEffect:D.useEffect;function ML(t,e,n,r,i){const[s,o]=D.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return RL(()=>{if(!n)return;const a=n(t),l=()=>{o(a.matches)};return l(),a.addEventListener("change",l),()=>{a.removeEventListener("change",l)}},[t,n]),s}const DL={...ld},rI=DL.useSyncExternalStore;function OL(t,e,n,r,i){const s=D.useCallback(()=>e,[e]),o=D.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:u}=r(t);return()=>u}return s},[s,t,r,i,n]),[a,l]=D.useMemo(()=>{if(n===null)return[s,()=>()=>{}];const u=n(t);return[()=>u.matches,d=>(u.addEventListener("change",d),()=>{u.removeEventListener("change",d)})]},[s,n,t]);return rI(l,a,o)}function PL(t={}){const{themeId:e}=t;return function(r,i={}){let s=X_();s&&e&&(s=s[e]||s);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:l=o?window.matchMedia:null,ssrMatchMedia:c=null,noSsr:u=!1}=nI({name:"MuiUseMediaQuery",props:i,theme:s});let d=typeof r=="function"?r(s):r;return d=d.replace(/^@media( ?)/m,""),(rI!==void 0?OL:ML)(d,a,l,c,u)}}function NL(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function ib(t,e=0,n=1){return NL(t,e,n)}function LL(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ji(t){if(t.type)return t;if(t.charAt(0)==="#")return ji(LL(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ky(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ky(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const BL=t=>{const e=ji(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},ul=(t,e)=>{try{return BL(t)}catch{return t}};function If(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function iI(t){t=ji(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),If({type:a,values:l})}function My(t){t=ji(t);let e=t.type==="hsl"||t.type==="hsla"?ji(iI(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function VL(t,e){const n=My(t),r=My(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function We(t,e){return t=ji(t),e=ib(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,If(t)}function uu(t,e,n){try{return We(t,e)}catch{return t}}function Ul(t,e){if(t=ji(t),e=ib(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return If(t)}function st(t,e,n){try{return Ul(t,e)}catch{return t}}function Rf(t,e){if(t=ji(t),e=ib(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return If(t)}function ot(t,e,n){try{return Rf(t,e)}catch{return t}}function Dy(t,e=.15){return My(t)>.5?Ul(t,e):Rf(t,e)}function du(t,e,n){try{return Dy(t,e)}catch{return t}}const FL=D.createContext(),Mf=()=>D.useContext(FL)??!1,$L=D.createContext(void 0);function jL(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?fd(i.defaultProps,r):!i.styleOverrides&&!i.variants?fd(i,r):r}function zL({props:t,name:e}){const n=D.useContext($L);return jL({props:t,name:e,theme:{components:n}})}const _E={theme:void 0};function UL(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(_E.theme=i.theme,s=Z_(t(_E)),e=s,n=i.theme),s}}function HL(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const IE=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},WL=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},qL=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Gh(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return WL(t,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const u=`--${n?`${n}-`:""}${a.join("-")}`,d=qL(a,l);Object.assign(i,{[u]:d}),IE(s,a,`var(${u})`,c),IE(o,a,`var(${u}, ${d})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function GL(t,e={}){const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:c,css:u,varsWithDefaults:d}=Gh(l,e);let h=d;const p={},{[a]:m,...g}=s;if(Object.entries(g||{}).forEach(([C,I])=>{const{vars:P,css:O,varsWithDefaults:S}=Gh(I,e);h=Rs(h,S),p[C]={css:O,vars:P}}),m){const{css:C,vars:I,varsWithDefaults:P}=Gh(m,e);h=Rs(h,P),p[a]={css:C,vars:I}}function b(C,I){var O,S;let P=i;if(i==="class"&&(P=".%s"),i==="data"&&(P="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(P=`[${i}="%s"]`),C){if(P==="media")return t.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${((S=(O=s[C])==null?void 0:O.palette)==null?void 0:S.mode)||C})`]:{":root":I}};if(P)return t.defaultColorScheme===C?`:root, ${P.replace("%s",String(C))}`:P.replace("%s",String(C))}return":root"}return{vars:h,generateThemeVars:()=>{let C={...c};return Object.entries(p).forEach(([,{vars:I}])=>{C=Rs(C,I)}),C},generateStyleSheets:()=>{var x,T;const C=[],I=t.defaultColorScheme||"light";function P(v,k){Object.keys(k).length&&C.push(typeof v=="string"?{[v]:{...k}}:v)}P(n(void 0,{...u}),u);const{[I]:O,...S}=p;if(O){const{css:v}=O,k=(T=(x=s[I])==null?void 0:x.palette)==null?void 0:T.mode,M=!r&&k?{colorScheme:k,...v}:{...v};P(n(I,{...M}),M)}return Object.entries(S).forEach(([v,{css:k}])=>{var W,$;const M=($=(W=s[v])==null?void 0:W.palette)==null?void 0:$.mode,_=!r&&M?{colorScheme:M,...k}:{...k};P(n(v,{..._}),_)}),C}}}function KL(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function YL(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}const QL=kf(),JL=_L("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${yf(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),XL=t=>IL({props:t,name:"MuiContainer",defaultTheme:QL}),ZL=(t,e)=>{const n=l=>wL(e,l),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${yf(String(o))}`,i&&"fixed",s&&"disableGutters"]};return YL(a,n,r)};function eB(t={}){const{createStyledComponent:e=JL,useThemeProps:n=XL,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,c)=>{const u=c,d=o.breakpoints.values[u];return d!==0&&(l[o.breakpoints.up(u)]={maxWidth:`${d}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>({...a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},...a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}}));return D.forwardRef(function(a,l){const c=n(a),{className:u,component:d="div",disableGutters:h=!1,fixed:p=!1,maxWidth:m="lg",classes:g,...b}=c,w={...c,component:d,disableGutters:h,fixed:p,maxWidth:m},A=ZL(w,r);return N.jsx(i,{as:d,ownerState:w,className:le(A.root,u),ref:l,...b})})}const Hl={black:"#000",white:"#fff"},tB={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Co={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ao={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},el={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ko={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},_o={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Io={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function sI(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hl.white,default:Hl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const nB=sI();function oI(){return{text:{primary:Hl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const RE=oI();function ME(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Rf(t.main,i):e==="dark"&&(t.dark=Ul(t.main,s)))}function rB(t="light"){return t==="dark"?{main:ko[200],light:ko[50],dark:ko[400]}:{main:ko[700],light:ko[400],dark:ko[800]}}function iB(t="light"){return t==="dark"?{main:Co[200],light:Co[50],dark:Co[400]}:{main:Co[500],light:Co[300],dark:Co[700]}}function sB(t="light"){return t==="dark"?{main:Ao[500],light:Ao[300],dark:Ao[700]}:{main:Ao[700],light:Ao[400],dark:Ao[800]}}function oB(t="light"){return t==="dark"?{main:_o[400],light:_o[300],dark:_o[700]}:{main:_o[700],light:_o[500],dark:_o[900]}}function aB(t="light"){return t==="dark"?{main:Io[400],light:Io[300],dark:Io[700]}:{main:Io[800],light:Io[500],dark:Io[900]}}function lB(t="light"){return t==="dark"?{main:el[400],light:el[300],dark:el[700]}:{main:"#ed6c02",light:el[500],dark:el[900]}}function sb(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||rB(e),o=t.secondary||iB(e),a=t.error||sB(e),l=t.info||oB(e),c=t.success||aB(e),u=t.warning||lB(e);function d(g){return VL(g,RE.text.primary)>=n?RE.text.primary:nB.text.primary}const h=({color:g,name:b,mainShade:w=500,lightShade:A=300,darkShade:C=700})=>{if(g={...g},!g.main&&g[w]&&(g.main=g[w]),!g.hasOwnProperty("main"))throw new Error($s(11,b?` (${b})`:"",w));if(typeof g.main!="string")throw new Error($s(12,b?` (${b})`:"",JSON.stringify(g.main)));return ME(g,"light",A,r),ME(g,"dark",C,r),g.contrastText||(g.contrastText=d(g.main)),g};let p;return e==="light"?p=sI():e==="dark"&&(p=oI()),Er({common:{...Hl},mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:tB,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p},i)}function cB(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function uB(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function dB(t){return Math.round(t*1e5)/1e5}const DE={textTransform:"uppercase"},OE='"Roboto", "Helvetica", "Arial", sans-serif';function fB(t,e){const{fontFamily:n=OE,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}=typeof e=="function"?e(t):e,h=r/14,p=u||(b=>`${b/l*h}rem`),m=(b,w,A,C,I)=>({fontFamily:n,fontWeight:b,fontSize:p(w),lineHeight:A,...n===OE?{letterSpacing:`${dB(C/w)}em`}:{},...I,...c}),g={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(s,48,1.167,0),h4:m(s,34,1.235,.25),h5:m(s,24,1.334,0),h6:m(o,20,1.6,.15),subtitle1:m(s,16,1.75,.15),subtitle2:m(o,14,1.57,.1),body1:m(s,16,1.5,.15),body2:m(s,14,1.43,.15),button:m(o,14,1.75,.4,DE),caption:m(s,12,1.66,.4),overline:m(s,12,2.66,1,DE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Er({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...g},d,{clone:!1})}const hB=.2,pB=.14,mB=.12;function ht(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${hB})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${pB})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${mB})`].join(",")}const gB=["none",ht(0,2,1,-1,0,1,1,0,0,1,3,0),ht(0,3,1,-2,0,2,2,0,0,1,5,0),ht(0,3,3,-2,0,3,4,0,0,1,8,0),ht(0,2,4,-1,0,4,5,0,0,1,10,0),ht(0,3,5,-1,0,5,8,0,0,1,14,0),ht(0,3,5,-1,0,6,10,0,0,1,18,0),ht(0,4,5,-2,0,7,10,1,0,2,16,1),ht(0,5,5,-3,0,8,10,1,0,3,14,2),ht(0,5,6,-3,0,9,12,1,0,3,16,2),ht(0,6,6,-3,0,10,14,1,0,4,18,3),ht(0,6,7,-4,0,11,15,1,0,4,20,3),ht(0,7,8,-4,0,12,17,2,0,5,22,4),ht(0,7,8,-4,0,13,19,2,0,5,24,4),ht(0,7,9,-4,0,14,21,2,0,5,26,4),ht(0,8,9,-5,0,15,22,2,0,6,28,5),ht(0,8,10,-5,0,16,24,2,0,6,30,5),ht(0,8,11,-5,0,17,26,2,0,6,32,5),ht(0,9,11,-5,0,18,28,2,0,7,34,6),ht(0,9,12,-6,0,19,29,2,0,7,36,6),ht(0,10,13,-6,0,20,31,3,0,8,38,7),ht(0,10,13,-6,0,21,33,3,0,8,40,7),ht(0,10,14,-6,0,22,35,3,0,8,42,7),ht(0,11,14,-7,0,23,36,3,0,9,44,8),ht(0,11,15,-7,0,24,38,3,0,9,46,8)],yB={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},aI={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function PE(t){return`${Math.round(t)}ms`}function vB(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function bB(t){const e={...yB,...t.easing},n={...aI,...t.duration};return{getAutoHeightDuration:vB,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:PE(o)} ${a} ${typeof l=="string"?l:PE(l)}`).join(",")},...t,easing:e,duration:n}}const wB={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function EB(t){return bi(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function lI(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!EB(a)||o.startsWith("unstable_")?delete r[o]:bi(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Oy(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=t;if(t.vars)throw new Error($s(20));const u=sb(s),d=kf(t);let h=Er(d,{mixins:uB(d.breakpoints,r),palette:u,shadows:gB.slice(),typography:fB(u,a),transitions:bB(o),zIndex:{...wB}});return h=Er(h,c),h=e.reduce((p,m)=>Er(p,m),h),h.unstable_sxConfig={...yc,...c==null?void 0:c.unstable_sxConfig},h.unstable_sx=function(m){return js({sx:m,theme:this})},h.toRuntimeSource=lI,h}function Py(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const xB=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=Py(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function cI(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function uI(t){return t==="dark"?xB:[]}function SB(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=sb(e);return{palette:s,opacity:{...cI(s.mode),...n},overlays:r||uI(s.mode),...i}}function TB(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const CB=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],AB=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return CB(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function kB(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function H(t,e,n){!t[e]&&n&&(t[e]=n)}function dl(t){return typeof t!="string"||!t.startsWith("hsl")?t:iI(t)}function jr(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ul(dl(t[e])))}function _B(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const pr=t=>{try{return t()}catch{}},IB=(t="mui")=>HL(t);function Kh(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=SB({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=Oy({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...cI(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||uI(i)},o}function RB(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=TB,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=t,u=Object.keys(n)[0],d=r||(n.light&&u!=="light"?"light":u),h=IB(s),{[d]:p,light:m,dark:g,...b}=n,w={...b};let A=p;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(A=!0),!A)throw new Error($s(21,d));const C=Kh(w,A,c,d);m&&!w.light&&Kh(w,m,void 0,"light"),g&&!w.dark&&Kh(w,g,void 0,"dark");let I={defaultColorScheme:d,...C,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:w,font:{...cB(C.typography),...C.font},spacing:_B(c.spacing)};Object.keys(I.colorSchemes).forEach(T=>{const v=I.colorSchemes[T].palette,k=M=>{const _=M.split("-"),W=_[1],$=_[2];return h(M,v[W][$])};if(v.mode==="light"&&(H(v.common,"background","#fff"),H(v.common,"onBackground","#000")),v.mode==="dark"&&(H(v.common,"background","#000"),H(v.common,"onBackground","#fff")),kB(v,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),v.mode==="light"){H(v.Alert,"errorColor",st(v.error.light,.6)),H(v.Alert,"infoColor",st(v.info.light,.6)),H(v.Alert,"successColor",st(v.success.light,.6)),H(v.Alert,"warningColor",st(v.warning.light,.6)),H(v.Alert,"errorFilledBg",k("palette-error-main")),H(v.Alert,"infoFilledBg",k("palette-info-main")),H(v.Alert,"successFilledBg",k("palette-success-main")),H(v.Alert,"warningFilledBg",k("palette-warning-main")),H(v.Alert,"errorFilledColor",pr(()=>v.getContrastText(v.error.main))),H(v.Alert,"infoFilledColor",pr(()=>v.getContrastText(v.info.main))),H(v.Alert,"successFilledColor",pr(()=>v.getContrastText(v.success.main))),H(v.Alert,"warningFilledColor",pr(()=>v.getContrastText(v.warning.main))),H(v.Alert,"errorStandardBg",ot(v.error.light,.9)),H(v.Alert,"infoStandardBg",ot(v.info.light,.9)),H(v.Alert,"successStandardBg",ot(v.success.light,.9)),H(v.Alert,"warningStandardBg",ot(v.warning.light,.9)),H(v.Alert,"errorIconColor",k("palette-error-main")),H(v.Alert,"infoIconColor",k("palette-info-main")),H(v.Alert,"successIconColor",k("palette-success-main")),H(v.Alert,"warningIconColor",k("palette-warning-main")),H(v.AppBar,"defaultBg",k("palette-grey-100")),H(v.Avatar,"defaultBg",k("palette-grey-400")),H(v.Button,"inheritContainedBg",k("palette-grey-300")),H(v.Button,"inheritContainedHoverBg",k("palette-grey-A100")),H(v.Chip,"defaultBorder",k("palette-grey-400")),H(v.Chip,"defaultAvatarColor",k("palette-grey-700")),H(v.Chip,"defaultIconColor",k("palette-grey-700")),H(v.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),H(v.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),H(v.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),H(v.LinearProgress,"primaryBg",ot(v.primary.main,.62)),H(v.LinearProgress,"secondaryBg",ot(v.secondary.main,.62)),H(v.LinearProgress,"errorBg",ot(v.error.main,.62)),H(v.LinearProgress,"infoBg",ot(v.info.main,.62)),H(v.LinearProgress,"successBg",ot(v.success.main,.62)),H(v.LinearProgress,"warningBg",ot(v.warning.main,.62)),H(v.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.11)`),H(v.Slider,"primaryTrack",ot(v.primary.main,.62)),H(v.Slider,"secondaryTrack",ot(v.secondary.main,.62)),H(v.Slider,"errorTrack",ot(v.error.main,.62)),H(v.Slider,"infoTrack",ot(v.info.main,.62)),H(v.Slider,"successTrack",ot(v.success.main,.62)),H(v.Slider,"warningTrack",ot(v.warning.main,.62));const M=du(v.background.default,.8);H(v.SnackbarContent,"bg",M),H(v.SnackbarContent,"color",pr(()=>v.getContrastText(M))),H(v.SpeedDialAction,"fabHoverBg",du(v.background.paper,.15)),H(v.StepConnector,"border",k("palette-grey-400")),H(v.StepContent,"border",k("palette-grey-400")),H(v.Switch,"defaultColor",k("palette-common-white")),H(v.Switch,"defaultDisabledColor",k("palette-grey-100")),H(v.Switch,"primaryDisabledColor",ot(v.primary.main,.62)),H(v.Switch,"secondaryDisabledColor",ot(v.secondary.main,.62)),H(v.Switch,"errorDisabledColor",ot(v.error.main,.62)),H(v.Switch,"infoDisabledColor",ot(v.info.main,.62)),H(v.Switch,"successDisabledColor",ot(v.success.main,.62)),H(v.Switch,"warningDisabledColor",ot(v.warning.main,.62)),H(v.TableCell,"border",ot(uu(v.divider,1),.88)),H(v.Tooltip,"bg",uu(v.grey[700],.92))}if(v.mode==="dark"){H(v.Alert,"errorColor",ot(v.error.light,.6)),H(v.Alert,"infoColor",ot(v.info.light,.6)),H(v.Alert,"successColor",ot(v.success.light,.6)),H(v.Alert,"warningColor",ot(v.warning.light,.6)),H(v.Alert,"errorFilledBg",k("palette-error-dark")),H(v.Alert,"infoFilledBg",k("palette-info-dark")),H(v.Alert,"successFilledBg",k("palette-success-dark")),H(v.Alert,"warningFilledBg",k("palette-warning-dark")),H(v.Alert,"errorFilledColor",pr(()=>v.getContrastText(v.error.dark))),H(v.Alert,"infoFilledColor",pr(()=>v.getContrastText(v.info.dark))),H(v.Alert,"successFilledColor",pr(()=>v.getContrastText(v.success.dark))),H(v.Alert,"warningFilledColor",pr(()=>v.getContrastText(v.warning.dark))),H(v.Alert,"errorStandardBg",st(v.error.light,.9)),H(v.Alert,"infoStandardBg",st(v.info.light,.9)),H(v.Alert,"successStandardBg",st(v.success.light,.9)),H(v.Alert,"warningStandardBg",st(v.warning.light,.9)),H(v.Alert,"errorIconColor",k("palette-error-main")),H(v.Alert,"infoIconColor",k("palette-info-main")),H(v.Alert,"successIconColor",k("palette-success-main")),H(v.Alert,"warningIconColor",k("palette-warning-main")),H(v.AppBar,"defaultBg",k("palette-grey-900")),H(v.AppBar,"darkBg",k("palette-background-paper")),H(v.AppBar,"darkColor",k("palette-text-primary")),H(v.Avatar,"defaultBg",k("palette-grey-600")),H(v.Button,"inheritContainedBg",k("palette-grey-800")),H(v.Button,"inheritContainedHoverBg",k("palette-grey-700")),H(v.Chip,"defaultBorder",k("palette-grey-700")),H(v.Chip,"defaultAvatarColor",k("palette-grey-300")),H(v.Chip,"defaultIconColor",k("palette-grey-300")),H(v.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),H(v.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),H(v.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),H(v.LinearProgress,"primaryBg",st(v.primary.main,.5)),H(v.LinearProgress,"secondaryBg",st(v.secondary.main,.5)),H(v.LinearProgress,"errorBg",st(v.error.main,.5)),H(v.LinearProgress,"infoBg",st(v.info.main,.5)),H(v.LinearProgress,"successBg",st(v.success.main,.5)),H(v.LinearProgress,"warningBg",st(v.warning.main,.5)),H(v.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.13)`),H(v.Slider,"primaryTrack",st(v.primary.main,.5)),H(v.Slider,"secondaryTrack",st(v.secondary.main,.5)),H(v.Slider,"errorTrack",st(v.error.main,.5)),H(v.Slider,"infoTrack",st(v.info.main,.5)),H(v.Slider,"successTrack",st(v.success.main,.5)),H(v.Slider,"warningTrack",st(v.warning.main,.5));const M=du(v.background.default,.98);H(v.SnackbarContent,"bg",M),H(v.SnackbarContent,"color",pr(()=>v.getContrastText(M))),H(v.SpeedDialAction,"fabHoverBg",du(v.background.paper,.15)),H(v.StepConnector,"border",k("palette-grey-600")),H(v.StepContent,"border",k("palette-grey-600")),H(v.Switch,"defaultColor",k("palette-grey-300")),H(v.Switch,"defaultDisabledColor",k("palette-grey-600")),H(v.Switch,"primaryDisabledColor",st(v.primary.main,.55)),H(v.Switch,"secondaryDisabledColor",st(v.secondary.main,.55)),H(v.Switch,"errorDisabledColor",st(v.error.main,.55)),H(v.Switch,"infoDisabledColor",st(v.info.main,.55)),H(v.Switch,"successDisabledColor",st(v.success.main,.55)),H(v.Switch,"warningDisabledColor",st(v.warning.main,.55)),H(v.TableCell,"border",st(uu(v.divider,1),.68)),H(v.Tooltip,"bg",uu(v.grey[700],.92))}jr(v.background,"default"),jr(v.background,"paper"),jr(v.common,"background"),jr(v.common,"onBackground"),jr(v,"divider"),Object.keys(v).forEach(M=>{const _=v[M];M!=="tonalOffset"&&_&&typeof _=="object"&&(_.main&&H(v[M],"mainChannel",ul(dl(_.main))),_.light&&H(v[M],"lightChannel",ul(dl(_.light))),_.dark&&H(v[M],"darkChannel",ul(dl(_.dark))),_.contrastText&&H(v[M],"contrastTextChannel",ul(dl(_.contrastText))),M==="text"&&(jr(v[M],"primary"),jr(v[M],"secondary")),M==="action"&&(_.active&&jr(v[M],"active"),_.selected&&jr(v[M],"selected")))})}),I=e.reduce((T,v)=>Er(T,v),I);const P={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:AB(I)},{vars:O,generateThemeVars:S,generateStyleSheets:x}=GL(I,P);return I.vars=O,Object.entries(I.colorSchemes[I.defaultColorScheme]).forEach(([T,v])=>{I[T]=v}),I.generateThemeVars=S,I.generateStyleSheets=x,I.generateSpacing=function(){return J_(c.spacing,Zv(this))},I.getColorSchemeSelector=KL(a),I.spacing=I.generateSpacing(),I.shouldSkipGeneratingVar=o,I.unstable_sxConfig={...yc,...c==null?void 0:c.unstable_sxConfig},I.unstable_sx=function(v){return js({sx:v,theme:this})},I.toRuntimeSource=lI,I}function NE(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:sb({...n===!0?{}:n.palette,mode:e})})}function dI(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Oy(t,...e);let u=n;"palette"in t||c[a]&&(c[a]!==!0?u=c[a].palette:a==="dark"&&(u={mode:"dark"}));const d=Oy({...t,palette:u},...e);return d.defaultColorScheme=a,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},NE(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},NE(d,"light",c.light)),d}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),RB({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const ob=dI(),bc="$$material";function Ji(){const t=_f(ob);return t[bc]||t}function MB(t){return N.jsx(mL,{...t,defaultTheme:ob,themeId:bc})}function fI(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const $n=t=>fI(t)&&t!=="classes",X=tI({themeId:bc,defaultTheme:ob,rootShouldForwardProp:$n});function DB(t){return function(n){return N.jsx(MB,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function OB(){return B_}const Be=UL;function Me(t){return zL(t)}function PB(t){return Re("MuiSvgIcon",t)}const LE=Ae("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]),NB=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${de(e)}`,`fontSize${de(n)}`]};return Ie(i,PB,r)},LB=X("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${de(n.color)}`],e[`fontSize${de(n.fontSize)}`]]}})(Be(({theme:t})=>{var e,n,r,i,s,o,a,l,c,u,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:g=>!g.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,g])=>g&&g.main).map(([g])=>{var b,w;return{props:{color:g},style:{color:(w=(b=(t.vars??t).palette)==null?void 0:b[g])==null?void 0:w.main}}}),{props:{color:"action"},style:{color:(h=(d=(t.vars??t).palette)==null?void 0:d.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(m=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Ny=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=r,m=D.isValidElement(i)&&i.type==="svg",g={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m},b={};u||(b.viewBox=h);const w=NB(g);return N.jsxs(LB,{as:a,className:le(w.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...b,...p,...m&&i.props,ownerState:g,children:[m?i.props.children:i,d?N.jsx("title",{children:d}):null]})});Ny.muiName="SvgIcon";function mn(t,e){function n(r,i){return N.jsx(Ny,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=Ny.muiName,D.memo(D.forwardRef(n))}const xie=mn(N.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Sie=mn(N.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article"),Tie=mn(N.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),Cie=mn(N.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),Aie=mn(N.jsx("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"}),"Event"),BB=mn(N.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold"),VB=mn(N.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),kie=mn(N.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google"),_ie=mn(N.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),Iie=mn(N.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),Rie=mn(N.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"MenuOutlined"),Mie=mn(N.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),Die=mn(N.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),Oie=mn(N.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");function Ly(t,e){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ly(t,e)}function Pie(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ly(t,e)}function Nie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}const ab=t=>t.scrollTop;function zi(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function FB(t){return Re("MuiCollapse",t)}Ae("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const $B=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Ie(r,FB,n)},jB=X("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(Be(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),zB=X("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),UB=X("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),By=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiCollapse"}),{addEndListener:i,children:s,className:o,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:m,onExited:g,onExiting:b,orientation:w="vertical",style:A,timeout:C=aI.standard,TransitionComponent:I=pf,...P}=r,O={...r,orientation:w,collapsedSize:a},S=$B(O),x=Ji(),T=Es(),v=D.useRef(null),k=D.useRef(),M=typeof a=="number"?`${a}px`:a,_=w==="horizontal",W=_?"width":"height",$=D.useRef(null),U=vt(n,$),G=te=>ve=>{if(te){const Te=$.current;ve===void 0?te(Te):te(Te,ve)}},B=()=>v.current?v.current[_?"clientWidth":"clientHeight"]:0,z=G((te,ve)=>{v.current&&_&&(v.current.style.position="absolute"),te.style[W]=M,d&&d(te,ve)}),Q=G((te,ve)=>{const Te=B();v.current&&_&&(v.current.style.position="");const{duration:De,easing:me}=zi({style:A,timeout:C,easing:c},{mode:"enter"});if(C==="auto"){const xe=x.transitions.getAutoHeightDuration(Te);te.style.transitionDuration=`${xe}ms`,k.current=xe}else te.style.transitionDuration=typeof De=="string"?De:`${De}ms`;te.style[W]=`${Te}px`,te.style.transitionTimingFunction=me,p&&p(te,ve)}),ae=G((te,ve)=>{te.style[W]="auto",h&&h(te,ve)}),ce=G(te=>{te.style[W]=`${B()}px`,m&&m(te)}),oe=G(g),pe=G(te=>{const ve=B(),{duration:Te,easing:De}=zi({style:A,timeout:C,easing:c},{mode:"exit"});if(C==="auto"){const me=x.transitions.getAutoHeightDuration(ve);te.style.transitionDuration=`${me}ms`,k.current=me}else te.style.transitionDuration=typeof Te=="string"?Te:`${Te}ms`;te.style[W]=M,te.style.transitionTimingFunction=De,b&&b(te)}),fe=te=>{C==="auto"&&T.start(k.current||0,te),i&&i($.current,te)};return N.jsx(I,{in:u,onEnter:z,onEntered:ae,onEntering:Q,onExit:ce,onExited:oe,onExiting:pe,addEndListener:fe,nodeRef:$,timeout:C==="auto"?null:C,...P,children:(te,{ownerState:ve,...Te})=>N.jsx(jB,{as:l,className:le(S.root,o,{entered:S.entered,exited:!u&&M==="0px"&&S.hidden}[te]),style:{[_?"minWidth":"minHeight"]:M,...A},ref:U,ownerState:{...O,state:te},...Te,children:N.jsx(zB,{ownerState:{...O,state:te},className:S.wrapper,ref:v,children:N.jsx(UB,{ownerState:{...O,state:te},className:S.wrapperInner,children:s})})})})});By&&(By.muiSupportAuto=!0);function HB(t){return Re("MuiPaper",t)}Ae("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const WB=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ie(s,HB,i)},qB=X("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Be(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),lb=D.forwardRef(function(e,n){var p;const r=Me({props:e,name:"MuiPaper"}),i=Ji(),{className:s,component:o="div",elevation:a=1,square:l=!1,variant:c="elevation",...u}=r,d={...r,component:o,elevation:a,square:l,variant:c},h=WB(d);return N.jsx(qB,{as:o,ownerState:d,className:le(h.root,s),ref:n,...u,style:{...c==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${We("#fff",Py(a))}, ${We("#fff",Py(a))})`}},...u.style}})});function Zt(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:c,slots:u={[t]:void 0},slotProps:d={[t]:void 0},...h}=s,p=u[t]||r,m=P_(d[t],i),{props:{component:g,...b},internalRef:w}=O_({className:n,...l,externalForwardedProps:t==="root"?h:void 0,externalSlotProps:m}),A=vt(w,m==null?void 0:m.ref,e.ref),C=t==="root"?g||c:g,I=M_(p,{...t==="root"&&!c&&!u[t]&&o,...t!=="root"&&!u[t]&&o,...b,...C&&!a&&{as:C},...C&&a&&{component:C},ref:A},i);return[p,I]}class hd{constructor(){Ya(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new hd}static use(){const e=__(hd.create).current,[n,r]=D.useState(!1);return e.shouldMount=n,e.setShouldMount=r,D.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=KB(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function GB(){return hd.use()}function KB(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function YB(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=D.useState(!1),h=le(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},m=le(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),D.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,c);return()=>{clearTimeout(g)}}},[l,a,c]),N.jsx("span",{className:h,style:p,children:N.jsx("span",{className:m})})}const zn=Ae("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Vy=550,QB=80,JB=Ca`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,XB=Ca`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,ZB=Ca`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,eV=X("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),tV=X(YB,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${zn.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${JB};
    animation-duration: ${Vy}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${zn.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${zn.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${zn.childLeaving} {
    opacity: 0;
    animation-name: ${XB};
    animation-duration: ${Vy}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${zn.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${ZB};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,nV=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...a}=r,[l,c]=D.useState([]),u=D.useRef(0),d=D.useRef(null);D.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=D.useRef(!1),p=Es(),m=D.useRef(null),g=D.useRef(null),b=D.useCallback(I=>{const{pulsate:P,rippleX:O,rippleY:S,rippleSize:x,cb:T}=I;c(v=>[...v,N.jsx(tV,{classes:{ripple:le(s.ripple,zn.ripple),rippleVisible:le(s.rippleVisible,zn.rippleVisible),ripplePulsate:le(s.ripplePulsate,zn.ripplePulsate),child:le(s.child,zn.child),childLeaving:le(s.childLeaving,zn.childLeaving),childPulsate:le(s.childPulsate,zn.childPulsate)},timeout:Vy,pulsate:P,rippleX:O,rippleY:S,rippleSize:x},u.current)]),u.current+=1,d.current=T},[s]),w=D.useCallback((I={},P={},O=()=>{})=>{const{pulsate:S=!1,center:x=i||P.pulsate,fakeElement:T=!1}=P;if((I==null?void 0:I.type)==="mousedown"&&h.current){h.current=!1;return}(I==null?void 0:I.type)==="touchstart"&&(h.current=!0);const v=T?null:g.current,k=v?v.getBoundingClientRect():{width:0,height:0,left:0,top:0};let M,_,W;if(x||I===void 0||I.clientX===0&&I.clientY===0||!I.clientX&&!I.touches)M=Math.round(k.width/2),_=Math.round(k.height/2);else{const{clientX:$,clientY:U}=I.touches&&I.touches.length>0?I.touches[0]:I;M=Math.round($-k.left),_=Math.round(U-k.top)}if(x)W=Math.sqrt((2*k.width**2+k.height**2)/3),W%2===0&&(W+=1);else{const $=Math.max(Math.abs((v?v.clientWidth:0)-M),M)*2+2,U=Math.max(Math.abs((v?v.clientHeight:0)-_),_)*2+2;W=Math.sqrt($**2+U**2)}I!=null&&I.touches?m.current===null&&(m.current=()=>{b({pulsate:S,rippleX:M,rippleY:_,rippleSize:W,cb:O})},p.start(QB,()=>{m.current&&(m.current(),m.current=null)})):b({pulsate:S,rippleX:M,rippleY:_,rippleSize:W,cb:O})},[i,b,p]),A=D.useCallback(()=>{w({},{pulsate:!0})},[w]),C=D.useCallback((I,P)=>{if(p.clear(),(I==null?void 0:I.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{C(I,P)});return}m.current=null,c(O=>O.length>0?O.slice(1):O),d.current=P},[p]);return D.useImperativeHandle(n,()=>({pulsate:A,start:w,stop:C}),[A,w,C]),N.jsx(eV,{className:le(zn.root,s.root,o),ref:g,...a,children:N.jsx(MP,{component:null,exit:!0,children:l})})});function rV(t){return Re("MuiButtonBase",t)}const iV=Ae("MuiButtonBase",["root","disabled","focusVisible"]),sV=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Ie({root:["root",e&&"disabled",n&&"focusVisible"]},rV,i);return n&&r&&(o.root+=` ${r}`),o},oV=X("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${iV.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),wc=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:g,onClick:b,onContextMenu:w,onDragLeave:A,onFocus:C,onFocusVisible:I,onKeyDown:P,onKeyUp:O,onMouseDown:S,onMouseLeave:x,onMouseUp:T,onTouchEnd:v,onTouchMove:k,onTouchStart:M,tabIndex:_=0,TouchRippleProps:W,touchRippleRef:$,type:U,...G}=r,B=D.useRef(null),z=GB(),Q=vt(z.ref,$),[ae,ce]=D.useState(!1);c&&ae&&ce(!1),D.useImperativeHandle(i,()=>({focusVisible:()=>{ce(!0),B.current.focus()}}),[]);const oe=z.shouldMount&&!u&&!c;D.useEffect(()=>{ae&&h&&!u&&z.pulsate()},[u,h,ae,z]);const pe=zr(z,"start",S,d),fe=zr(z,"stop",w,d),te=zr(z,"stop",A,d),ve=zr(z,"stop",T,d),Te=zr(z,"stop",ne=>{ae&&ne.preventDefault(),x&&x(ne)},d),De=zr(z,"start",M,d),me=zr(z,"stop",v,d),xe=zr(z,"stop",k,d),ge=zr(z,"stop",ne=>{ia(ne.target)||ce(!1),g&&g(ne)},!1),ze=Di(ne=>{B.current||(B.current=ne.currentTarget),ia(ne.target)&&(ce(!0),I&&I(ne)),C&&C(ne)}),be=()=>{const ne=B.current;return l&&l!=="button"&&!(ne.tagName==="A"&&ne.href)},ie=Di(ne=>{h&&!ne.repeat&&ae&&ne.key===" "&&z.stop(ne,()=>{z.start(ne)}),ne.target===ne.currentTarget&&be()&&ne.key===" "&&ne.preventDefault(),P&&P(ne),ne.target===ne.currentTarget&&be()&&ne.key==="Enter"&&!c&&(ne.preventDefault(),b&&b(ne))}),rt=Di(ne=>{h&&ne.key===" "&&ae&&!ne.defaultPrevented&&z.stop(ne,()=>{z.pulsate(ne)}),O&&O(ne),b&&ne.target===ne.currentTarget&&be()&&ne.key===" "&&!ne.defaultPrevented&&b(ne)});let ue=l;ue==="button"&&(G.href||G.to)&&(ue=m);const $e={};ue==="button"?($e.type=U===void 0?"button":U,$e.disabled=c):(!G.href&&!G.to&&($e.role="button"),c&&($e["aria-disabled"]=c));const lt=vt(n,B),Ue={...r,centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:_,focusVisible:ae},Ve=sV(Ue);return N.jsxs(oV,{as:ue,className:le(Ve.root,a),ownerState:Ue,onBlur:ge,onClick:b,onContextMenu:fe,onFocus:ze,onKeyDown:ie,onKeyUp:rt,onMouseDown:pe,onMouseLeave:Te,onMouseUp:ve,onDragLeave:te,onTouchEnd:me,onTouchMove:xe,onTouchStart:De,ref:lt,tabIndex:c?-1:_,type:U,...$e,...G,children:[o,oe?N.jsx(nV,{ref:Q,center:s,...W}):null]})});function zr(t,e,n,r=!1){return Di(i=>(n&&n(i),r||t[e](i),!0))}function aV(t){return typeof t.main=="string"}function lV(t,e=[]){if(!aV(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function dr(t=[]){return([,e])=>e&&lV(e,t)}function cV(t){return Re("MuiCircularProgress",t)}Ae("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const hi=44,Fy=Ca`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,$y=Ca`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,uV=typeof Fy!="string"?g_`
        animation: ${Fy} 1.4s linear infinite;
      `:null,dV=typeof $y!="string"?g_`
        animation: ${$y} 1.4s ease-in-out infinite;
      `:null,fV=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${de(r)}`],svg:["svg"],circle:["circle",`circle${de(n)}`,i&&"circleDisableShrink"]};return Ie(s,cV,e)},hV=X("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${de(n.color)}`]]}})(Be(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:uV||{animation:`${Fy} 1.4s linear infinite`}},...Object.entries(t.palette).filter(dr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),pV=X("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),mV=X("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${de(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Be(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:dV||{animation:`${$y} 1.4s ease-in-out infinite`}}]}))),hI=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate",...h}=r,p={...r,color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d},m=fV(p),g={},b={},w={};if(d==="determinate"){const A=2*Math.PI*((hi-c)/2);g.strokeDasharray=A.toFixed(3),w["aria-valuenow"]=Math.round(u),g.strokeDashoffset=`${((100-u)/100*A).toFixed(3)}px`,b.transform="rotate(-90deg)"}return N.jsx(hV,{className:le(m.root,i),style:{width:a,height:a,...b,...l},ownerState:p,ref:n,role:"progressbar",...w,...h,children:N.jsx(pV,{className:m.svg,ownerState:p,viewBox:`${hi/2} ${hi/2} ${hi} ${hi}`,children:N.jsx(mV,{className:m.circle,style:g,ownerState:p,cx:hi,cy:hi,r:(hi-c)/2,fill:"none",strokeWidth:c})})})});function gV(t){return Re("MuiIconButton",t)}const BE=Ae("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),yV=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s,loading:o}=t,a={root:["root",o&&"loading",n&&"disabled",r!=="default"&&`color${de(r)}`,i&&`edge${de(i)}`,`size${de(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Ie(a,gV,e)},vV=X(wc,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${de(n.color)}`],n.edge&&e[`edge${de(n.edge)}`],e[`size${de(n.size)}`]]}})(Be(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:We(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Be(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(dr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(dr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:We((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${BE.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${BE.loading}`]:{color:"transparent"}}))),bV=X("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Lie=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium",id:d,loading:h=null,loadingIndicator:p,...m}=r,g=pc(d),b=p??N.jsx(hI,{"aria-labelledby":g,color:"inherit",size:16}),w={...r,edge:i,color:a,disabled:l,disableFocusRipple:c,loading:h,loadingIndicator:b,size:u},A=yV(w);return N.jsxs(vV,{id:g,className:le(A.root,o),centerRipple:!0,focusRipple:!c,disabled:l||h,ref:n,...m,ownerState:w,children:[typeof h=="boolean"&&N.jsx("span",{className:A.loadingWrapper,style:{display:"contents"},children:N.jsx(bV,{className:A.loadingIndicator,ownerState:w,children:h&&b})}),s]})});function wV(t){return Re("MuiTypography",t)}const VE=Ae("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),EV={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},xV=OB(),SV=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${de(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ie(a,wV,o)},TV=X("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${de(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Be(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(dr()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${de(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),FE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},xs=D.forwardRef(function(e,n){const{color:r,...i}=Me({props:e,name:"MuiTypography"}),s=!EV[r],o=xV({...i,...s&&{color:r}}),{align:a="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=FE,...g}=o,b={...o,align:a,color:r,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:h,variant:p,variantMapping:m},w=c||(h?"p":m[p]||FE[p])||"span",A=SV(b);return N.jsx(TV,{as:w,ref:n,className:le(A.root,l),...g,ownerState:b,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...g.style}})});var kn="top",Qn="bottom",Jn="right",_n="left",cb="auto",Ec=[kn,Qn,Jn,_n],oa="start",Wl="end",CV="clippingParents",pI="viewport",tl="popper",AV="reference",$E=Ec.reduce(function(t,e){return t.concat([e+"-"+oa,e+"-"+Wl])},[]),mI=[].concat(Ec,[cb]).reduce(function(t,e){return t.concat([e,e+"-"+oa,e+"-"+Wl])},[]),kV="beforeRead",_V="read",IV="afterRead",RV="beforeMain",MV="main",DV="afterMain",OV="beforeWrite",PV="write",NV="afterWrite",LV=[kV,_V,IV,RV,MV,DV,OV,PV,NV];function kr(t){return t?(t.nodeName||"").toLowerCase():null}function Fn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function zs(t){var e=Fn(t).Element;return t instanceof e||t instanceof Element}function Gn(t){var e=Fn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ub(t){if(typeof ShadowRoot>"u")return!1;var e=Fn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function BV(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Gn(s)||!kr(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function VV(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Gn(i)||!kr(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const FV={name:"applyStyles",enabled:!0,phase:"write",fn:BV,effect:VV,requires:["computeStyles"]};function Sr(t){return t.split("-")[0]}var Ms=Math.max,pd=Math.min,aa=Math.round;function jy(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function gI(){return!/^((?!chrome|android).)*safari/i.test(jy())}function la(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Gn(t)&&(i=t.offsetWidth>0&&aa(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&aa(r.height)/t.offsetHeight||1);var o=zs(t)?Fn(t):window,a=o.visualViewport,l=!gI()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function db(t){var e=la(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function yI(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ub(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ri(t){return Fn(t).getComputedStyle(t)}function $V(t){return["table","td","th"].indexOf(kr(t))>=0}function Xi(t){return((zs(t)?t.ownerDocument:t.document)||window.document).documentElement}function Df(t){return kr(t)==="html"?t:t.assignedSlot||t.parentNode||(ub(t)?t.host:null)||Xi(t)}function jE(t){return!Gn(t)||ri(t).position==="fixed"?null:t.offsetParent}function jV(t){var e=/firefox/i.test(jy()),n=/Trident/i.test(jy());if(n&&Gn(t)){var r=ri(t);if(r.position==="fixed")return null}var i=Df(t);for(ub(i)&&(i=i.host);Gn(i)&&["html","body"].indexOf(kr(i))<0;){var s=ri(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function xc(t){for(var e=Fn(t),n=jE(t);n&&$V(n)&&ri(n).position==="static";)n=jE(n);return n&&(kr(n)==="html"||kr(n)==="body"&&ri(n).position==="static")?e:n||jV(t)||e}function fb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function xl(t,e,n){return Ms(t,pd(e,n))}function zV(t,e,n){var r=xl(t,e,n);return r>n?n:r}function vI(){return{top:0,right:0,bottom:0,left:0}}function bI(t){return Object.assign({},vI(),t)}function wI(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var UV=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,bI(typeof e!="number"?e:wI(e,Ec))};function HV(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Sr(n.placement),l=fb(a),c=[_n,Jn].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=UV(i.padding,n),h=db(s),p=l==="y"?kn:_n,m=l==="y"?Qn:Jn,g=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],b=o[l]-n.rects.reference[l],w=xc(s),A=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,C=g/2-b/2,I=d[p],P=A-h[u]-d[m],O=A/2-h[u]/2+C,S=xl(I,O,P),x=l;n.modifiersData[r]=(e={},e[x]=S,e.centerOffset=S-O,e)}}function WV(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||yI(e.elements.popper,i)&&(e.elements.arrow=i))}const qV={name:"arrow",enabled:!0,phase:"main",fn:HV,effect:WV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ca(t){return t.split("-")[1]}var GV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function KV(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:aa(n*i)/i||0,y:aa(r*i)/i||0}}function zE(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=o.x,p=h===void 0?0:h,m=o.y,g=m===void 0?0:m,b=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=b.x,g=b.y;var w=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),C=_n,I=kn,P=window;if(c){var O=xc(n),S="clientHeight",x="clientWidth";if(O===Fn(n)&&(O=Xi(n),ri(O).position!=="static"&&a==="absolute"&&(S="scrollHeight",x="scrollWidth")),O=O,i===kn||(i===_n||i===Jn)&&s===Wl){I=Qn;var T=d&&O===P&&P.visualViewport?P.visualViewport.height:O[S];g-=T-r.height,g*=l?1:-1}if(i===_n||(i===kn||i===Qn)&&s===Wl){C=Jn;var v=d&&O===P&&P.visualViewport?P.visualViewport.width:O[x];p-=v-r.width,p*=l?1:-1}}var k=Object.assign({position:a},c&&GV),M=u===!0?KV({x:p,y:g},Fn(n)):{x:p,y:g};if(p=M.x,g=M.y,l){var _;return Object.assign({},k,(_={},_[I]=A?"0":"",_[C]=w?"0":"",_.transform=(P.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",_))}return Object.assign({},k,(e={},e[I]=A?g+"px":"",e[C]=w?p+"px":"",e.transform="",e))}function YV(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Sr(e.placement),variation:ca(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zE(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zE(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const QV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:YV,data:{}};var fu={passive:!0};function JV(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Fn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,fu)}),a&&l.addEventListener("resize",n.update,fu),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,fu)}),a&&l.removeEventListener("resize",n.update,fu)}}const XV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:JV,data:{}};var ZV={left:"right",right:"left",bottom:"top",top:"bottom"};function Wu(t){return t.replace(/left|right|bottom|top/g,function(e){return ZV[e]})}var eF={start:"end",end:"start"};function UE(t){return t.replace(/start|end/g,function(e){return eF[e]})}function hb(t){var e=Fn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function pb(t){return la(Xi(t)).left+hb(t).scrollLeft}function tF(t,e){var n=Fn(t),r=Xi(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=gI();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+pb(t),y:l}}function nF(t){var e,n=Xi(t),r=hb(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Ms(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ms(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+pb(t),l=-r.scrollTop;return ri(i||n).direction==="rtl"&&(a+=Ms(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function mb(t){var e=ri(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function EI(t){return["html","body","#document"].indexOf(kr(t))>=0?t.ownerDocument.body:Gn(t)&&mb(t)?t:EI(Df(t))}function Sl(t,e){var n;e===void 0&&(e=[]);var r=EI(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Fn(r),o=i?[s].concat(s.visualViewport||[],mb(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Sl(Df(o)))}function zy(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function rF(t,e){var n=la(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function HE(t,e,n){return e===pI?zy(tF(t,n)):zs(e)?rF(e,n):zy(nF(Xi(t)))}function iF(t){var e=Sl(Df(t)),n=["absolute","fixed"].indexOf(ri(t).position)>=0,r=n&&Gn(t)?xc(t):t;return zs(r)?e.filter(function(i){return zs(i)&&yI(i,r)&&kr(i)!=="body"}):[]}function sF(t,e,n,r){var i=e==="clippingParents"?iF(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=HE(t,c,r);return l.top=Ms(u.top,l.top),l.right=pd(u.right,l.right),l.bottom=pd(u.bottom,l.bottom),l.left=Ms(u.left,l.left),l},HE(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function xI(t){var e=t.reference,n=t.element,r=t.placement,i=r?Sr(r):null,s=r?ca(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case kn:l={x:o,y:e.y-n.height};break;case Qn:l={x:o,y:e.y+e.height};break;case Jn:l={x:e.x+e.width,y:a};break;case _n:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?fb(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case oa:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Wl:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function ql(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?CV:a,c=n.rootBoundary,u=c===void 0?pI:c,d=n.elementContext,h=d===void 0?tl:d,p=n.altBoundary,m=p===void 0?!1:p,g=n.padding,b=g===void 0?0:g,w=bI(typeof b!="number"?b:wI(b,Ec)),A=h===tl?AV:tl,C=t.rects.popper,I=t.elements[m?A:h],P=sF(zs(I)?I:I.contextElement||Xi(t.elements.popper),l,u,o),O=la(t.elements.reference),S=xI({reference:O,element:C,strategy:"absolute",placement:i}),x=zy(Object.assign({},C,S)),T=h===tl?x:O,v={top:P.top-T.top+w.top,bottom:T.bottom-P.bottom+w.bottom,left:P.left-T.left+w.left,right:T.right-P.right+w.right},k=t.modifiersData.offset;if(h===tl&&k){var M=k[i];Object.keys(v).forEach(function(_){var W=[Jn,Qn].indexOf(_)>=0?1:-1,$=[kn,Qn].indexOf(_)>=0?"y":"x";v[_]+=M[$]*W})}return v}function oF(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?mI:l,u=ca(r),d=u?a?$E:$E.filter(function(m){return ca(m)===u}):Ec,h=d.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=d);var p=h.reduce(function(m,g){return m[g]=ql(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[Sr(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function aF(t){if(Sr(t)===cb)return[];var e=Wu(t);return[UE(t),e,UE(e)]}function lF(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,b=e.options.placement,w=Sr(b),A=w===b,C=l||(A||!m?[Wu(b)]:aF(b)),I=[b].concat(C).reduce(function(pe,fe){return pe.concat(Sr(fe)===cb?oF(e,{placement:fe,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g}):fe)},[]),P=e.rects.reference,O=e.rects.popper,S=new Map,x=!0,T=I[0],v=0;v<I.length;v++){var k=I[v],M=Sr(k),_=ca(k)===oa,W=[kn,Qn].indexOf(M)>=0,$=W?"width":"height",U=ql(e,{placement:k,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),G=W?_?Jn:_n:_?Qn:kn;P[$]>O[$]&&(G=Wu(G));var B=Wu(G),z=[];if(s&&z.push(U[M]<=0),a&&z.push(U[G]<=0,U[B]<=0),z.every(function(pe){return pe})){T=k,x=!1;break}S.set(k,z)}if(x)for(var Q=m?3:1,ae=function(fe){var te=I.find(function(ve){var Te=S.get(ve);if(Te)return Te.slice(0,fe).every(function(De){return De})});if(te)return T=te,"break"},ce=Q;ce>0;ce--){var oe=ae(ce);if(oe==="break")break}e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}}const cF={name:"flip",enabled:!0,phase:"main",fn:lF,requiresIfExists:["offset"],data:{_skip:!1}};function WE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function qE(t){return[kn,Jn,Qn,_n].some(function(e){return t[e]>=0})}function uF(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=ql(e,{elementContext:"reference"}),a=ql(e,{altBoundary:!0}),l=WE(o,r),c=WE(a,i,s),u=qE(l),d=qE(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const dF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:uF};function fF(t,e,n){var r=Sr(t),i=[_n,kn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[_n,Jn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function hF(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=mI.reduce(function(u,d){return u[d]=fF(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const pF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:hF};function mF(t){var e=t.state,n=t.name;e.modifiersData[n]=xI({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const gF={name:"popperOffsets",enabled:!0,phase:"read",fn:mF,data:{}};function yF(t){return t==="x"?"y":"x"}function vF(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,g=m===void 0?0:m,b=ql(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),w=Sr(e.placement),A=ca(e.placement),C=!A,I=fb(w),P=yF(I),O=e.modifiersData.popperOffsets,S=e.rects.reference,x=e.rects.popper,T=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,v=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(O){if(s){var _,W=I==="y"?kn:_n,$=I==="y"?Qn:Jn,U=I==="y"?"height":"width",G=O[I],B=G+b[W],z=G-b[$],Q=p?-x[U]/2:0,ae=A===oa?S[U]:x[U],ce=A===oa?-x[U]:-S[U],oe=e.elements.arrow,pe=p&&oe?db(oe):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:vI(),te=fe[W],ve=fe[$],Te=xl(0,S[U],pe[U]),De=C?S[U]/2-Q-Te-te-v.mainAxis:ae-Te-te-v.mainAxis,me=C?-S[U]/2+Q+Te+ve+v.mainAxis:ce+Te+ve+v.mainAxis,xe=e.elements.arrow&&xc(e.elements.arrow),ge=xe?I==="y"?xe.clientTop||0:xe.clientLeft||0:0,ze=(_=k==null?void 0:k[I])!=null?_:0,be=G+De-ze-ge,ie=G+me-ze,rt=xl(p?pd(B,be):B,G,p?Ms(z,ie):z);O[I]=rt,M[I]=rt-G}if(a){var ue,$e=I==="x"?kn:_n,lt=I==="x"?Qn:Jn,Ue=O[P],Ve=P==="y"?"height":"width",ne=Ue+b[$e],qe=Ue-b[lt],Ze=[kn,_n].indexOf(w)!==-1,Ot=(ue=k==null?void 0:k[P])!=null?ue:0,et=Ze?ne:Ue-S[Ve]-x[Ve]-Ot+v.altAxis,Ge=Ze?Ue+S[Ve]+x[Ve]-Ot-v.altAxis:qe,yt=p&&Ze?zV(et,Ue,Ge):xl(p?et:ne,Ue,p?Ge:qe);O[P]=yt,M[P]=yt-Ue}e.modifiersData[r]=M}}const bF={name:"preventOverflow",enabled:!0,phase:"main",fn:vF,requiresIfExists:["offset"]};function wF(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function EF(t){return t===Fn(t)||!Gn(t)?hb(t):wF(t)}function xF(t){var e=t.getBoundingClientRect(),n=aa(e.width)/t.offsetWidth||1,r=aa(e.height)/t.offsetHeight||1;return n!==1||r!==1}function SF(t,e,n){n===void 0&&(n=!1);var r=Gn(e),i=Gn(e)&&xF(e),s=Xi(e),o=la(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((kr(e)!=="body"||mb(s))&&(a=EF(e)),Gn(e)?(l=la(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=pb(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function TF(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function CF(t){var e=TF(t);return LV.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function AF(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function kF(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var GE={placement:"bottom",modifiers:[],strategy:"absolute"};function KE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function _F(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?GE:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},GE,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(w){var A=typeof w=="function"?w(u.options):w;g(),u.options=Object.assign({},s,u.options,A),u.scrollParents={reference:zs(a)?Sl(a):a.contextElement?Sl(a.contextElement):[],popper:Sl(l)};var C=CF(kF([].concat(r,u.options.modifiers)));return u.orderedModifiers=C.filter(function(I){return I.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var w=u.elements,A=w.reference,C=w.popper;if(KE(A,C)){u.rects={reference:SF(A,xc(C),u.options.strategy==="fixed"),popper:db(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(v){return u.modifiersData[v.name]=Object.assign({},v.data)});for(var I=0;I<u.orderedModifiers.length;I++){if(u.reset===!0){u.reset=!1,I=-1;continue}var P=u.orderedModifiers[I],O=P.fn,S=P.options,x=S===void 0?{}:S,T=P.name;typeof O=="function"&&(u=O({state:u,options:x,name:T,instance:p})||u)}}}},update:AF(function(){return new Promise(function(b){p.forceUpdate(),b(u)})}),destroy:function(){g(),h=!0}};if(!KE(a,l))return p;p.setOptions(c).then(function(b){!h&&c.onFirstUpdate&&c.onFirstUpdate(b)});function m(){u.orderedModifiers.forEach(function(b){var w=b.name,A=b.options,C=A===void 0?{}:A,I=b.effect;if(typeof I=="function"){var P=I({state:u,name:w,instance:p,options:C}),O=function(){};d.push(P||O)}})}function g(){d.forEach(function(b){return b()}),d=[]}return p}}var IF=[XV,gF,QV,FV,pF,cF,bF,qV,dF],RF=_F({defaultModifiers:IF});function MF(t){return typeof t=="function"?t():t}const SI=D.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=D.useState(null),l=vt(D.isValidElement(r)?to(r):null,n);if(Ar(()=>{s||a(MF(i)||document.body)},[i,s]),Ar(()=>{if(o&&!s)return Cy(n,o),()=>{Cy(n,null)}},[n,o,s]),s){if(D.isValidElement(r)){const c={ref:l};return D.cloneElement(r,c)}return r}return o&&DP.createPortal(r,o)});function DF(t){return Re("MuiPopper",t)}Ae("MuiPopper",["root"]);function OF(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function Uy(t){return typeof t=="function"?t():t}function PF(t){return t.nodeType!==void 0}const NF=t=>{const{classes:e}=t;return Ie({root:["root"]},DF,e)},LF={},BF=D.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:s,disablePortal:o,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:d,slotProps:h={},slots:p={},TransitionProps:m,ownerState:g,...b}=e,w=D.useRef(null),A=vt(w,n),C=D.useRef(null),I=vt(C,d),P=D.useRef(I);Ar(()=>{P.current=I},[I]),D.useImperativeHandle(d,()=>C.current,[]);const O=OF(c,s),[S,x]=D.useState(O),[T,v]=D.useState(Uy(r));D.useEffect(()=>{C.current&&C.current.forceUpdate()}),D.useEffect(()=>{r&&v(Uy(r))},[r]),Ar(()=>{if(!T||!l)return;const $=B=>{x(B.placement)};let U=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:B})=>{$(B)}}];a!=null&&(U=U.concat(a)),u&&u.modifiers!=null&&(U=U.concat(u.modifiers));const G=RF(T,w.current,{placement:O,...u,modifiers:U});return P.current(G),()=>{G.destroy(),P.current(null)}},[T,o,a,l,u,O]);const k={placement:S};m!==null&&(k.TransitionProps=m);const M=NF(e),_=p.root??"div",W=cd({elementType:_,externalSlotProps:h.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:A},ownerState:e,className:M.root});return N.jsx(_,{...W,children:typeof i=="function"?i(k):i})}),VF=D.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=LF,popperRef:p,style:m,transition:g=!1,slotProps:b={},slots:w={},...A}=e,[C,I]=D.useState(!0),P=()=>{I(!1)},O=()=>{I(!0)};if(!l&&!u&&(!g||C))return null;let S;if(s)S=s;else if(r){const v=Uy(r);S=v&&PF(v)?Vn(v).body:Vn(null).body}const x=!u&&l&&(!g||C)?"none":void 0,T=g?{in:u,onEnter:P,onExited:O}:void 0;return N.jsx(SI,{disablePortal:a,container:S,children:N.jsx(BF,{anchorEl:r,direction:o,disablePortal:a,modifiers:c,ref:n,open:g?!C:u,placement:d,popperOptions:h,popperRef:p,slotProps:b,slots:w,...A,style:{position:"fixed",top:0,left:0,display:x,...m},TransitionProps:T,children:i})})}),FF=X(VF,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),TI=D.forwardRef(function(e,n){const r=Mf(),i=Me({props:e,name:"MuiPopper"}),{anchorEl:s,component:o,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:m,popperOptions:g,popperRef:b,transition:w,slots:A,slotProps:C,...I}=i,P=(A==null?void 0:A.root)??(a==null?void 0:a.Root),O={anchorEl:s,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:m,popperOptions:g,popperRef:b,transition:w,...I};return N.jsx(FF,{as:o,direction:r?"rtl":"ltr",slots:{root:P},slotProps:C??l,...O,ref:n})});function hu(t){return parseInt(t,10)||0}const $F={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function jF(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const zF=D.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a,...l}=e,{current:c}=D.useRef(a!=null),u=D.useRef(null),d=vt(n,u),h=D.useRef(null),p=D.useRef(null),m=D.useCallback(()=>{const w=u.current,C=ur(w).getComputedStyle(w);if(C.width==="0px")return{outerHeightStyle:0,overflowing:!1};const I=p.current;I.style.width=C.width,I.value=w.value||e.placeholder||"x",I.value.slice(-1)===`
`&&(I.value+=" ");const P=C.boxSizing,O=hu(C.paddingBottom)+hu(C.paddingTop),S=hu(C.borderBottomWidth)+hu(C.borderTopWidth),x=I.scrollHeight;I.value="x";const T=I.scrollHeight;let v=x;s&&(v=Math.max(Number(s)*T,v)),i&&(v=Math.min(Number(i)*T,v)),v=Math.max(v,T);const k=v+(P==="border-box"?O+S:0),M=Math.abs(v-x)<=1;return{outerHeightStyle:k,overflowing:M}},[i,s,e.placeholder]),g=D.useCallback(()=>{const w=m();if(jF(w))return;const A=w.outerHeightStyle,C=u.current;h.current!==A&&(h.current=A,C.style.height=`${A}px`),C.style.overflow=w.overflowing?"hidden":""},[m]);Ar(()=>{const w=()=>{g()};let A;const C=Yv(w),I=u.current,P=ur(I);P.addEventListener("resize",C);let O;return typeof ResizeObserver<"u"&&(O=new ResizeObserver(w),O.observe(I)),()=>{C.clear(),cancelAnimationFrame(A),P.removeEventListener("resize",C),O&&O.disconnect()}},[m,g]),Ar(()=>{g()});const b=w=>{c||g(),r&&r(w)};return N.jsxs(D.Fragment,{children:[N.jsx("textarea",{value:a,onChange:b,ref:d,rows:s,style:o,...l}),N.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...$F.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function Gl(t){return typeof t=="string"}function ka({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const gb=D.createContext(void 0);function _a(){return D.useContext(gb)}function YE(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function md(t,e=!1){return t&&(YE(t.value)&&t.value!==""||e&&YE(t.defaultValue)&&t.defaultValue!=="")}function UF(t){return t.startAdornment}function HF(t){return Re("MuiInputBase",t)}const ua=Ae("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var QE;const Of=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${de(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Pf=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},WF=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:m}=t,g={root:["root",`color${de(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${de(h)}`,u&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Ie(g,HF,e)},Nf=X("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Of})(Be(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ua.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Lf=X("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Pf})(Be(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ua.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${ua.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),JE=DB({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),yb=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:a,color:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,error:g,fullWidth:b=!1,id:w,inputComponent:A="input",inputProps:C={},inputRef:I,margin:P,maxRows:O,minRows:S,multiline:x=!1,name:T,onBlur:v,onChange:k,onClick:M,onFocus:_,onKeyDown:W,onKeyUp:$,placeholder:U,readOnly:G,renderSuffix:B,rows:z,size:Q,slotProps:ae={},slots:ce={},startAdornment:oe,type:pe="text",value:fe,...te}=r,ve=C.value!=null?C.value:fe,{current:Te}=D.useRef(ve!=null),De=D.useRef(),me=D.useCallback(_e=>{},[]),xe=vt(De,I,C.ref,me),[ge,ze]=D.useState(!1),be=_a(),ie=ka({props:r,muiFormControl:be,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ie.focused=be?be.focused:ge,D.useEffect(()=>{!be&&h&&ge&&(ze(!1),v&&v())},[be,h,ge,v]);const rt=be&&be.onFilled,ue=be&&be.onEmpty,$e=D.useCallback(_e=>{md(_e)?rt&&rt():ue&&ue()},[rt,ue]);Ar(()=>{Te&&$e({value:ve})},[ve,$e,Te]);const lt=_e=>{_&&_(_e),C.onFocus&&C.onFocus(_e),be&&be.onFocus?be.onFocus(_e):ze(!0)},Ue=_e=>{v&&v(_e),C.onBlur&&C.onBlur(_e),be&&be.onBlur?be.onBlur(_e):ze(!1)},Ve=(_e,...At)=>{if(!Te){const ut=_e.target||De.current;if(ut==null)throw new Error($s(1));$e({value:ut.value})}C.onChange&&C.onChange(_e,...At),k&&k(_e,...At)};D.useEffect(()=>{$e(De.current)},[]);const ne=_e=>{De.current&&_e.currentTarget===_e.target&&De.current.focus(),M&&M(_e)};let qe=A,Ze=C;x&&qe==="input"&&(z?Ze={type:void 0,minRows:z,maxRows:z,...Ze}:Ze={type:void 0,maxRows:O,minRows:S,...Ze},qe=zF);const Ot=_e=>{$e(_e.animationName==="mui-auto-fill-cancel"?De.current:{value:"x"})};D.useEffect(()=>{be&&be.setAdornedStart(!!oe)},[be,oe]);const et={...r,color:ie.color||"primary",disabled:ie.disabled,endAdornment:m,error:ie.error,focused:ie.focused,formControl:be,fullWidth:b,hiddenLabel:ie.hiddenLabel,multiline:x,size:ie.size,startAdornment:oe,type:pe},Ge=WF(et),yt=ce.root||c.Root||Nf,Lt=ae.root||u.root||{},Ht=ce.input||c.Input||Lf;return Ze={...Ze,...ae.input??u.input},N.jsxs(D.Fragment,{children:[!p&&typeof JE=="function"&&(QE||(QE=N.jsx(JE,{}))),N.jsxs(yt,{...Lt,ref:n,onClick:ne,...te,...!Gl(yt)&&{ownerState:{...et,...Lt.ownerState}},className:le(Ge.root,Lt.className,a,G&&"MuiInputBase-readOnly"),children:[oe,N.jsx(gb.Provider,{value:null,children:N.jsx(Ht,{"aria-invalid":ie.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:d,disabled:ie.disabled,id:w,onAnimationStart:Ot,name:T,placeholder:U,readOnly:G,required:ie.required,rows:z,value:ve,onKeyDown:W,onKeyUp:$,type:pe,...Ze,...!Gl(Ht)&&{as:qe,ownerState:{...et,...Ze.ownerState}},ref:xe,className:le(Ge.input,Ze.className,G&&"MuiInputBase-readOnly"),onBlur:Ue,onChange:Ve,onFocus:lt})}),m,B?B({...ie,startAdornment:oe}):null]})]})});function qF(t){return Re("MuiInput",t)}const nl={...ua,...Ae("MuiInput",["root","underline","input"])};function GF(t){return Re("MuiOutlinedInput",t)}const jn={...ua,...Ae("MuiOutlinedInput",["root","notchedOutline","input"])};function KF(t){return Re("MuiFilledInput",t)}const fs={...ua,...Ae("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},YF=mn(N.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),QF={entering:{opacity:1},entered:{opacity:1}},JF=D.forwardRef(function(e,n){const r=Ji(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:g,style:b,timeout:w=i,TransitionComponent:A=pf,...C}=e,I=D.useRef(null),P=vt(I,to(a),n),O=W=>$=>{if(W){const U=I.current;$===void 0?W(U):W(U,$)}},S=O(h),x=O((W,$)=>{ab(W);const U=zi({style:b,timeout:w,easing:l},{mode:"enter"});W.style.webkitTransition=r.transitions.create("opacity",U),W.style.transition=r.transitions.create("opacity",U),u&&u(W,$)}),T=O(d),v=O(g),k=O(W=>{const $=zi({style:b,timeout:w,easing:l},{mode:"exit"});W.style.webkitTransition=r.transitions.create("opacity",$),W.style.transition=r.transitions.create("opacity",$),p&&p(W)}),M=O(m),_=W=>{s&&s(I.current,W)};return N.jsx(A,{appear:o,in:c,nodeRef:I,onEnter:x,onEntered:T,onEntering:S,onExit:k,onExited:M,onExiting:v,addEndListener:_,timeout:w,...C,children:(W,{ownerState:$,...U})=>D.cloneElement(a,{style:{opacity:0,visibility:W==="exited"&&!c?"hidden":void 0,...QF[W],...b,...a.props.style},ref:P,...U})})});function XF(t){return Re("MuiBackdrop",t)}Ae("MuiBackdrop",["root","invisible"]);const ZF=t=>{const{classes:e,invisible:n}=t;return Ie({root:["root",n&&"invisible"]},XF,e)},e$=X("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),t$=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:u={},slotProps:d={},slots:h={},TransitionComponent:p,transitionDuration:m,...g}=r,b={...r,component:o,invisible:a},w=ZF(b),A={transition:p,root:c.Root,...h},C={...u,...d},I={slots:A,slotProps:C},[P,O]=Zt("root",{elementType:e$,externalForwardedProps:I,className:le(w.root,s),ownerState:b}),[S,x]=Zt("transition",{elementType:JF,externalForwardedProps:I,ownerState:b});return N.jsx(S,{in:l,timeout:m,...g,...x,children:N.jsx(P,{"aria-hidden":!0,...O,classes:w,ref:n,children:i})})}),n$=Ae("MuiBox",["root"]),r$=dI(),i$=vL({themeId:bc,defaultTheme:r$,defaultClassName:n$.root,generateClassName:R_.generate}),s$=mn(N.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),o$=X(wc)(Be(({theme:t})=>({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`,...t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}},"&:active":{boxShadow:t.shadows[0],...t.palette.mode==="light"?{backgroundColor:Dy(t.palette.grey[200],.12)}:{backgroundColor:Dy(t.palette.grey[600],.12)}}}))),a$=X(s$)({width:24,height:16});function l$(t){const{slots:e={},slotProps:n={},...r}=t,i=t;return N.jsx("li",{children:N.jsx(o$,{focusRipple:!0,...r,ownerState:i,children:N.jsx(a$,{as:e.CollapsedIcon,ownerState:i,...n.collapsedIcon})})})}function c$(t){return Re("MuiBreadcrumbs",t)}const u$=Ae("MuiBreadcrumbs",["root","ol","li","separator"]),d$=t=>{const{classes:e}=t;return Ie({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},c$,e)},f$=X(xs,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,e)=>[{[`& .${u$.li}`]:e.li},e.root]})({}),h$=X("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(t,e)=>e.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),p$=X("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(t,e)=>e.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function m$(t,e,n,r){return t.reduce((i,s,o)=>(o<t.length-1?i=i.concat(s,N.jsx(p$,{"aria-hidden":!0,className:e,ownerState:r,children:n},`separator-${o}`)):i.push(s),i),[])}const Bie=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiBreadcrumbs"}),{children:i,className:s,component:o="nav",slots:a={},slotProps:l={},expandText:c="Show path",itemsAfterCollapse:u=1,itemsBeforeCollapse:d=1,maxItems:h=8,separator:p="/",...m}=r,[g,b]=D.useState(!1),w={...r,component:o,expanded:g,expandText:c,itemsAfterCollapse:u,itemsBeforeCollapse:d,maxItems:h,separator:p},A=d$(w),C=cd({elementType:a.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:w}),I=D.useRef(null),P=S=>{const x=()=>{b(!0);const T=I.current.querySelector("a[href],button,[tabindex]");T&&T.focus()};return d+u>=S.length?S:[...S.slice(0,d),N.jsx(l$,{"aria-label":c,slots:{CollapsedIcon:a.CollapsedIcon},slotProps:{collapsedIcon:C},onClick:x},"ellipsis"),...S.slice(S.length-u,S.length)]},O=D.Children.toArray(i).filter(S=>D.isValidElement(S)).map((S,x)=>N.jsx("li",{className:A.li,children:S},`child-${x}`));return N.jsx(f$,{ref:n,component:o,color:"textSecondary",className:le(A.root,s),ownerState:w,...m,children:N.jsx(h$,{className:A.ol,ref:I,ownerState:w,children:m$(g||h&&O.length<=h?O:P(O),A.separator,p,w)})})});function g$(t){return Re("MuiButton",t)}const hs=Ae("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),y$=D.createContext({}),v$=D.createContext(void 0),b$=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,loading:o,loadingPosition:a,classes:l}=t,c={root:["root",o&&"loading",s,`${s}${de(e)}`,`size${de(i)}`,`${s}Size${de(i)}`,`color${de(e)}`,n&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${de(a)}`],startIcon:["icon","startIcon",`iconSize${de(i)}`],endIcon:["icon","endIcon",`iconSize${de(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},u=Ie(c,g$,l);return{...l,...u}},CI=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],w$=X(wc,{shouldForwardProp:t=>$n(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${de(n.color)}`],e[`size${de(n.size)}`],e[`${n.variant}Size${de(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Be(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${hs.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${hs.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${hs.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${hs.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(dr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:We(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:We(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:We(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:We(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:We(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${hs.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${hs.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${hs.loading}`]:{color:"transparent"}}}]}})),E$=X("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${de(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...CI]})),x$=X("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${de(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...CI]})),S$=X("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),XE=X("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Vie=D.forwardRef(function(e,n){const r=D.useContext(y$),i=D.useContext(v$),s=Qv(r,e),o=Me({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:g,fullWidth:b=!1,id:w,loading:A=null,loadingIndicator:C,loadingPosition:I="center",size:P="medium",startIcon:O,type:S,variant:x="text",...T}=o,v=pc(w),k=C??N.jsx(hI,{"aria-labelledby":v,color:"inherit",size:16}),M={...o,color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:b,loading:A,loadingIndicator:k,loadingPosition:I,size:P,type:S,variant:x},_=b$(M),W=(O||A&&I==="start")&&N.jsx(E$,{className:_.startIcon,ownerState:M,children:O||N.jsx(XE,{className:_.loadingIconPlaceholder,ownerState:M})}),$=(m||A&&I==="end")&&N.jsx(x$,{className:_.endIcon,ownerState:M,children:m||N.jsx(XE,{className:_.loadingIconPlaceholder,ownerState:M})}),U=i||"",G=typeof A=="boolean"?N.jsx("span",{className:_.loadingWrapper,style:{display:"contents"},children:A&&N.jsx(S$,{className:_.loadingIndicator,ownerState:M,children:k})}):null;return N.jsxs(w$,{ownerState:M,className:le(r.className,_.root,u,U),component:c,disabled:d||A,focusRipple:!p,focusVisibleClassName:le(_.focusVisible,g),ref:n,type:S,id:v,...T,classes:_,children:[W,I!=="end"&&G,a,I==="end"&&G,$]})});function T$(t){return Re("MuiCard",t)}Ae("MuiCard",["root"]);const C$=t=>{const{classes:e}=t;return Ie({root:["root"]},T$,e)},A$=X(lb,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),Fie=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiCard"}),{className:i,raised:s=!1,...o}=r,a={...r,raised:s},l=C$(a);return N.jsx(A$,{className:le(l.root,i),elevation:s?8:void 0,ref:n,ownerState:a,...o})});function k$(t){return Re("MuiCardContent",t)}Ae("MuiCardContent",["root"]);const _$=t=>{const{classes:e}=t;return Ie({root:["root"]},k$,e)},I$=X("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),$ie=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiCardContent"}),{className:i,component:s="div",...o}=r,a={...r,component:s},l=_$(a);return N.jsx(I$,{as:s,className:le(l.root,i),ownerState:a,ref:n,...o})});function R$(t){return Re("MuiCardMedia",t)}Ae("MuiCardMedia",["root","media","img"]);const M$=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Ie({root:["root",n&&"media",r&&"img"]},R$,e)},D$=X("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),O$=["video","audio","picture","iframe","img"],P$=["picture","img"],jie=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:l,style:c,...u}=r,d=O$.includes(o),h=!d&&a?{backgroundImage:`url("${a}")`,...c}:c,p={...r,component:o,isMediaComponent:d,isImageComponent:P$.includes(o)},m=M$(p);return N.jsx(D$,{className:le(m.root,s),as:o,role:!d&&a?"img":void 0,ref:n,style:h,ownerState:p,src:d?a||l:void 0,...u,children:i})}),zie=eB({createStyledComponent:X("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${de(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Me({props:t,name:"MuiContainer"})});function N$(t){const e=Vn(t);return e.body===t?ur(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Tl(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function ZE(t){return parseInt(ur(t).getComputedStyle(t).paddingRight,10)||0}function L$(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function ex(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=!s.includes(o),l=!L$(o);a&&l&&Tl(o,i)})}function Yh(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function B$(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(N$(r)){const o=I_(ur(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${ZE(r)+o}px`;const a=Vn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${ZE(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Vn(r).body;else{const o=r.parentElement,a=ur(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function V$(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class F${constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Tl(e.modalRef,!1);const i=V$(n);ex(n,e.mount,e.modalRef,i,!0);const s=Yh(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Yh(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=B$(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Yh(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Tl(e.modalRef,n),ex(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Tl(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const $$=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function j$(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function z$(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function U$(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||z$(t))}function H$(t){const e=[],n=[];return Array.from(t.querySelectorAll($$)).forEach((r,i)=>{const s=j$(r);s===-1||!U$(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function W$(){return!0}function q$(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=H$,isEnabled:o=W$,open:a}=t,l=D.useRef(!1),c=D.useRef(null),u=D.useRef(null),d=D.useRef(null),h=D.useRef(null),p=D.useRef(!1),m=D.useRef(null),g=vt(to(e),m),b=D.useRef(null);D.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),D.useEffect(()=>{if(!a||!m.current)return;const C=Vn(m.current);return m.current.contains(C.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),D.useEffect(()=>{if(!a||!m.current)return;const C=Vn(m.current),I=S=>{b.current=S,!(r||!o()||S.key!=="Tab")&&C.activeElement===m.current&&S.shiftKey&&(l.current=!0,u.current&&u.current.focus())},P=()=>{var T,v;const S=m.current;if(S===null)return;if(!C.hasFocus()||!o()||l.current){l.current=!1;return}if(S.contains(C.activeElement)||r&&C.activeElement!==c.current&&C.activeElement!==u.current)return;if(C.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let x=[];if((C.activeElement===c.current||C.activeElement===u.current)&&(x=s(m.current)),x.length>0){const k=!!((T=b.current)!=null&&T.shiftKey&&((v=b.current)==null?void 0:v.key)==="Tab"),M=x[0],_=x[x.length-1];typeof M!="string"&&typeof _!="string"&&(k?_.focus():M.focus())}else S.focus()};C.addEventListener("focusin",P),C.addEventListener("keydown",I,!0);const O=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(O),C.removeEventListener("focusin",P),C.removeEventListener("keydown",I,!0)}},[n,r,i,o,a,s]);const w=C=>{d.current===null&&(d.current=C.relatedTarget),p.current=!0,h.current=C.target;const I=e.props.onFocus;I&&I(C)},A=C=>{d.current===null&&(d.current=C.relatedTarget),p.current=!0};return N.jsxs(D.Fragment,{children:[N.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:c,"data-testid":"sentinelStart"}),D.cloneElement(e,{ref:g,onFocus:w}),N.jsx("div",{tabIndex:a?0:-1,onFocus:A,ref:u,"data-testid":"sentinelEnd"})]})}function G$(t){return typeof t=="function"?t():t}function K$(t){return t?t.props.hasOwnProperty("in"):!1}const tx=()=>{},pu=new F$;function Y$(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:u}=t,d=D.useRef({}),h=D.useRef(null),p=D.useRef(null),m=vt(p,u),[g,b]=D.useState(!c),w=K$(a);let A=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(A=!1);const C=()=>Vn(h.current),I=()=>(d.current.modalRef=p.current,d.current.mount=h.current,d.current),P=()=>{pu.mount(I(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},O=Di(()=>{const $=G$(e)||C().body;pu.add(I(),$),p.current&&P()}),S=()=>pu.isTopModal(I()),x=Di($=>{h.current=$,$&&(c&&S()?P():p.current&&Tl(p.current,A))}),T=D.useCallback(()=>{pu.remove(I(),A)},[A]);D.useEffect(()=>()=>{T()},[T]),D.useEffect(()=>{c?O():(!w||!i)&&T()},[c,T,w,i,O]);const v=$=>U=>{var G;(G=$.onKeyDown)==null||G.call($,U),!(U.key!=="Escape"||U.which===229||!S())&&(n||(U.stopPropagation(),l&&l(U,"escapeKeyDown")))},k=$=>U=>{var G;(G=$.onClick)==null||G.call($,U),U.target===U.currentTarget&&l&&l(U,"backdropClick")};return{getRootProps:($={})=>{const U=D_(t);delete U.onTransitionEnter,delete U.onTransitionExited;const G={...U,...$};return{role:"presentation",...G,onKeyDown:v(G),ref:m}},getBackdropProps:($={})=>{const U=$;return{"aria-hidden":!0,...U,onClick:k(U),open:c}},getTransitionProps:()=>{const $=()=>{b(!1),s&&s()},U=()=>{b(!0),o&&o(),i&&T()};return{onEnter:cE($,(a==null?void 0:a.props.onEnter)??tx),onExited:cE(U,(a==null?void 0:a.props.onExited)??tx)}},rootRef:m,portalRef:x,isTopModal:S,exited:g,hasTransition:w}}function Q$(t){return Re("MuiModal",t)}Ae("MuiModal",["root","hidden","backdrop"]);const J$=t=>{const{open:e,exited:n,classes:r}=t;return Ie({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Q$,r)},X$=X("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Be(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Z$=X(t$,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),AI=D.forwardRef(function(e,n){const r=Me({name:"MuiModal",props:e}),{BackdropComponent:i=Z$,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:g=!1,disableEscapeKeyDown:b=!1,disablePortal:w=!1,disableRestoreFocus:A=!1,disableScrollLock:C=!1,hideBackdrop:I=!1,keepMounted:P=!1,onBackdropClick:O,onClose:S,onTransitionEnter:x,onTransitionExited:T,open:v,slotProps:k={},slots:M={},theme:_,...W}=r,$={...r,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:g,disableEscapeKeyDown:b,disablePortal:w,disableRestoreFocus:A,disableScrollLock:C,hideBackdrop:I,keepMounted:P},{getRootProps:U,getBackdropProps:G,getTransitionProps:B,portalRef:z,isTopModal:Q,exited:ae,hasTransition:ce}=Y$({...$,rootRef:n}),oe={...$,exited:ae},pe=J$(oe),fe={};if(c.props.tabIndex===void 0&&(fe.tabIndex="-1"),ce){const{onEnter:ge,onExited:ze}=B();fe.onEnter=ge,fe.onExited=ze}const te={...W,slots:{root:h.Root,backdrop:h.Backdrop,...M},slotProps:{...p,...k}},[ve,Te]=Zt("root",{elementType:X$,externalForwardedProps:te,getSlotProps:U,additionalProps:{ref:n,as:d},ownerState:oe,className:le(a,pe==null?void 0:pe.root,!oe.open&&oe.exited&&(pe==null?void 0:pe.hidden))}),[De,me]=Zt("backdrop",{elementType:i,externalForwardedProps:te,additionalProps:s,getSlotProps:ge=>G({...ge,onClick:ze=>{O&&O(ze),ge!=null&&ge.onClick&&ge.onClick(ze)}}),className:le(s==null?void 0:s.className,pe==null?void 0:pe.backdrop),ownerState:oe}),xe=vt(s==null?void 0:s.ref,me.ref);return!P&&!v&&(!ce||ae)?null:N.jsx(SI,{ref:z,container:u,disablePortal:w,children:N.jsxs(ve,{...Te,children:[!I&&i?N.jsx(De,{...me,ref:xe}):null,N.jsx(q$,{disableEnforceFocus:g,disableAutoFocus:m,disableRestoreFocus:A,isEnabled:Q,open:v,children:D.cloneElement(c,fe)})]})})});function ej(t){return Re("MuiDivider",t)}const nx=Ae("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),tj=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=t;return Ie({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},ej,r)},nj=X("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(Be(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:We(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),rj=X("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(Be(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Hy=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,orientation:a="horizontal",component:l=s||a==="vertical"?"div":"hr",flexItem:c=!1,light:u=!1,role:d=l!=="hr"?"separator":void 0,textAlign:h="center",variant:p="fullWidth",...m}=r,g={...r,absolute:i,component:l,flexItem:c,light:u,orientation:a,role:d,textAlign:h,variant:p},b=tj(g);return N.jsx(nj,{as:l,className:le(b.root,o),role:d,ref:n,ownerState:g,"aria-orientation":d==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...m,children:s?N.jsx(rj,{className:b.wrapper,ownerState:g,children:s}):null})});Hy&&(Hy.muiSkipListHighlight=!0);function ij(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=ur(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=s.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function sj(t){return typeof t=="function"?t():t}function mu(t,e,n){const r=sj(n),i=ij(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const oj=D.forwardRef(function(e,n){const r=Ji(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:h,onEnter:p,onEntered:m,onEntering:g,onExit:b,onExited:w,onExiting:A,style:C,timeout:I=s,TransitionComponent:P=pf,...O}=e,S=D.useRef(null),x=vt(to(l),S,n),T=B=>z=>{B&&(z===void 0?B(S.current):B(S.current,z))},v=T((B,z)=>{mu(u,B,c),ab(B),p&&p(B,z)}),k=T((B,z)=>{const Q=zi({timeout:I,style:C,easing:d},{mode:"enter"});B.style.webkitTransition=r.transitions.create("-webkit-transform",{...Q}),B.style.transition=r.transitions.create("transform",{...Q}),B.style.webkitTransform="none",B.style.transform="none",g&&g(B,z)}),M=T(m),_=T(A),W=T(B=>{const z=zi({timeout:I,style:C,easing:d},{mode:"exit"});B.style.webkitTransition=r.transitions.create("-webkit-transform",z),B.style.transition=r.transitions.create("transform",z),mu(u,B,c),b&&b(B)}),$=T(B=>{B.style.webkitTransition="",B.style.transition="",w&&w(B)}),U=B=>{o&&o(S.current,B)},G=D.useCallback(()=>{S.current&&mu(u,S.current,c)},[u,c]);return D.useEffect(()=>{if(h||u==="down"||u==="right")return;const B=Yv(()=>{S.current&&mu(u,S.current,c)}),z=ur(S.current);return z.addEventListener("resize",B),()=>{B.clear(),z.removeEventListener("resize",B)}},[u,h,c]),D.useEffect(()=>{h||G()},[h,G]),N.jsx(P,{nodeRef:S,onEnter:v,onEntered:M,onEntering:k,onExit:W,onExited:$,onExiting:_,addEndListener:U,appear:a,in:h,timeout:I,...O,children:(B,{ownerState:z,...Q})=>D.cloneElement(l,{ref:x,style:{visibility:B==="exited"&&!h?"hidden":void 0,...C,...l.props.style},...Q})})});function aj(t){return Re("MuiDrawer",t)}Ae("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const kI=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},lj=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root",`anchor${de(n)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${de(n)}`,r!=="temporary"&&`paperAnchorDocked${de(n)}`]};return Ie(i,aj,e)},cj=X(AI,{name:"MuiDrawer",slot:"Root",overridesResolver:kI})(Be(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),rx=X("div",{shouldForwardProp:$n,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:kI})({flex:"0 0 auto"}),uj=X(lb,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${de(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${de(n.anchor)}`]]}})(Be(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),_I={left:"right",right:"left",top:"down",bottom:"up"};function dj(t){return["left","right"].includes(t)}function fj({direction:t},e){return t==="rtl"&&dj(e)?_I[e]:e}const Uie=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiDrawer"}),i=Ji(),s=Mf(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:p,...m}={},onClose:g,open:b=!1,PaperProps:w={},SlideProps:A,TransitionComponent:C=oj,transitionDuration:I=o,variant:P="temporary",...O}=r,S=D.useRef(!1);D.useEffect(()=>{S.current=!0},[]);const x=fj({direction:s?"rtl":"ltr"},a),v={...r,anchor:a,elevation:d,open:b,variant:P,...O},k=lj(v),M=N.jsx(uj,{elevation:P==="temporary"?d:0,square:!0,...w,className:le(k.paper,w.className),ownerState:v,children:c});if(P==="permanent")return N.jsx(rx,{className:le(k.root,k.docked,u),ownerState:v,ref:n,...O,children:M});const _=N.jsx(C,{in:b,direction:_I[x],timeout:I,appear:S.current,...A,children:M});return P==="persistent"?N.jsx(rx,{className:le(k.root,k.docked,u),ownerState:v,ref:n,...O,children:_}):N.jsx(cj,{BackdropProps:{...l,...p,transitionDuration:I},className:le(k.root,k.modal,u),open:b,ownerState:v,onClose:g,hideBackdrop:h,ref:n,...O,...m,children:_})}),hj=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:s,hiddenLabel:o,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${de(s)}`,o&&"hiddenLabel",a&&"multiline"],input:["input"]},c=Ie(l,KF,e);return{...e,...c}},pj=X(Nf,{shouldForwardProp:t=>$n(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Of(t,e),!n.disableUnderline&&e.underline]}})(Be(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${fs.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${fs.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${fs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${fs.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${fs.disabled}, .${fs.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${fs.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(dr()).map(([o])=>{var a;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[o])==null?void 0:a.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),mj=X(Lf,{name:"MuiFilledInput",slot:"Input",overridesResolver:Pf})(Be(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),vb=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,hiddenLabel:l,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:h={},type:p="text",...m}=r,g={...r,disableUnderline:i,fullWidth:a,inputComponent:c,multiline:u,type:p},b=hj(r),w={root:{ownerState:g},input:{ownerState:g}},A=d??o?Er(w,d??o):w,C=h.root??s.Root??pj,I=h.input??s.Input??mj;return N.jsx(yb,{slots:{root:C,input:I},slotProps:A,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:p,...m,classes:b})});vb.muiName="Input";function gj(t){return Re("MuiFormControl",t)}Ae("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const yj=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${de(n)}`,r&&"fullWidth"]};return Ie(i,gj,e)},vj=X("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${de(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),bj=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:g="medium",variant:b="outlined",...w}=r,A={...r,color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:g,variant:b},C=yj(A),[I,P]=D.useState(()=>{let $=!1;return i&&D.Children.forEach(i,U=>{if(!$u(U,["Input","Select"]))return;const G=$u(U,["Select"])?U.props.input:U;G&&UF(G.props)&&($=!0)}),$}),[O,S]=D.useState(()=>{let $=!1;return i&&D.Children.forEach(i,U=>{$u(U,["Input","Select"])&&(md(U.props,!0)||md(U.props.inputProps,!0))&&($=!0)}),$}),[x,T]=D.useState(!1);l&&x&&T(!1);const v=u!==void 0&&!l?u:x;let k;D.useRef(!1);const M=D.useCallback(()=>{S(!0)},[]),_=D.useCallback(()=>{S(!1)},[]),W=D.useMemo(()=>({adornedStart:I,setAdornedStart:P,color:o,disabled:l,error:c,filled:O,focused:v,fullWidth:d,hiddenLabel:h,size:g,onBlur:()=>{T(!1)},onFocus:()=>{T(!0)},onEmpty:_,onFilled:M,registerEffect:k,required:m,variant:b}),[I,o,l,c,O,v,d,h,k,_,M,m,g,b]);return N.jsx(gb.Provider,{value:W,children:N.jsx(vj,{as:a,ownerState:A,className:le(C.root,s),ref:n,...w,children:i})})});function wj(t){return Re("MuiFormHelperText",t)}const ix=Ae("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var sx;const Ej=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${de(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Ie(c,wj,e)},xj=X("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${de(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Be(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${ix.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${ix.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),Sj=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:a,error:l,filled:c,focused:u,margin:d,required:h,variant:p,...m}=r,g=_a(),b=ka({props:r,muiFormControl:g,states:["variant","size","disabled","error","filled","focused","required"]}),w={...r,component:o,contained:b.variant==="filled"||b.variant==="outlined",variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required};delete w.ownerState;const A=Ej(w);return N.jsx(xj,{as:o,className:le(A.root,s),ref:n,...m,ownerState:w,children:i===" "?sx||(sx=N.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function Tj(t){return Re("MuiFormLabel",t)}const Cl=Ae("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Cj=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${de(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Ie(l,Tj,e)},Aj=X("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Be(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(dr()).map(([e])=>({props:{color:e},style:{[`&.${Cl.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Cl.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Cl.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),kj=X("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Be(({theme:t})=>({[`&.${Cl.error}`]:{color:(t.vars||t).palette.error.main}}))),_j=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:o,component:a="label",disabled:l,error:c,filled:u,focused:d,required:h,...p}=r,m=_a(),g=ka({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),b={...r,color:g.color||"primary",component:a,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required},w=Cj(b);return N.jsxs(Aj,{as:a,ownerState:b,className:le(w.root,s),ref:n,...p,children:[i,g.required&&N.jsxs(kj,{ownerState:b,"aria-hidden":!0,className:w.asterisk,children:[" ","*"]})]})});function Wy(t){return`scale(${t}, ${t**2})`}const Ij={entering:{opacity:1,transform:Wy(1)},entered:{opacity:1,transform:"none"}},Qh=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),gd=D.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:m,timeout:g="auto",TransitionComponent:b=pf,...w}=e,A=Es(),C=D.useRef(),I=Ji(),P=D.useRef(null),O=vt(P,to(s),n),S=$=>U=>{if($){const G=P.current;U===void 0?$(G):$(G,U)}},x=S(u),T=S(($,U)=>{ab($);const{duration:G,delay:B,easing:z}=zi({style:m,timeout:g,easing:o},{mode:"enter"});let Q;g==="auto"?(Q=I.transitions.getAutoHeightDuration($.clientHeight),C.current=Q):Q=G,$.style.transition=[I.transitions.create("opacity",{duration:Q,delay:B}),I.transitions.create("transform",{duration:Qh?Q:Q*.666,delay:B,easing:z})].join(","),l&&l($,U)}),v=S(c),k=S(p),M=S($=>{const{duration:U,delay:G,easing:B}=zi({style:m,timeout:g,easing:o},{mode:"exit"});let z;g==="auto"?(z=I.transitions.getAutoHeightDuration($.clientHeight),C.current=z):z=U,$.style.transition=[I.transitions.create("opacity",{duration:z,delay:G}),I.transitions.create("transform",{duration:Qh?z:z*.666,delay:Qh?G:G||z*.333,easing:B})].join(","),$.style.opacity=0,$.style.transform=Wy(.75),d&&d($)}),_=S(h),W=$=>{g==="auto"&&A.start(C.current||0,$),r&&r(P.current,$)};return N.jsx(b,{appear:i,in:a,nodeRef:P,onEnter:T,onEntered:v,onEntering:x,onExit:M,onExited:_,onExiting:k,addEndListener:W,timeout:g==="auto"?null:g,...w,children:($,{ownerState:U,...G})=>D.cloneElement(s,{style:{opacity:0,transform:Wy(.75),visibility:$==="exited"&&!a?"hidden":void 0,...Ij[$],...m,...s.props.style},ref:O,...G})})});gd&&(gd.muiSupportAuto=!0);const Hie=PL({themeId:bc}),Rj=t=>{const{classes:e,disableUnderline:n}=t,i=Ie({root:["root",!n&&"underline"],input:["input"]},qF,e);return{...e,...i}},Mj=X(Nf,{shouldForwardProp:t=>$n(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Of(t,e),!n.disableUnderline&&e.underline]}})(Be(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${nl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${nl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${nl.disabled}, .${nl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${nl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(dr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),Dj=X(Lf,{name:"MuiInput",slot:"Input",overridesResolver:Pf})({}),bb=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:d={},type:h="text",...p}=r,m=Rj(r),b={root:{ownerState:{disableUnderline:i}}},w=u??o?Er(u??o,b):b,A=d.root??s.Root??Mj,C=d.input??s.Input??Dj;return N.jsx(yb,{slots:{root:A,input:C},slotProps:w,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:h,...p,classes:m})});bb.muiName="Input";function Oj(t){return Re("MuiInputLabel",t)}Ae("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Pj=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${de(r)}`,o],asterisk:[a&&"asterisk"]},c=Ie(l,Oj,e);return{...e,...c}},Nj=X(_j,{shouldForwardProp:t=>$n(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Cl.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Be(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Lj=D.forwardRef(function(e,n){const r=Me({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:o,variant:a,className:l,...c}=r,u=_a();let d=o;typeof d>"u"&&u&&(d=u.filled||u.focused||u.adornedStart);const h=ka({props:r,muiFormControl:u,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:u,shrink:d,size:h.size,variant:h.variant,required:h.required,focused:h.focused},m=Pj(p);return N.jsx(Nj,{"data-shrink":d,ref:n,className:le(m.root,l),...c,ownerState:p,classes:m})});function Bj(t){return Re("MuiLink",t)}const Vj=Ae("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Fj=({theme:t,ownerState:e})=>{const n=e.color,r=Ai(t,`palette.${n}.main`,!1)||Ai(t,`palette.${n}`,!1)||e.color,i=Ai(t,`palette.${n}.mainChannel`)||Ai(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:We(r,.4)},ox={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},$j=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,s={root:["root",`underline${de(i)}`,n==="button"&&"button",r&&"focusVisible"]};return Ie(s,Bj,e)},jj=X(xs,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${de(n.underline)}`],n.component==="button"&&e.button]}})(Be(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(dr()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[e].mainChannel} / 0.4)`:We(t.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:We(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:We(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Vj.focusVisible}`]:{outline:"auto"}}}]}))),Wie=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiLink"}),i=Ji(),{className:s,color:o="primary",component:a="a",onBlur:l,onFocus:c,TypographyClasses:u,underline:d="always",variant:h="inherit",sx:p,...m}=r,[g,b]=D.useState(!1),w=P=>{ia(P.target)||b(!1),l&&l(P)},A=P=>{ia(P.target)&&b(!0),c&&c(P)},C={...r,color:o,component:a,focusVisible:g,underline:d,variant:h},I=$j(C);return N.jsx(jj,{color:o,className:le(I.root,s),classes:u,component:a,onBlur:w,onFocus:A,ref:n,ownerState:C,variant:h,...m,sx:[...ox[o]===void 0?[{color:o}]:[],...Array.isArray(p)?p:[p]],style:{...m.style,...d==="always"&&o!=="inherit"&&!ox[o]&&{"--Link-underlineColor":Fj({theme:i,ownerState:C})}}})}),Qr=D.createContext({});function zj(t){return Re("MuiList",t)}Ae("MuiList",["root","padding","dense","subheader"]);const Uj=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Ie({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},zj,e)},Hj=X("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Wj=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c,...u}=r,d=D.useMemo(()=>({dense:a}),[a]),h={...r,component:o,dense:a,disablePadding:l},p=Uj(h);return N.jsx(Qr.Provider,{value:d,children:N.jsxs(Hj,{as:o,className:le(p.root,s),ref:n,ownerState:h,...u,children:[c,i]})})});function qj(t){return Re("MuiListItem",t)}Ae("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const Gj=Ae("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Kj(t){return Re("MuiListItemSecondaryAction",t)}Ae("MuiListItemSecondaryAction",["root","disableGutters"]);const Yj=t=>{const{disableGutters:e,classes:n}=t;return Ie({root:["root",e&&"disableGutters"]},Kj,n)},Qj=X("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),II=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...s}=r,o=D.useContext(Qr),a={...r,disableGutters:o.disableGutters},l=Yj(a);return N.jsx(Qj,{className:le(l.root,i),ownerState:a,ref:n,...s})});II.muiName="ListItemSecondaryAction";const Jj=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},Xj=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:i,disablePadding:s,divider:o,hasSecondaryAction:a}=t;return Ie({root:["root",r&&"dense",!i&&"gutters",!s&&"padding",o&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},qj,n)},Zj=X("div",{name:"MuiListItem",slot:"Root",overridesResolver:Jj})(Be(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Gj.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),ez=X("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),qie=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiListItem"}),{alignItems:i="center",children:s,className:o,component:a,components:l={},componentsProps:c={},ContainerComponent:u="li",ContainerProps:{className:d,...h}={},dense:p=!1,disableGutters:m=!1,disablePadding:g=!1,divider:b=!1,secondaryAction:w,slotProps:A={},slots:C={},...I}=r,P=D.useContext(Qr),O=D.useMemo(()=>({dense:p||P.dense||!1,alignItems:i,disableGutters:m}),[i,P.dense,p,m]),S=D.useRef(null),x=D.Children.toArray(s),T=x.length&&$u(x[x.length-1],["ListItemSecondaryAction"]),v={...r,alignItems:i,dense:O.dense,disableGutters:m,disablePadding:g,divider:b,hasSecondaryAction:T},k=Xj(v),M=vt(S,n),_=C.root||l.Root||Zj,W=A.root||c.root||{},$={className:le(k.root,W.className,o),...I};let U=a||"li";return T?(U=!$.component&&!a?"div":U,u==="li"&&(U==="li"?U="div":$.component==="li"&&($.component="div")),N.jsx(Qr.Provider,{value:O,children:N.jsxs(ez,{as:u,className:le(k.container,d),ref:M,ownerState:v,...h,children:[N.jsx(_,{...W,...!Gl(_)&&{as:U,ownerState:{...v,...W.ownerState}},...$,children:x}),x.pop()]})})):N.jsx(Qr.Provider,{value:O,children:N.jsxs(_,{...W,as:U,ref:M,...!Gl(_)&&{ownerState:{...v,...W.ownerState}},...$,children:[x,w&&N.jsx(II,{children:w})]})})});function tz(t){return Re("MuiListItemIcon",t)}const ax=Ae("MuiListItemIcon",["root","alignItemsFlexStart"]),nz=t=>{const{alignItems:e,classes:n}=t;return Ie({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},tz,n)},rz=X("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Be(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Gie=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiListItemIcon"}),{className:i,...s}=r,o=D.useContext(Qr),a={...r,alignItems:o.alignItems},l=nz(a);return N.jsx(rz,{className:le(l.root,i),ownerState:a,ref:n,...s})});function iz(t){return Re("MuiListItemText",t)}const zo=Ae("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),sz=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:s}=t;return Ie({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},iz,e)},oz=X("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${zo.primary}`]:e.primary},{[`& .${zo.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${VE.root}:where(& .${zo.primary})`]:{display:"block"},[`.${VE.root}:where(& .${zo.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Kie=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d,slots:h={},slotProps:p={},...m}=r,{dense:g}=D.useContext(Qr);let b=l??i,w=u;const A={...r,disableTypography:o,inset:a,primary:!!b,secondary:!!w,dense:g},C=sz(A),I={slots:h,slotProps:{primary:c,secondary:d,...p}},[P,O]=Zt("primary",{className:C.primary,elementType:xs,externalForwardedProps:I,ownerState:A}),[S,x]=Zt("secondary",{className:C.secondary,elementType:xs,externalForwardedProps:I,ownerState:A});return b!=null&&b.type!==xs&&!o&&(b=N.jsx(P,{variant:g?"body2":"body1",component:O!=null&&O.variant?void 0:"span",...O,children:b})),w!=null&&w.type!==xs&&!o&&(w=N.jsx(S,{variant:"body2",color:"textSecondary",...x,children:w})),N.jsxs(oz,{className:le(C.root,s),ownerState:A,ref:n,...m,children:[b,w]})});function Jh(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function lx(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function RI(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function rl(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!RI(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const az=D.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu",...h}=e,p=D.useRef(null),m=D.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ar(()=>{i&&p.current.focus()},[i]),D.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:I})=>{const P=!p.current.style.width;if(C.clientHeight<p.current.clientHeight&&P){const O=`${I_(ur(C))}px`;p.current.style[I==="rtl"?"paddingLeft":"paddingRight"]=O,p.current.style.width=`calc(100% + ${O})`}return p.current}}),[]);const g=C=>{const I=p.current,P=C.key;if(C.ctrlKey||C.metaKey||C.altKey){u&&u(C);return}const S=Vn(I).activeElement;if(P==="ArrowDown")C.preventDefault(),rl(I,S,c,l,Jh);else if(P==="ArrowUp")C.preventDefault(),rl(I,S,c,l,lx);else if(P==="Home")C.preventDefault(),rl(I,null,c,l,Jh);else if(P==="End")C.preventDefault(),rl(I,null,c,l,lx);else if(P.length===1){const x=m.current,T=P.toLowerCase(),v=performance.now();x.keys.length>0&&(v-x.lastTime>500?(x.keys=[],x.repeating=!0,x.previousKeyMatched=!0):x.repeating&&T!==x.keys[0]&&(x.repeating=!1)),x.lastTime=v,x.keys.push(T);const k=S&&!x.repeating&&RI(S,x);x.previousKeyMatched&&(k||rl(I,S,!1,l,Jh,x))?C.preventDefault():x.previousKeyMatched=!1}u&&u(C)},b=vt(p,n);let w=-1;D.Children.forEach(o,(C,I)=>{if(!D.isValidElement(C)){w===I&&(w+=1,w>=o.length&&(w=-1));return}C.props.disabled||(d==="selectedMenu"&&C.props.selected||w===-1)&&(w=I),w===I&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(w+=1,w>=o.length&&(w=-1))});const A=D.Children.map(o,(C,I)=>{if(I===w){const P={};return s&&(P.autoFocus=!0),C.props.tabIndex===void 0&&d==="selectedMenu"&&(P.tabIndex=0),D.cloneElement(C,P)}return C});return N.jsx(Wj,{role:"menu",ref:b,className:a,onKeyDown:g,tabIndex:i?0:-1,...h,children:A})});function lz(t){return Re("MuiPopover",t)}Ae("MuiPopover",["root","paper"]);function cx(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function ux(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function dx(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Xh(t){return typeof t=="function"?t():t}const cz=t=>{const{classes:e}=t;return Ie({root:["root"],paper:["paper"]},lz,e)},uz=X(AI,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),MI=X(lb,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),dz=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:h=8,marginThreshold:p=16,open:m,PaperProps:g={},slots:b={},slotProps:w={},transformOrigin:A={vertical:"top",horizontal:"left"},TransitionComponent:C=gd,transitionDuration:I="auto",TransitionProps:{onEntering:P,...O}={},disableScrollLock:S=!1,...x}=r,T=(w==null?void 0:w.paper)??g,v=D.useRef(),k={...r,anchorOrigin:o,anchorReference:l,elevation:h,marginThreshold:p,externalPaperSlotProps:T,transformOrigin:A,TransitionComponent:C,transitionDuration:I,TransitionProps:O},M=cz(k),_=D.useCallback(()=>{if(l==="anchorPosition")return a;const me=Xh(s),ge=(me&&me.nodeType===1?me:Vn(v.current).body).getBoundingClientRect();return{top:ge.top+cx(ge,o.vertical),left:ge.left+ux(ge,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),W=D.useCallback(me=>({vertical:cx(me,A.vertical),horizontal:ux(me,A.horizontal)}),[A.horizontal,A.vertical]),$=D.useCallback(me=>{const xe={width:me.offsetWidth,height:me.offsetHeight},ge=W(xe);if(l==="none")return{top:null,left:null,transformOrigin:dx(ge)};const ze=_();let be=ze.top-ge.vertical,ie=ze.left-ge.horizontal;const rt=be+xe.height,ue=ie+xe.width,$e=ur(Xh(s)),lt=$e.innerHeight-p,Ue=$e.innerWidth-p;if(p!==null&&be<p){const Ve=be-p;be-=Ve,ge.vertical+=Ve}else if(p!==null&&rt>lt){const Ve=rt-lt;be-=Ve,ge.vertical+=Ve}if(p!==null&&ie<p){const Ve=ie-p;ie-=Ve,ge.horizontal+=Ve}else if(ue>Ue){const Ve=ue-Ue;ie-=Ve,ge.horizontal+=Ve}return{top:`${Math.round(be)}px`,left:`${Math.round(ie)}px`,transformOrigin:dx(ge)}},[s,l,_,W,p]),[U,G]=D.useState(m),B=D.useCallback(()=>{const me=v.current;if(!me)return;const xe=$(me);xe.top!==null&&me.style.setProperty("top",xe.top),xe.left!==null&&(me.style.left=xe.left),me.style.transformOrigin=xe.transformOrigin,G(!0)},[$]);D.useEffect(()=>(S&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)),[s,S,B]);const z=(me,xe)=>{P&&P(me,xe),B()},Q=()=>{G(!1)};D.useEffect(()=>{m&&B()}),D.useImperativeHandle(i,()=>m?{updatePosition:()=>{B()}}:null,[m,B]),D.useEffect(()=>{if(!m)return;const me=Yv(()=>{B()}),xe=ur(s);return xe.addEventListener("resize",me),()=>{me.clear(),xe.removeEventListener("resize",me)}},[s,m,B]);let ae=I;I==="auto"&&!C.muiSupportAuto&&(ae=void 0);const ce=d||(s?Vn(Xh(s)).body:void 0),oe={slots:b,slotProps:{...w,paper:T}},[pe,fe]=Zt("paper",{elementType:MI,externalForwardedProps:oe,additionalProps:{elevation:h,className:le(M.paper,T==null?void 0:T.className),style:U?T.style:{...T.style,opacity:0}},ownerState:k}),[te,{slotProps:ve,...Te}]=Zt("root",{elementType:uz,externalForwardedProps:oe,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:ce,open:m},ownerState:k,className:le(M.root,u)}),De=vt(v,fe.ref);return N.jsx(te,{...Te,...!Gl(te)&&{slotProps:ve,disableScrollLock:S},...x,ref:n,children:N.jsx(C,{appear:!0,in:m,onEntering:z,onExited:Q,timeout:ae,...O,children:N.jsx(pe,{...fe,ref:De,children:c})})})});function fz(t){return Re("MuiMenu",t)}Ae("MuiMenu",["root","paper","list"]);const hz={vertical:"top",horizontal:"right"},pz={vertical:"top",horizontal:"left"},mz=t=>{const{classes:e}=t;return Ie({root:["root"],paper:["paper"],list:["list"]},fz,e)},gz=X(dz,{shouldForwardProp:t=>$n(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),yz=X(MI,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),vz=X(az,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),bz=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:o,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m,...g}={},variant:b="selectedMenu",slots:w={},slotProps:A={},...C}=r,I=Mf(),P={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:m,PaperProps:d,transitionDuration:p,TransitionProps:g,variant:b},O=mz(P),S=i&&!a&&u,x=D.useRef(null),T=(U,G)=>{x.current&&x.current.adjustStyleForScrollbar(U,{direction:I?"rtl":"ltr"}),m&&m(U,G)},v=U=>{U.key==="Tab"&&(U.preventDefault(),c&&c(U,"tabKeyDown"))};let k=-1;D.Children.map(s,(U,G)=>{D.isValidElement(U)&&(U.props.disabled||(b==="selectedMenu"&&U.props.selected||k===-1)&&(k=G))});const M=w.paper??yz,_=A.paper??d,W=cd({elementType:w.root,externalSlotProps:A.root,ownerState:P,className:[O.root,o]}),$=cd({elementType:M,externalSlotProps:_,ownerState:P,className:O.paper});return N.jsx(gz,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:I?"right":"left"},transformOrigin:I?hz:pz,slots:{paper:M,root:w.root},slotProps:{root:W,paper:$},open:u,ref:n,transitionDuration:p,TransitionProps:{onEntering:T,...g},ownerState:P,...C,classes:h,children:N.jsx(vz,{onKeyDown:v,actions:x,autoFocus:i&&(k===-1||a),autoFocusItem:S,variant:b,...l,className:le(O.list,l.className),children:s})})});function wz(t){return Re("MuiMenuItem",t)}const il=Ae("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Ez=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},xz=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=Ie({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},wz,o);return{...o,...l}},Sz=X(wc,{shouldForwardProp:t=>$n(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Ez})(Be(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${il.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:We(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${il.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:We(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${il.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:We(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:We(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${il.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${il.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${nx.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${nx.inset}`]:{marginLeft:52},[`& .${zo.root}`]:{marginTop:0,marginBottom:0},[`& .${zo.inset}`]:{paddingLeft:36},[`& .${ax.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${ax.root} svg`]:{fontSize:"1.25rem"}}}]}))),ps=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h,...p}=r,m=D.useContext(Qr),g=D.useMemo(()=>({dense:o||m.dense||!1,disableGutters:l}),[m.dense,o,l]),b=D.useRef(null);Ar(()=>{i&&b.current&&b.current.focus()},[i]);const w={...r,dense:g.dense,divider:a,disableGutters:l},A=xz(r),C=vt(b,n);let I;return r.disabled||(I=d!==void 0?d:-1),N.jsx(Qr.Provider,{value:g,children:N.jsx(Sz,{ref:C,role:u,tabIndex:I,component:s,focusVisibleClassName:le(A.focusVisible,c),className:le(A.root,h),...p,ownerState:w,classes:A})})});function Tz(t){return Re("MuiNativeSelect",t)}const wb=Ae("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Cz=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${de(n)}`,s&&"iconOpen",r&&"disabled"]};return Ie(a,Tz,e)},DI=X("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${wb.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Az=X(DI,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:$n,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${wb.multiple}`]:e.multiple}]}})({}),OI=X("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${wb.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),kz=X(OI,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})({}),_z=D.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard",...c}=e,u={...e,disabled:i,variant:l,error:s},d=Cz(u);return N.jsxs(D.Fragment,{children:[N.jsx(Az,{ownerState:u,className:le(d.select,r),disabled:i,ref:a||n,...c}),e.multiple?null:N.jsx(kz,{as:o,ownerState:u,className:d.icon})]})});var fx;const Iz=X("fieldset",{shouldForwardProp:$n})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Rz=X("legend",{shouldForwardProp:$n})(Be(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function Mz(t){const{children:e,classes:n,className:r,label:i,notched:s,...o}=t,a=i!=null&&i!=="",l={...t,notched:s,withLabel:a};return N.jsx(Iz,{"aria-hidden":!0,className:r,ownerState:l,...o,children:N.jsx(Rz,{ownerState:l,children:a?N.jsx("span",{children:i}):fx||(fx=N.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const Dz=t=>{const{classes:e}=t,r=Ie({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},GF,e);return{...e,...r}},Oz=X(Nf,{shouldForwardProp:t=>$n(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Of})(Be(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${jn.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${jn.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${jn.focused} .${jn.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(dr()).map(([n])=>({props:{color:n},style:{[`&.${jn.focused} .${jn.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${jn.error} .${jn.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${jn.disabled} .${jn.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Pz=X(Mz,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Be(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),Nz=X(Lf,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Pf})(Be(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),Eb=D.forwardRef(function(e,n){var r;const i=Me({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,slots:d={},type:h="text",...p}=i,m=Dz(i),g=_a(),b=ka({props:i,muiFormControl:g,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w={...i,color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:g,fullWidth:o,hiddenLabel:b.hiddenLabel,multiline:c,size:b.size,type:h},A=d.root??s.Root??Oz,C=d.input??s.Input??Nz;return N.jsx(yb,{slots:{root:A,input:C},renderSuffix:I=>N.jsx(Pz,{ownerState:w,className:m.notchedOutline,label:l!=null&&l!==""&&b.required?r||(r=N.jsxs(D.Fragment,{children:[l," ","*"]})):l,notched:typeof u<"u"?u:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:o,inputComponent:a,multiline:c,ref:n,type:h,...p,classes:{...m,notchedOutline:null}})});Eb.muiName="Input";function PI(t){return Re("MuiSelect",t)}const Lo=Ae("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var hx;const Lz=X(DI,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Lo.select}`]:e.select},{[`&.${Lo.select}`]:e[n.variant]},{[`&.${Lo.error}`]:e.error},{[`&.${Lo.multiple}`]:e.multiple}]}})({[`&.${Lo.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Bz=X(OI,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})({}),Vz=X("input",{shouldForwardProp:t=>fI(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function px(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Fz(t){return t==null||typeof t=="string"&&!t.trim()}const $z=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${de(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ie(a,PI,e)},jz=D.forwardRef(function(e,n){var dt;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:h,error:p=!1,IconComponent:m,inputRef:g,labelId:b,MenuProps:w={},multiple:A,name:C,onBlur:I,onChange:P,onClose:O,onFocus:S,onOpen:x,open:T,readOnly:v,renderValue:k,required:M,SelectDisplayProps:_={},tabIndex:W,type:$,value:U,variant:G="standard",...B}=e,[z,Q]=Ay({controlled:U,default:u,name:"Select"}),[ae,ce]=Ay({controlled:T,default:c,name:"Select"}),oe=D.useRef(null),pe=D.useRef(null),[fe,te]=D.useState(null),{current:ve}=D.useRef(T!=null),[Te,De]=D.useState(),me=vt(n,g),xe=D.useCallback(he=>{pe.current=he,he&&te(he)},[]),ge=fe==null?void 0:fe.parentNode;D.useImperativeHandle(me,()=>({focus:()=>{pe.current.focus()},node:oe.current,value:z}),[z]),D.useEffect(()=>{c&&ae&&fe&&!ve&&(De(o?null:ge.clientWidth),pe.current.focus())},[fe,o]),D.useEffect(()=>{s&&pe.current.focus()},[s]),D.useEffect(()=>{if(!b)return;const he=Vn(pe.current).getElementById(b);if(he){const Ke=()=>{getSelection().isCollapsed&&pe.current.focus()};return he.addEventListener("click",Ke),()=>{he.removeEventListener("click",Ke)}}},[b]);const ze=(he,Ke)=>{he?x&&x(Ke):O&&O(Ke),ve||(De(o?null:ge.clientWidth),ce(he))},be=he=>{he.button===0&&(he.preventDefault(),pe.current.focus(),ze(!0,he))},ie=he=>{ze(!1,he)},rt=D.Children.toArray(a),ue=he=>{const Ke=rt.find(kt=>kt.props.value===he.target.value);Ke!==void 0&&(Q(Ke.props.value),P&&P(he,Ke))},$e=he=>Ke=>{let kt;if(Ke.currentTarget.hasAttribute("tabindex")){if(A){kt=Array.isArray(z)?z.slice():[];const yn=z.indexOf(he.props.value);yn===-1?kt.push(he.props.value):kt.splice(yn,1)}else kt=he.props.value;if(he.props.onClick&&he.props.onClick(Ke),z!==kt&&(Q(kt),P)){const yn=Ke.nativeEvent||Ke,as=new yn.constructor(yn.type,yn);Object.defineProperty(as,"target",{writable:!0,value:{value:kt,name:C}}),P(as,he)}A||ze(!1,Ke)}},lt=he=>{v||[" ","ArrowUp","ArrowDown","Enter"].includes(he.key)&&(he.preventDefault(),ze(!0,he))},Ue=fe!==null&&ae,Ve=he=>{!Ue&&I&&(Object.defineProperty(he,"target",{writable:!0,value:{value:z,name:C}}),I(he))};delete B["aria-invalid"];let ne,qe;const Ze=[];let Ot=!1;(md({value:z})||h)&&(k?ne=k(z):Ot=!0);const et=rt.map(he=>{if(!D.isValidElement(he))return null;let Ke;if(A){if(!Array.isArray(z))throw new Error($s(2));Ke=z.some(kt=>px(kt,he.props.value)),Ke&&Ot&&Ze.push(he.props.children)}else Ke=px(z,he.props.value),Ke&&Ot&&(qe=he.props.children);return D.cloneElement(he,{"aria-selected":Ke?"true":"false",onClick:$e(he),onKeyUp:kt=>{kt.key===" "&&kt.preventDefault(),he.props.onKeyUp&&he.props.onKeyUp(kt)},role:"option",selected:Ke,value:void 0,"data-value":he.props.value})});Ot&&(A?Ze.length===0?ne=null:ne=Ze.reduce((he,Ke,kt)=>(he.push(Ke),kt<Ze.length-1&&he.push(", "),he),[]):ne=qe);let Ge=Te;!o&&ve&&fe&&(Ge=ge.clientWidth);let yt;typeof W<"u"?yt=W:yt=d?null:0;const Lt=_.id||(C?`mui-component-select-${C}`:void 0),Ht={...e,variant:G,value:z,open:Ue,error:p},_e=$z(Ht),At={...w.PaperProps,...(dt=w.slotProps)==null?void 0:dt.paper},ut=pc();return N.jsxs(D.Fragment,{children:[N.jsx(Lz,{as:"div",ref:xe,tabIndex:yt,role:"combobox","aria-controls":Ue?ut:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":Ue?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[b,Lt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":M?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:lt,onMouseDown:d||v?null:be,onBlur:Ve,onFocus:S,..._,ownerState:Ht,className:le(_.className,_e.select,l),id:Lt,children:Fz(ne)?hx||(hx=N.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):ne}),N.jsx(Vz,{"aria-invalid":p,value:Array.isArray(z)?z.join(","):z,name:C,ref:oe,"aria-hidden":!0,onChange:ue,tabIndex:-1,disabled:d,className:_e.nativeInput,autoFocus:s,required:M,...B,ownerState:Ht}),N.jsx(Bz,{as:m,className:_e.icon,ownerState:Ht}),N.jsx(bz,{id:`menu-${C||""}`,anchorEl:ge,open:Ue,onClose:ie,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...w,MenuListProps:{"aria-labelledby":b,role:"listbox","aria-multiselectable":A?"true":void 0,disableListWrap:!0,id:ut,...w.MenuListProps},slotProps:{...w.slotProps,paper:{...At,style:{minWidth:Ge,...At!=null?At.style:null}}},children:et})]})}),zz=t=>{const{classes:e}=t,r=Ie({root:["root"]},PI,e);return{...e,...r}},xb={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>$n(t)&&t!=="variant",slot:"Root"},Uz=X(bb,xb)(""),Hz=X(Eb,xb)(""),Wz=X(vb,xb)(""),Sb=D.forwardRef(function(e,n){const r=Me({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=YF,id:d,input:h,inputProps:p,label:m,labelId:g,MenuProps:b,multiple:w=!1,native:A=!1,onClose:C,onOpen:I,open:P,renderValue:O,SelectDisplayProps:S,variant:x="outlined",...T}=r,v=A?_z:jz,k=_a(),M=ka({props:r,muiFormControl:k,states:["variant","error"]}),_=M.variant||x,W={...r,variant:_,classes:o},$=zz(W),{root:U,...G}=$,B=h||{standard:N.jsx(Uz,{ownerState:W}),outlined:N.jsx(Hz,{label:m,ownerState:W}),filled:N.jsx(Wz,{ownerState:W})}[_],z=vt(n,to(B));return N.jsx(D.Fragment,{children:D.cloneElement(B,{inputComponent:v,inputProps:{children:s,error:M.error,IconComponent:u,variant:_,type:void 0,multiple:w,...A?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:g,MenuProps:b,onClose:C,onOpen:I,open:P,renderValue:O,SelectDisplayProps:{id:d,...S}},...p,classes:p?Er(G,p.classes):G,...h?h.props.inputProps:{}},...(w&&A||c)&&_==="outlined"?{notched:!0}:{},ref:z,className:le(B.props.className,a,$.root),...!h&&{variant:_},...T})})});Sb.muiName="Select";function qz(t){return Re("MuiTooltip",t)}const St=Ae("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Gz(t){return Math.round(t*1e5)/1e5}const Kz=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${de(s.split("-")[0])}`],arrow:["arrow"]};return Ie(o,qz,e)},Yz=X(TI,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(Be(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${St.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${St.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${St.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${St.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${St.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${St.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${St.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${St.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Qz=X("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${de(n.placement.split("-")[0])}`]]}})(Be(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:We(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${St.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${St.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${St.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${St.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Gz(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${St.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${St.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${St.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${St.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${St.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${St.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${St.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${St.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${St.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${St.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Jz=X("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(Be(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:We(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let gu=!1;const mx=new gf;let sl={x:0,y:0};function yu(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const Xz=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:s,classes:o,components:a={},componentsProps:l={},describeChild:c=!1,disableFocusListener:u=!1,disableHoverListener:d=!1,disableInteractive:h=!1,disableTouchListener:p=!1,enterDelay:m=100,enterNextDelay:g=0,enterTouchDelay:b=700,followCursor:w=!1,id:A,leaveDelay:C=0,leaveTouchDelay:I=1500,onClose:P,onOpen:O,open:S,placement:x="bottom",PopperComponent:T,PopperProps:v={},slotProps:k={},slots:M={},title:_,TransitionComponent:W,TransitionProps:$,...U}=r,G=D.isValidElement(s)?s:N.jsx("span",{children:s}),B=Ji(),z=Mf(),[Q,ae]=D.useState(),[ce,oe]=D.useState(null),pe=D.useRef(!1),fe=h||w,te=Es(),ve=Es(),Te=Es(),De=Es(),[me,xe]=Ay({controlled:S,default:!1,name:"Tooltip",state:"open"});let ge=me;const ze=pc(A),be=D.useRef(),ie=Di(()=>{be.current!==void 0&&(document.body.style.WebkitUserSelect=be.current,be.current=void 0),De.clear()});D.useEffect(()=>ie,[ie]);const rt=Ce=>{mx.clear(),gu=!0,xe(!0),O&&!ge&&O(Ce)},ue=Di(Ce=>{mx.start(800+C,()=>{gu=!1}),xe(!1),P&&ge&&P(Ce),te.start(B.transitions.duration.shortest,()=>{pe.current=!1})}),$e=Ce=>{pe.current&&Ce.type!=="touchstart"||(Q&&Q.removeAttribute("title"),ve.clear(),Te.clear(),m||gu&&g?ve.start(gu?g:m,()=>{rt(Ce)}):rt(Ce))},lt=Ce=>{ve.clear(),Te.start(C,()=>{ue(Ce)})},[,Ue]=D.useState(!1),Ve=Ce=>{ia(Ce.target)||(Ue(!1),lt(Ce))},ne=Ce=>{Q||ae(Ce.currentTarget),ia(Ce.target)&&(Ue(!0),$e(Ce))},qe=Ce=>{pe.current=!0;const Wt=G.props;Wt.onTouchStart&&Wt.onTouchStart(Ce)},Ze=Ce=>{qe(Ce),Te.clear(),te.clear(),ie(),be.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",De.start(b,()=>{document.body.style.WebkitUserSelect=be.current,$e(Ce)})},Ot=Ce=>{G.props.onTouchEnd&&G.props.onTouchEnd(Ce),ie(),Te.start(I,()=>{ue(Ce)})};D.useEffect(()=>{if(!ge)return;function Ce(Wt){Wt.key==="Escape"&&ue(Wt)}return document.addEventListener("keydown",Ce),()=>{document.removeEventListener("keydown",Ce)}},[ue,ge]);const et=vt(to(G),ae,n);!_&&_!==0&&(ge=!1);const Ge=D.useRef(),yt=Ce=>{const Wt=G.props;Wt.onMouseMove&&Wt.onMouseMove(Ce),sl={x:Ce.clientX,y:Ce.clientY},Ge.current&&Ge.current.update()},Lt={},Ht=typeof _=="string";c?(Lt.title=!ge&&Ht&&!d?_:null,Lt["aria-describedby"]=ge?ze:null):(Lt["aria-label"]=Ht?_:null,Lt["aria-labelledby"]=ge&&!Ht?ze:null);const _e={...Lt,...U,...G.props,className:le(U.className,G.props.className),onTouchStart:qe,ref:et,...w?{onMouseMove:yt}:{}},At={};p||(_e.onTouchStart=Ze,_e.onTouchEnd=Ot),d||(_e.onMouseOver=yu($e,_e.onMouseOver),_e.onMouseLeave=yu(lt,_e.onMouseLeave),fe||(At.onMouseOver=$e,At.onMouseLeave=lt)),u||(_e.onFocus=yu(ne,_e.onFocus),_e.onBlur=yu(Ve,_e.onBlur),fe||(At.onFocus=ne,At.onBlur=Ve));const ut={...r,isRtl:z,arrow:i,disableInteractive:fe,placement:x,PopperComponentProp:T,touch:pe.current},dt=typeof k.popper=="function"?k.popper(ut):k.popper,he=D.useMemo(()=>{var Wt,Va;let Ce=[{name:"arrow",enabled:!!ce,options:{element:ce,padding:4}}];return(Wt=v.popperOptions)!=null&&Wt.modifiers&&(Ce=Ce.concat(v.popperOptions.modifiers)),(Va=dt==null?void 0:dt.popperOptions)!=null&&Va.modifiers&&(Ce=Ce.concat(dt.popperOptions.modifiers)),{...v.popperOptions,...dt==null?void 0:dt.popperOptions,modifiers:Ce}},[ce,v.popperOptions,dt==null?void 0:dt.popperOptions]),Ke=Kz(ut),kt=typeof k.transition=="function"?k.transition(ut):k.transition,yn={slots:{popper:a.Popper,transition:a.Transition??W,tooltip:a.Tooltip,arrow:a.Arrow,...M},slotProps:{arrow:k.arrow??l.arrow,popper:{...v,...dt??l.popper},tooltip:k.tooltip??l.tooltip,transition:{...$,...kt??l.transition}}},[as,Hc]=Zt("popper",{elementType:Yz,externalForwardedProps:yn,ownerState:ut,className:le(Ke.popper,v==null?void 0:v.className)}),[ls,La]=Zt("transition",{elementType:gd,externalForwardedProps:yn,ownerState:ut}),[Ba,Vr]=Zt("tooltip",{elementType:Qz,className:Ke.tooltip,externalForwardedProps:yn,ownerState:ut}),[Wc,yo]=Zt("arrow",{elementType:Jz,className:Ke.arrow,externalForwardedProps:yn,ownerState:ut,ref:oe});return N.jsxs(D.Fragment,{children:[D.cloneElement(G,_e),N.jsx(as,{as:T??TI,placement:x,anchorEl:w?{getBoundingClientRect:()=>({top:sl.y,left:sl.x,right:sl.x,bottom:sl.y,width:0,height:0})}:Q,popperRef:Ge,open:Q?ge:!1,id:ze,transition:!0,...At,...Hc,popperOptions:he,children:({TransitionProps:Ce})=>N.jsx(ls,{timeout:B.transitions.duration.shorter,...Ce,...La,children:N.jsxs(Ba,{...Vr,children:[_,i?N.jsx(Wc,{...yo}):null]})})})]})});function Zz(t){return Re("MuiTextField",t)}Ae("MuiTextField",["root"]);const eU={standard:bb,filled:vb,outlined:Eb},tU=t=>{const{classes:e}=t;return Ie({root:["root"]},Zz,e)},nU=X(bj,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Yie=D.forwardRef(function(e,n){const r=Me({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:g,InputLabelProps:b,inputProps:w,InputProps:A,inputRef:C,label:I,maxRows:P,minRows:O,multiline:S=!1,name:x,onBlur:T,onChange:v,onFocus:k,placeholder:M,required:_=!1,rows:W,select:$=!1,SelectProps:U,slots:G={},slotProps:B={},type:z,value:Q,variant:ae="outlined",...ce}=r,oe={...r,autoFocus:s,color:l,disabled:u,error:d,fullWidth:p,multiline:S,required:_,select:$,variant:ae},pe=tU(oe),fe=pc(g),te=m&&fe?`${fe}-helper-text`:void 0,ve=I&&fe?`${fe}-label`:void 0,Te=eU[ae],De={slots:G,slotProps:{input:A,inputLabel:b,htmlInput:w,formHelperText:h,select:U,...B}},me={},xe=De.slotProps.inputLabel;ae==="outlined"&&(xe&&typeof xe.shrink<"u"&&(me.notched=xe.shrink),me.label=I),$&&((!U||!U.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const[ge,ze]=Zt("input",{elementType:Te,externalForwardedProps:De,additionalProps:me,ownerState:oe}),[be,ie]=Zt("inputLabel",{elementType:Lj,externalForwardedProps:De,ownerState:oe}),[rt,ue]=Zt("htmlInput",{elementType:"input",externalForwardedProps:De,ownerState:oe}),[$e,lt]=Zt("formHelperText",{elementType:Sj,externalForwardedProps:De,ownerState:oe}),[Ue,Ve]=Zt("select",{elementType:Sb,externalForwardedProps:De,ownerState:oe}),ne=N.jsx(ge,{"aria-describedby":te,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:p,multiline:S,name:x,rows:W,maxRows:P,minRows:O,type:z,value:Q,id:fe,inputRef:C,onBlur:T,onChange:v,onFocus:k,placeholder:M,inputProps:ue,slots:{input:G.htmlInput?rt:void 0},...ze});return N.jsxs(nU,{className:le(pe.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:_,color:l,variant:ae,ownerState:oe,...ce,children:[I!=null&&I!==""&&N.jsx(be,{htmlFor:fe,id:ve,...ie,children:I}),$?N.jsx(Ue,{"aria-describedby":te,id:fe,labelId:ve,value:Q,input:ne,...Ve,children:o}):ne,m&&N.jsx($e,{id:te,...lt,children:m})]})});function rU(t){return Re("MuiToggleButton",t)}const qu=Ae("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),iU=D.createContext({}),sU=D.createContext(void 0);function oU(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const aU=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:s,color:o}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${de(s)}`,o]};return Ie(a,rU,e)},lU=X(wc,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${de(n.size)}`]]}})(Be(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${qu.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:We(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${qu.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:We(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:We(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:We(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(dr()).map(([e])=>({props:{color:e},style:{[`&.${qu.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:We(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:We(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:We(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),cU=D.forwardRef(function(e,n){const{value:r,...i}=D.useContext(iU),s=D.useContext(sU),o=Qv({...i,selected:oU(e.value,r)},e),a=Me({props:o,name:"MuiToggleButton"}),{children:l,className:c,color:u="standard",disabled:d=!1,disableFocusRipple:h=!1,fullWidth:p=!1,onChange:m,onClick:g,selected:b,size:w="medium",value:A,...C}=a,I={...a,color:u,disabled:d,disableFocusRipple:h,fullWidth:p,size:w},P=aU(I),O=x=>{g&&(g(x,A),x.defaultPrevented)||m&&m(x,A)},S=s||"";return N.jsx(lU,{className:le(i.className,P.root,c,S),disabled:d,focusRipple:!h,ref:n,onClick:O,onChange:m,value:A,ownerState:I,"aria-pressed":b,...C,children:l})});var gx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new dU;const h=s<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fU=function(t){const e=NI(t);return LI.encodeByteArray(e,!0)},yd=function(t){return fU(t).replace(/\./g,"")},BI=function(t){try{return LI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=()=>hU().__FIREBASE_DEFAULTS__,mU=()=>{if(typeof process>"u"||typeof gx>"u")return;const t=gx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BI(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return pU()||mU()||gU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VI=t=>{var e,n;return(n=(e=Bf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FI=t=>{const e=VI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$I=()=>{var t;return(t=Bf())===null||t===void 0?void 0:t.config},jI=t=>{var e;return(e=Bf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yd(JSON.stringify(n)),yd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function bU(){var t;const e=(t=Bf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SU(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TU(){return!bU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CU(){try{return typeof indexedDB=="object"}catch{return!1}}function AU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kU,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_U(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Nr(i,a,r)}}function _U(t,e){return t.replace(IU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IU=/\{\$([^}]+)}/g;function RU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(yx(s)&&yx(o)){if(!vd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MU(t,e){const n=new DU(t,e);return n.subscribe.bind(n)}class DU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zh),i.error===void 0&&(i.error=Zh),i.complete===void 0&&(i.complete=Zh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){return t&&t._delegate?t._delegate:t}class Ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LU(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NU(t){return t===ms?void 0:t}function LU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const VU={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},FU=Ne.INFO,$U={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},jU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$U[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tb{constructor(e){this.name=e,this._logLevel=FU,this._logHandler=jU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const zU=(t,e)=>e.some(n=>t instanceof n);let vx,bx;function UU(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HU(){return bx||(bx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UI=new WeakMap,qy=new WeakMap,HI=new WeakMap,ep=new WeakMap,Cb=new WeakMap;function WU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UI.set(n,t)}).catch(()=>{}),Cb.set(e,t),e}function qU(t){if(qy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qy.set(t,e)}let Gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GU(t){Gy=t(Gy)}function KU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tp(this),e,...n);return HI.set(r,e.sort?e.sort():[e]),Oi(r)}:HU().includes(t)?function(...e){return t.apply(tp(this),e),Oi(UI.get(this))}:function(...e){return Oi(t.apply(tp(this),e))}}function YU(t){return typeof t=="function"?KU(t):(t instanceof IDBTransaction&&qU(t),zU(t,UU())?new Proxy(t,Gy):t)}function Oi(t){if(t instanceof IDBRequest)return WU(t);if(ep.has(t))return ep.get(t);const e=YU(t);return e!==t&&(ep.set(t,e),Cb.set(e,t)),e}const tp=t=>Cb.get(t);function QU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Oi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Oi(o.result),l.oldVersion,l.newVersion,Oi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const JU=["get","getKey","getAll","getAllKeys","count"],XU=["put","add","delete","clear"],np=new Map;function wx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=XU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return np.set(e,s),s}GU(t=>({...t,get:(e,n,r)=>wx(e,n)||t.get(e,n,r),has:(e,n)=>!!wx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ky="@firebase/app",Ex="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Tb("@firebase/app"),tH="@firebase/app-compat",nH="@firebase/analytics-compat",rH="@firebase/analytics",iH="@firebase/app-check-compat",sH="@firebase/app-check",oH="@firebase/auth",aH="@firebase/auth-compat",lH="@firebase/database",cH="@firebase/data-connect",uH="@firebase/database-compat",dH="@firebase/functions",fH="@firebase/functions-compat",hH="@firebase/installations",pH="@firebase/installations-compat",mH="@firebase/messaging",gH="@firebase/messaging-compat",yH="@firebase/performance",vH="@firebase/performance-compat",bH="@firebase/remote-config",wH="@firebase/remote-config-compat",EH="@firebase/storage",xH="@firebase/storage-compat",SH="@firebase/firestore",TH="@firebase/vertexai",CH="@firebase/firestore-compat",AH="firebase",kH="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="[DEFAULT]",_H={[Ky]:"fire-core",[tH]:"fire-core-compat",[rH]:"fire-analytics",[nH]:"fire-analytics-compat",[sH]:"fire-app-check",[iH]:"fire-app-check-compat",[oH]:"fire-auth",[aH]:"fire-auth-compat",[lH]:"fire-rtdb",[cH]:"fire-data-connect",[uH]:"fire-rtdb-compat",[dH]:"fire-fn",[fH]:"fire-fn-compat",[hH]:"fire-iid",[pH]:"fire-iid-compat",[mH]:"fire-fcm",[gH]:"fire-fcm-compat",[yH]:"fire-perf",[vH]:"fire-perf-compat",[bH]:"fire-rc",[wH]:"fire-rc-compat",[EH]:"fire-gcs",[xH]:"fire-gcs-compat",[SH]:"fire-fst",[CH]:"fire-fst-compat",[TH]:"fire-vertex","fire-js":"fire-js",[AH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Map,IH=new Map,Qy=new Map;function xx(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Us(t){const e=t.name;if(Qy.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Qy.set(e,t);for(const n of bd.values())xx(n,t);for(const n of IH.values())xx(n,t);return!0}function Vf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Sc("app","Firebase",RH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=kH;function DH(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(n||(n=$I()),!n)throw Pi.create("no-options");const s=bd.get(i);if(s){if(vd(n,s.options)&&vd(r,s.config))return s;throw Pi.create("duplicate-app",{appName:i})}const o=new BU(i);for(const l of Qy.values())o.addComponent(l);const a=new MH(n,r,o);return bd.set(i,a),a}function Ab(t=Yy){const e=bd.get(t);if(!e&&t===Yy&&$I())return DH();if(!e)throw Pi.create("no-app",{appName:t});return e}function Tr(t,e,n){var r;let i=(r=_H[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(a.join(" "));return}Us(new Ui(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH="firebase-heartbeat-database",PH=1,Kl="firebase-heartbeat-store";let rp=null;function WI(){return rp||(rp=QU(OH,PH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),rp}async function NH(t){try{const n=(await WI()).transaction(Kl),r=await n.objectStore(Kl).get(qI(t));return await n.done,r}catch(e){if(e instanceof Nr)ii.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(n.message)}}}async function Sx(t,e){try{const r=(await WI()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,qI(t)),await r.done}catch(n){if(n instanceof Nr)ii.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ii.warn(r.message)}}}function qI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=1024,BH=30*24*60*60*1e3;class VH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $H(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Tx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=BH}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tx(),{heartbeatsToSend:r,unsentEntries:i}=FH(this._heartbeatsCache.heartbeats),s=yd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ii.warn(n),""}}}function Tx(){return new Date().toISOString().substring(0,10)}function FH(t,e=LH){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Cx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $H{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CU()?AU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Cx(t){return yd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(t){Us(new Ui("platform-logger",e=>new ZU(e),"PRIVATE")),Us(new Ui("heartbeat",e=>new VH(e),"PRIVATE")),Tr(Ky,Ex,t),Tr(Ky,Ex,"esm2017"),Tr("fire-js","")}jH("");function GI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zH=GI,KI=new Sc("auth","Firebase",GI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Tb("@firebase/auth");function UH(t,...e){wd.logLevel<=Ne.WARN&&wd.warn(`Auth (${no}): ${t}`,...e)}function Gu(t,...e){wd.logLevel<=Ne.ERROR&&wd.error(`Auth (${no}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw _b(t,...e)}function lr(t,...e){return _b(t,...e)}function kb(t,e,n){const r=Object.assign(Object.assign({},zH()),{[e]:n});return new Sc("auth","Firebase",r).create(e,{appName:t.name})}function Jr(t){return kb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HH(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xn(t,"argument-error"),kb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _b(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KI.create(t,...e)}function we(t,e,...n){if(!t)throw _b(e,...n)}function qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gu(e),new Error(e)}function si(t,e){t||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WH(){return Ax()==="http:"||Ax()==="https:"}function Ax(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WH()||EU()||"connection"in navigator)?navigator.onLine:!0}function GH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,si(n>e,"Short delay should be less than long delay!"),this.isMobile=vU()||xU()}get(){return qH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e){si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=new Cc(3e4,6e4);function Zi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function es(t,e,n,r,i={}){return QI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Tc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return wU()||(c.referrerPolicy="no-referrer"),YI.fetch()(JI(t,t.config.apiHost,n,a),c)})}async function QI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KH),e);try{const i=new JH(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vu(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kb(t,u,c);Xn(t,u)}}catch(i){if(i instanceof Nr)throw i;Xn(t,"network-request-failed",{message:String(i)})}}async function Ac(t,e,n,r,i={}){const s=await es(t,e,n,r,i);return"mfaPendingCredential"in s&&Xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function JI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ib(t.config,i):`${t.config.apiScheme}://${i}`}function QH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),YH.get())})}}function vu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(t,e,r);return i.customData._tokenResponse=n,i}function kx(t){return t!==void 0&&t.enterprise!==void 0}class XH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZH(t,e){return es(t,"GET","/v2/recaptchaConfig",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(t,e){return es(t,"POST","/v1/accounts:delete",e)}async function XI(t,e){return es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t4(t,e=!1){const n=Mn(t),r=await n.getIdToken(e),i=Rb(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Al(ip(i.auth_time)),issuedAtTime:Al(ip(i.iat)),expirationTime:Al(ip(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ip(t){return Number(t)*1e3}function Rb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{const i=BI(n);return i?JSON.parse(i):(Gu("Failed to decode base64 JWT payload"),null)}catch(i){return Gu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _x(t){const e=Rb(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&n4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function n4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yl(t,XI(n,{idToken:r}));we(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ZI(s.providerUserInfo):[],a=s4(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Xy(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function i4(t){const e=Mn(t);await Ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZI(t){return t.map(e=>{var{providerId:n}=e,r=Uv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e){const n=await QI(t,{},async()=>{const r=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=JI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a4(t,e){return es(t,"POST","/v2/accounts:revokeToken",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_x(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=_x(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await o4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ko;return r&&(we(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(we(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Uv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Xy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t4(this,e)}reload(){return i4(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await Yl(this,e4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,A=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:C,emailVerified:I,isAnonymous:P,providerData:O,stsTokenManager:S}=n;we(C&&S,e,"internal-error");const x=Ko.fromJSON(this.name,S);we(typeof C=="string",e,"internal-error"),pi(d,e.name),pi(h,e.name),we(typeof I=="boolean",e,"internal-error"),we(typeof P=="boolean",e,"internal-error"),pi(p,e.name),pi(m,e.name),pi(g,e.name),pi(b,e.name),pi(w,e.name),pi(A,e.name);const T=new Gr({uid:C,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:P,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:x,createdAt:w,lastLoginAt:A});return O&&Array.isArray(O)&&(T.providerData=O.map(v=>Object.assign({},v))),b&&(T._redirectEventId=b),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ko;i.updateFromServerResponse(n);const s=new Gr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ed(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];we(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ZI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ko;a.updateFromIdToken(r);const l=new Gr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Xy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new Map;function Kr(t){si(t instanceof Function,"Expected a class definition");let e=Ix.get(t);return e?(si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ix.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eR.type="NONE";const Rx=eR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ku(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ku("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yo(Kr(Rx),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Kr(Rx);const o=Ku(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Gr._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Yo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Yo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oR(e))return"Blackberry";if(aR(e))return"Webos";if(nR(e))return"Safari";if((e.includes("chrome/")||rR(e))&&!e.includes("edge/"))return"Chrome";if(sR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tR(t=hn()){return/firefox\//i.test(t)}function nR(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rR(t=hn()){return/crios\//i.test(t)}function iR(t=hn()){return/iemobile/i.test(t)}function sR(t=hn()){return/android/i.test(t)}function oR(t=hn()){return/blackberry/i.test(t)}function aR(t=hn()){return/webos/i.test(t)}function Mb(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l4(t=hn()){var e;return Mb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c4(){return SU()&&document.documentMode===10}function lR(t=hn()){return Mb(t)||sR(t)||aR(t)||oR(t)||/windows phone/i.test(t)||iR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e=[]){let n;switch(t){case"Browser":n=Mx(hn());break;case"Worker":n=`${Mx(hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t,e={}){return es(t,"GET","/v2/passwordPolicy",Zi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=6;class h4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:f4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dx(this),this.idTokenSubscription=new Dx(this),this.beforeStateQueue=new u4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await XI(this,{idToken:e}),r=await Gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(sr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ed(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Jr(this));const n=e?Mn(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d4(this),n=new h4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await a4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ts(t){return Mn(t)}class Dx{constructor(e){this.auth=e,this.observer=null,this.addObserver=MU(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m4(t){Ff=t}function uR(t){return Ff.loadJS(t)}function g4(){return Ff.recaptchaEnterpriseScript}function y4(){return Ff.gapiScript}function v4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class b4{constructor(){this.enterprise=new w4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class w4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const E4="recaptcha-enterprise",dR="NO_RECAPTCHA";class x4{constructor(e){this.type=E4,this.auth=ts(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ZH(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new XH(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;kx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(dR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new b4().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&kx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=g4();l.length!==0&&(l+=a),uR(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Ox(t,e,n,r=!1,i=!1){const s=new x4(t);let o;if(i)o=dR;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Zy(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ox(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ox(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t,e){const n=Vf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(vd(s,e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}function T4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function C4(t,e,n){const r=ts(t);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=fR(e),{host:o,port:a}=A4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),k4()}function fR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A4(t){const e=fR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Px(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Px(o)}}}function Px(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function k4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function _4(t,e){return es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e){return Ac(t,"POST","/v1/accounts:signInWithPassword",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e){return Ac(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}async function M4(t,e){return Ac(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends Db{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ql(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ql(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zy(e,n,"signInWithPassword",I4);case"emailLink":return R4(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zy(e,r,"signUpPassword",_4);case"emailLink":return M4(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e){return Ac(t,"POST","/v1/accounts:signInWithIdp",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="http://localhost";class Hs extends Db{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Uv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:D4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function P4(t){const e=fl(hl(t)).link,n=e?fl(hl(e)).deep_link_id:null,r=fl(hl(t)).deep_link_id;return(r?fl(hl(r)).link:null)||r||n||e||t}class Ob{constructor(e){var n,r,i,s,o,a;const l=fl(hl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=O4((i=l.mode)!==null&&i!==void 0?i:null);we(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=P4(e);try{return new Ob(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,n){return Ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ob.parseLink(n);return we(r,"argument-error"),Ql._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Pb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends kc{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends kc{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends kc{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){return Ac(t,"POST","/v1/accounts:signUp",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Gr._fromIdTokenResponse(e,r,i),o=Nx(r);return new Ws({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Nx(r);return new Ws({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Nx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends Nr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xd(e,n,r,i)}}function hR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xd._fromErrorAndOperation(t,s,e,r):s})}async function L4(t,e,n=!1){const r=await Yl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ws._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(t,e,n=!1){const{auth:r}=t;if(sr(r.app))return Promise.reject(Jr(r));const i="reauthenticate";try{const s=await Yl(t,hR(r,i,e,t),n);we(s.idToken,r,"internal-error");const o=Rb(s.idToken);we(o,r,"internal-error");const{sub:a}=o;return we(t.uid===a,r,"user-mismatch"),Ws._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e,n=!1){if(sr(t.app))return Promise.reject(Jr(t));const r="signIn",i=await hR(t,r,e),s=await Ws._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function V4(t,e){return pR(ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(t){const e=ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qie(t,e,n){if(sr(t.app))return Promise.reject(Jr(t));const r=ts(t),o=await Zy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&mR(t),l}),a=await Ws._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Jie(t,e,n){return sr(t.app)?Promise.reject(Jr(t)):V4(Mn(t),Ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mR(t),r})}function F4(t,e,n,r){return Mn(t).onIdTokenChanged(e,n,r)}function $4(t,e,n){return Mn(t).beforeAuthStateChanged(e,n)}function Xie(t,e,n,r){return Mn(t).onAuthStateChanged(e,n,r)}function Zie(t){return Mn(t).signOut()}const Sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=1e3,z4=10;class yR extends gR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);c4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,z4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},j4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yR.type="LOCAL";const U4=yR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends gR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vR.type="SESSION";const bR=vR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $f(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await H4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Nb("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function q4(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function G4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Y4(){return wR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebaseLocalStorageDb",Q4=1,Td="firebaseLocalStorage",xR="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(t,e){return t.transaction([Td],e?"readwrite":"readonly").objectStore(Td)}function J4(){const t=indexedDB.deleteDatabase(ER);return new _c(t).toPromise()}function ev(){const t=indexedDB.open(ER,Q4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Td,{keyPath:xR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Td)?e(r):(r.close(),await J4(),e(await ev()))})})}async function Lx(t,e,n){const r=jf(t,!0).put({[xR]:e,value:n});return new _c(r).toPromise()}async function X4(t,e){const n=jf(t,!1).get(e),r=await new _c(n).toPromise();return r===void 0?null:r.value}function Bx(t,e){const n=jf(t,!0).delete(e);return new _c(n).toPromise()}const Z4=800,e5=3;class SR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ev(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>e5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(Y4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await G4(),!this.activeServiceWorker)return;this.sender=new W4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ev();return await Lx(e,Sd,"1"),await Bx(e,Sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>X4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jf(i,!1).getAll();return new _c(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SR.type="LOCAL";const t5=SR;new Cc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e){return e?Kr(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends Db{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n5(t){return pR(t.auth,new Lb(t),t.bypassAuthState)}function r5(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),B4(n,new Lb(t),t.bypassAuthState)}async function i5(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),L4(n,new Lb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n5;case"linkViaPopup":case"linkViaRedirect":return i5;case"reauthViaPopup":case"reauthViaRedirect":return r5;default:Xn(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=new Cc(2e3,1e4);async function ese(t,e,n){if(sr(t.app))return Promise.reject(lr(t,"operation-not-supported-in-this-environment"));const r=ts(t);HH(t,e,Pb);const i=TR(r,n);return new Ss(r,"signInViaPopup",e,i).executeNotNull()}class Ss extends CR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=Nb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s5.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="pendingRedirect",Yu=new Map;class a5 extends CR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yu.get(this.auth._key());if(!e){try{const r=await l5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yu.set(this.auth._key(),e)}return this.bypassAuthState||Yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l5(t,e){const n=d5(e),r=u5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function c5(t,e){Yu.set(t._key(),e)}function u5(t){return Kr(t._redirectPersistence)}function d5(t){return Ku(o5,t.config.apiKey,t.name)}async function f5(t,e,n=!1){if(sr(t.app))return Promise.reject(Jr(t));const r=ts(t),i=TR(r,e),o=await new a5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=10*60*1e3;class p5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vx(e))}saveEventToCache(e){this.cachedEventUids.add(Vx(e)),this.lastProcessedEventTime=Date.now()}}function Vx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e={}){return es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v5=/^https?/;async function b5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g5(t);for(const n of e)try{if(w5(n))return}catch{}Xn(t,"unauthorized-domain")}function w5(t){const e=Jy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!v5.test(n))return!1;if(y5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=new Cc(3e4,6e4);function Fx(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function x5(t){return new Promise((e,n)=>{var r,i,s;function o(){Fx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fx(),n(lr(t,"network-request-failed"))},timeout:E5.get()})}if(!((i=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cr().gapi)===null||s===void 0)&&s.load)o();else{const a=v4("iframefcb");return Cr()[a]=()=>{gapi.load?o():n(lr(t,"network-request-failed"))},uR(`${y4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qu=null,e})}let Qu=null;function S5(t){return Qu=Qu||x5(t),Qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=new Cc(5e3,15e3),C5="__/auth/iframe",A5="emulator/auth/iframe",k5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I5(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ib(e,A5):`https://${t.config.authDomain}/${C5}`,r={apiKey:e.apiKey,appName:t.name,v:no},i=_5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tc(r).slice(1)}`}async function R5(t){const e=await S5(t),n=Cr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:I5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=Cr().setTimeout(()=>{s(o)},T5.get());function l(){Cr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D5=500,O5=600,P5="_blank",N5="http://localhost";class $x{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L5(t,e,n,r=D5,i=O5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},M5),{width:r.toString(),height:i.toString(),top:s,left:o}),c=hn().toLowerCase();n&&(a=rR(c)?P5:n),tR(c)&&(e=e||N5,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(l4(c)&&a!=="_self")return B5(e||"",a),new $x(null);const d=window.open(e||"",a,u);we(d,t,"popup-blocked");try{d.focus()}catch{}return new $x(d)}function B5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5="__/auth/handler",F5="emulator/auth/handler",$5=encodeURIComponent("fac");async function jx(t,e,n,r,i,s){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:no,eventId:i};if(e instanceof Pb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",RU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof kc){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${$5}=${encodeURIComponent(l)}`:"";return`${j5(t)}?${Tc(a).slice(1)}${c}`}function j5({config:t}){return t.emulator?Ib(t,F5):`https://${t.authDomain}/${V5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="webStorageSupport";class z5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bR,this._completeRedirectFn=f5,this._overrideRedirectResult=c5}async _openPopup(e,n,r,i){var s;si((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await jx(e,n,r,Jy(),i);return L5(e,o,Nb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jx(e,n,r,Jy(),i);return q4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(si(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await R5(e),r=new p5(e);return n.register("authEvent",i=>(we(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sp,{type:sp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[sp];o!==void 0&&n(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lR()||nR()||Mb()}}const U5=z5;var zx="@firebase/auth",Ux="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q5(t){Us(new Ui("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cR(t)},c=new p4(r,i,s,l);return T4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Us(new Ui("auth-internal",e=>{const n=ts(e.getProvider("auth").getImmediate());return(r=>new H5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tr(zx,Ux,W5(t)),Tr(zx,Ux,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=5*60,K5=jI("authIdTokenMaxAge")||G5;let Hx=null;const Y5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K5)return;const i=n==null?void 0:n.token;Hx!==i&&(Hx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tse(t=Ab()){const e=Vf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=S4(t,{popupRedirectResolver:U5,persistence:[t5,U4,bR]}),r=jI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Y5(s.toString());$4(n,o,()=>o(n.currentUser)),F4(n,a=>o(a))}}const i=VI("auth");return i&&C4(n,`http://${i}`),n}function Q5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}m4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Q5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q5("Browser");const kR=[],tv=new Map;function _R(t){kR.push(t),tv.forEach(e=>{RR(e,t)})}function J5(t){t.isConnected&&t.getRootNode&&IR(t.getRootNode())}function IR(t){let e=tv.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=Z5();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}tv.set(t,e),X5(e)}}function X5(t){for(const e of kR)RR(t,e)}function RR(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let op;function Z5(){return op===void 0&&(op=eW()),op}function eW(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&IR(document);var tW=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';_R(tW);class Bb{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Vb(t){t.parentNode&&t.parentNode.removeChild(t)}function un(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(nW(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function nW(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function rW(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let o=0;o<s.length;o+=1)r.push(s[o])}return r}const iW=/(top|left|right|bottom|width|height)$/i;function kl(t,e){for(let n in e)MR(t,n,e[n])}function MR(t,e,n){n==null?t.style[e]="":typeof n=="number"&&iW.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function DR(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let Wx=0;function zf(){return Wx+=1,"fc-dom-"+Wx}function Uf(t){t.preventDefault()}function sW(t,e){return n=>{let r=un(n.target,t);r&&e.call(r,n,r)}}function OR(t,e,n,r){let i=sW(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function oW(t,e,n,r){let i;return OR(t,"mouseover",e,(s,o)=>{if(o!==i){i=o,n(s,o);let a=l=>{i=null,r(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const qx=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function aW(t,e){let n=r=>{e(r),qx.forEach(i=>{t.removeEventListener(i,n)})};qx.forEach(r=>{t.addEventListener(r,n)})}function PR(t){return Object.assign({onClick:t},NR(t))}function NR(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let Gx=0;function ro(){return Gx+=1,String(Gx)}function Fb(){document.body.classList.add("fc-not-allowed")}function $b(){document.body.classList.remove("fc-not-allowed")}function lW(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Uf)}function cW(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Uf)}function uW(t){t.addEventListener("contextmenu",Uf)}function dW(t){t.removeEventListener("contextmenu",Uf)}function fW(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function hW(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=pW(t,e,n[r]),i)return i;return 0}function pW(t,e,n){return n.func?n.func(t,e):mW(t[n.field],e[n.field])*(n.order||1)}function mW(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function ap(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function _l(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function gW(t,e){return t-e}function lp(t){return t%1===0}function yW(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const vW=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Je(t,e){return typeof t=="string"?bW(t):typeof t=="object"&&t?Kx(t):typeof t=="number"?Kx({[e||"milliseconds"]:t}):null}function bW(t){let e=vW.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Kx(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function wW(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function EW(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function xW(t){return Jo(t)/365}function SW(t){return Jo(t)/30}function Jo(t){return Jl(t)/864e5}function Jl(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function nv(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Hi(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const TW=["sun","mon","tue","wed","thu","fri","sat"];function Yx(t,e){let n=ki(t);return n[2]+=e*7,An(n)}function fn(t,e){let n=ki(t);return n[2]+=e,An(n)}function Wi(t,e){let n=ki(t);return n[6]+=e,An(n)}function CW(t,e){return Ra(t,e)/7}function Ra(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function AW(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function kW(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function _W(t,e){return(e.valueOf()-t.valueOf())/1e3}function IW(t,e){let n=mt(t),r=mt(e);return{years:0,months:0,days:Math.round(Ra(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function RW(t,e){let n=Cd(t,e);return n!==null&&n%7===0?n/7:null}function Cd(t,e){return _i(t)===_i(e)?Math.round(Ra(t,e)):null}function mt(t){return An([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function MW(t){return An([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function DW(t){return An([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function OW(t){return An([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function PW(t,e,n){let r=t.getUTCFullYear(),i=cp(t,r,e,n);if(i<1)return cp(t,r-1,e,n);let s=cp(t,r+1,e,n);return s>=1?Math.min(i,s):i}function cp(t,e,n,r){let i=An([e,0,1+NW(e,n,r)]),s=mt(t),o=Math.round(Ra(i,s));return Math.floor(o/7)+1}function NW(t,e,n){let r=7+e-n;return-((7+An([t,0,r]).getUTCDay()-e)%7)+r-1}function Qx(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function Jx(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function ki(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function An(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function LR(t){return!isNaN(t.valueOf())}function _i(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function LW(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",zb(e,!0)))),r}function jb(t){return t.toISOString().replace(/T.*$/,"")}function BW(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function zb(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+ap(i,2)}:${ap(s,2)}`:`GMT${n}${i}${s?`:${ap(s,2)}`:""}`}function Xe(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!Hi(r,s)){let o=t.apply(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}function Ju(t,e,n){let r,i;return s=>(r?_r(r,s)||(i=t.call(this,s)):i=t.call(this,s),r=s,i)}const Xx={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Ad={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},bu=/\s*([ap])\.?m\.?/i,VW=/,/g,FW=/\s+/g,$W=/\u200e/g,jW=/UTC|GMT/;class zW{constructor(e){let n={},r={},i=0;for(let s in e)s in Xx?(r[s]=e[s],i=Math.max(Xx[s],i)):(n[s]=e[s],s in Ad&&(i=Math.max(Ad[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=Xe(Zx)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:o}=this,a=KW(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let l=a;l>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(l=1);let c=this.format(e,r),u=this.format(n,r);if(c===u)return c;let d=YW(s,l),h=Zx(d,o,r),p=h(e),m=h(n),g=QW(c,p,u,m),b=o.separator||i||r.defaultSeparator||"";return g?g.before+p+b+m+g.after:c+b+u}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Zx(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>zb(i.timeZoneOffset):r===0&&e.week?i=>GW(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):UW(t,e,n)}function UW(t,e,n){t=Object.assign({},t),e=Object.assign({},e),HW(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,a;i&&!o.getUTCMinutes()?a=i:a=r;let l=a.format(o);return WW(l,s,t,e,n)}}function HW(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function WW(t,e,n,r,i){return t=t.replace($W,""),n.timeZoneName==="short"&&(t=qW(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":zb(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(VW,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(bu,"").trim():r.meridiem==="narrow"?t=t.replace(bu,(s,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(bu,(s,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(bu,s=>s.toLocaleLowerCase())),t=t.replace(FW," "),t=t.trim(),t}function qW(t,e){let n=!1;return t=t.replace(jW,()=>(n=!0,e)),n||(t+=` ${e}`),t}function GW(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function KW(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:_i(t)!==_i(e)?1:0}function YW(t,e){let n={};for(let r in t)(!(r in Ad)||Ad[r]<=e)&&(n[r]=t[r]);return n}function QW(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let o=t.substr(0,s);i=s+e.length;let a=t.substr(i),l=0;for(;l<n.length;){let c=n.indexOf(r,l);if(c===-1)break;let u=n.substr(0,c);l=c+r.length;let d=n.substr(l);if(o===u&&a===d)return{before:o,after:a}}}return null}function eS(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function kd(t,e,n,r){let i=eS(t,n.calendarSystem),s=e?eS(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class JW{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,kd(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,kd(e,n,r,i))}}class XW{constructor(e){this.func=e}format(e,n,r){return this.func(kd(e,null,n,r))}formatRange(e,n,r,i){return this.func(kd(e,n,r,i))}}function Ft(t){return typeof t=="object"&&t?new zW(t):typeof t=="string"?new JW(t):typeof t=="function"?new XW(t):null}const tS={navLinkDayClick:V,navLinkWeekClick:V,duration:Je,bootstrapFontAwesome:V,buttonIcons:V,customButtons:V,defaultAllDayEventDuration:Je,defaultTimedEventDuration:Je,nextDayThreshold:Je,scrollTime:Je,scrollTimeReset:Boolean,slotMinTime:Je,slotMaxTime:Je,dayPopoverFormat:Ft,slotDuration:Je,snapDuration:Je,headerToolbar:V,footerToolbar:V,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ft,dayHeaderClassNames:V,dayHeaderContent:V,dayHeaderDidMount:V,dayHeaderWillUnmount:V,dayCellClassNames:V,dayCellContent:V,dayCellDidMount:V,dayCellWillUnmount:V,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:V,weekNumbers:Boolean,weekNumberClassNames:V,weekNumberContent:V,weekNumberDidMount:V,weekNumberWillUnmount:V,editable:Boolean,viewClassNames:V,viewDidMount:V,viewWillUnmount:V,nowIndicator:Boolean,nowIndicatorClassNames:V,nowIndicatorContent:V,nowIndicatorDidMount:V,nowIndicatorWillUnmount:V,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:V,locale:V,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:V,eventOrder:fW,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:V,contentHeight:V,direction:String,weekNumberFormat:Ft,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:V,initialDate:V,now:V,eventDataTransform:V,stickyHeaderDates:V,stickyFooterScrollbar:V,viewHeight:V,defaultAllDay:Boolean,eventSourceFailure:V,eventSourceSuccess:V,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:V,eventConstraint:V,eventAllow:V,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:V,eventContent:V,eventDidMount:V,eventWillUnmount:V,selectConstraint:V,selectOverlap:V,selectAllow:V,droppable:Boolean,unselectCancel:String,slotLabelFormat:V,slotLaneClassNames:V,slotLaneContent:V,slotLaneDidMount:V,slotLaneWillUnmount:V,slotLabelClassNames:V,slotLabelContent:V,slotLabelDidMount:V,slotLabelWillUnmount:V,dayMaxEvents:V,dayMaxEventRows:V,dayMinWidth:Number,slotLabelInterval:Je,allDayText:String,allDayClassNames:V,allDayContent:V,allDayDidMount:V,allDayWillUnmount:V,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ft,rerenderDelay:Number,moreLinkText:V,moreLinkHint:V,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:V,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Je,hiddenDays:V,fixedWeekCount:Boolean,validRange:V,visibleRange:V,titleFormat:V,eventInteractive:Boolean,noEventsText:String,viewHint:V,navLinkHint:V,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:V,moreLinkClassNames:V,moreLinkContent:V,moreLinkDidMount:V,moreLinkWillUnmount:V,monthStartFormat:Ft,handleCustomRendering:V,customRenderingMetaMap:V,customRenderingReplaces:Boolean},Il={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},nS={datesSet:V,eventsSet:V,eventAdd:V,eventChange:V,eventRemove:V,windowResize:V,eventClick:V,eventMouseEnter:V,eventMouseLeave:V,select:V,unselect:V,loading:V,_unmount:V,_beforeprint:V,_afterprint:V,_noEventDrop:V,_noEventResize:V,_resize:V,_scrollRequest:V},rS={buttonText:V,buttonHints:V,views:V,plugins:V,initialEvents:V,events:V,eventSources:V},gs={headerToolbar:ys,footerToolbar:ys,buttonText:ys,buttonHints:ys,buttonIcons:ys,dateIncrement:ys,plugins:wu,events:wu,eventSources:wu,resources:wu};function ys(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?_r(t,e):t===e}function wu(t,e){return Array.isArray(t)&&Array.isArray(e)?Hi(t,e):t===e}const ZW={type:String,component:V,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:V,usesMinMaxTime:Boolean,classNames:V,content:V,didMount:V,willUnmount:V};function up(t){return Hb(t,gs)}function Ub(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function V(t){return t}const{hasOwnProperty:_d}=Object.prototype;function Hb(t,e){let n={};if(e){for(let r in e)if(e[r]===ys){let i=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=Hb(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function qs(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function io(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function BR(t){let e={};for(let n of t)e[n]=!0;return e}function Wb(t){let e=[];for(let n in t)e.push(t[n]);return e}function _r(t,e){if(t===e)return!0;for(let n in t)if(_d.call(t,n)&&!(n in e))return!1;for(let n in e)if(_d.call(e,n)&&t[n]!==e[n])return!1;return!0}const eq=/^on[A-Z]/;function tq(t,e){const n=rv(t,e);for(let r of n)if(!eq.test(r))return!1;return!0}function rv(t,e){let n=[];for(let r in t)_d.call(t,r)&&(r in e||n.push(r));for(let r in e)_d.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function dp(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&nq(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function nq(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function rq(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let o=t[s];o!==void 0&&i.push(o)}return i}let VR={};function iq(t,e){VR[t]=e}function sq(t){return new VR[t]}class oq{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return An(e)}markerToArray(e){return ki(e)}}iq("gregory",oq);const aq=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function lq(t){let e=aq.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(LR(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class cq{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=sq(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):An(Qx(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=An(e)),n===null||!LR(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=lq(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return _i(e)===_i(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return _i(e)===_i(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=RW(e,n),r!==null?{unit:"week",value:r}:(r=Cd(e,n),r!==null?{unit:"day",value:r}:(r=AW(e,n),lp(r)?{unit:"hour",value:r}:(r=kW(e,n),lp(r)?{unit:"minute",value:r}:(r=_W(e,n),lp(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/xW(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/SW(r):r.days&&(i=Cd(e,n),i!==null)?i/Jo(r):(n.valueOf()-e.valueOf())/Jl(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?mt(e):n==="hour"?MW(e):n==="minute"?DW(e):n==="second"?OW(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):PW(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=Wi(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),LW(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?An(Qx(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):An(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-Jx(ki(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(ki(e)):null}toDate(e,n){return this.timeZone==="local"?Jx(ki(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(ki(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Ic{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Ic.prototype.classes={};Ic.prototype.iconClasses={};Ic.prototype.baseIconClass="";Ic.prototype.iconOverridePrefix="";function Id(t){t();let e=Oh.debounceRendering,n=[];function r(i){n.push(i)}for(Oh.debounceRendering=r,Sy(j(uq,{}),document.createElement("div"));n.length;)n.shift()();Oh.debounceRendering=e}class uq extends mf{render(){return j("div",{})}componentDidMount(){this.setState({})}}function FR(t){let e=OP(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{s.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),a&&a.call(o)}}}return i},e}class dq{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const so=FR({});function fq(t,e,n,r,i,s,o,a,l,c,u,d,h){return{dateEnv:i,options:n,pluginHooks:o,emitter:c,dispatch:a,getCurrentData:l,calendarApi:u,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(p){c.on("_resize",p)},removeResizeHandler(p){c.off("_resize",p)},createScrollResponder(p){return new dq(p,c,Je(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:d,unregisterInteractiveComponent:h}}class oo extends mf{shouldComponentUpdate(e,n){return this.debug&&console.log(rv(e,this.props),rv(n,this.state)),!dp(this.props,e,this.propEquality)||!dp(this.state,n,this.stateEquality)}safeSetState(e){dp(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}oo.addPropsEquality=hq;oo.addStateEquality=pq;oo.contextType=so;oo.prototype.propEquality={};oo.prototype.stateEquality={};class bt extends oo{}bt.contextType=so;function hq(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function pq(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function oi(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class qb extends bt{constructor(){super(...arguments),this.id=ro(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!iv(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&oi(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:o}=e,a=$R(e,[],this.handleEl);let l=!1,c,u=[],d;if(i!=null){const h=typeof i=="function"?i(o,j):i;if(h===!0)l=!0;else{const p=h&&typeof h=="object";p&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:p&&"domNodes"in h?u=Array.prototype.slice.call(h.domNodes):(p?PP(h):typeof h!="function")?c=h:d=h}}else l=!iv(e.generatorName,r);return l&&s&&(c=s(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=d,j(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=i.options;if(s){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];a&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(mq)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!Hi(e,n)){n.forEach(Vb);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}qb.addPropsEquality({elClasses:Hi,elStyle:_r,elAttrs:tq,renderProps:_r});function iv(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function $R(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function mq(t){return!!t}const jR=FR(0);class li extends mf{constructor(){super(...arguments),this.InnerContent=gq.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(oi(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=yq(e.classNameGenerator,e.renderProps);if(e.children){const r=$R(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?j(e.elTag,r,i):i}else return j(qb,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}li.contextType=jR;function gq(t,e){const n=t.props;return j(qb,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function yq(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class iS extends bt{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return j(li,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...zR(e.viewSpec),...e.elClasses||[]],renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function zR(t){return[`fc-${t.type}-view`,"fc-view"]}function vq(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function sS(t,e){let n=[],{start:r}=e,i,s;for(t.sort(bq),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function bq(t,e){return t.start.valueOf()-e.start.valueOf()}function da(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function wq(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Gb(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Hf(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Ni(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function Eq(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function UR(t){let e=Math.floor(Ra(t.start,t.end))||1,n=mt(t.start),r=fn(n,e);return{start:n,end:r}}function HR(t,e=Je(0)){let n=null,r=null;if(t.end){r=mt(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Jl(e)&&(r=fn(r,1))}return t.start&&(n=mt(t.start),r&&r<=n&&(r=fn(n,1))),{start:n,end:r}}function Uo(t,e,n,r){return r==="year"?Je(n.diffWholeYears(t,e),"year"):r==="month"?Je(n.diffWholeMonths(t,e),"month"):IW(t,e)}function xq(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Sq(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):Rc(t.now,e)}function Rc(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}class WR{constructor(e){this.props=e,this.nowDate=Rc(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,o,a,l,c,u;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=Eq(e,s)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,i.showNonCurrentDates||(c=da(c,o.range)),c=this.adjustActiveRange(c),c=da(c,s),u=Gb(o.range,s),Ni(l,e)||(e=l.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,o=null,a;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(a=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=nv(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return Je({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:o,end:a}=e;return r&&(Jo(i)<0&&(o=mt(o),o=n.add(o,i)),Jo(s)>1&&(a=mt(a),a=fn(a,-1),a=n.add(a,s))),{start:o,end:a}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:d}=this.props;d&&Jl(d)<Jl(r)?o=nv(d).unit:o=i}Jo(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=mt(a));function u(){a=s.startOf(e,o),l=s.add(a,r),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),u()),c}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,o=0,a=e,l;s&&(a=i.startOf(a,s)),a=mt(a),a=this.skipHiddenDays(a,n),l=a;do l=fn(l,1),this.isHiddenDay(l)||(o+=1);while(o<r);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?Je(1,r):e||Je({days:1}))}refineRange(e){if(e){let n=vq(e,this.props.dateEnv);return n&&(n=HR(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=fn(e,n);return e}}function Kb(t,e,n,r){return{instanceId:ro(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function Tq(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function Gs(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:a}=t;a=qs(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let d=Cq(c,u,e,r,i.recurringTypes);for(let h of d){let p=Kb(l,{start:h,end:r.add(h,u)});a[p.instanceId]=p}}}return{defs:o,instances:a}}function Cq(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(mt)),o}const Xu={id:String,groupId:String,title:String,url:String,interactive:Boolean},qR={start:V,end:V,date:V,allDay:Boolean},Aq=Object.assign(Object.assign(Object.assign({},Xu),qR),{extendedProps:V});function GR(t,e,n,r,i=Yb(n),s,o){let{refined:a,extra:l}=KR(t,n,i),c=_q(e,n),u=Tq(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let h=sv(a,l,e?e.sourceId:"",u.allDay,!!u.duration,n,s);return h.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:h,instance:null}}let d=kq(a,c,n,r);if(d){let h=sv(a,l,e?e.sourceId:"",d.allDay,d.hasEnd,n,s),p=Kb(h.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(p.instanceId=o[h.publicId]),{def:h,instance:p}}return null}function KR(t,e,n=Yb(e)){return Ub(t,n)}function Yb(t){return Object.assign(Object.assign(Object.assign({},Rd),Aq),t.pluginHooks.eventRefiners)}function sv(t,e,n,r,i,s,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||ro(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:Md(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of s.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function kq(t,e,n,r){let{allDay:i}=t,s,o=null,a=!1,l,c=null,u=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(u),s)o=s.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&o&&(o=mt(o)),l&&(c=l.marker,i&&(c=mt(c)),o&&c<=o&&(c=null)),c?a=!0:r||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:o,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function _q(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Xl(t,e,n,r,i,s){let o=cr(),a=Yb(n);for(let l of t){let c=GR(l,e,n,r,a,i,s);c&&ov(c,o)}return o}function ov(t,e=cr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Qb(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=Wf(t,s=>Iq(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return cr()}function Iq(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function cr(){return{defs:{},instances:{}}}function Jb(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Wf(t,e){let n=qs(t.defs,e),r=qs(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function Rq(t,e){let{defs:n,instances:r}=t,i={},s={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(s[o]=r[o]);return{defs:i,instances:s}}function Mq(t,e){return Array.isArray(t)?Xl(t,null,e,!0):typeof t=="object"&&t?Xl([t],null,e,!0):t!=null?String(t):null}function oS(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Rd={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:V,overlap:V,allow:V,className:oS,classNames:oS,color:String,backgroundColor:String,borderColor:String,textColor:String},Dq={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Md(t,e){let n=Mq(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function Oq(t){return t.reduce(Pq,Dq)}function Pq(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Nq={id:String,defaultAllDay:Boolean,url:String,format:String,events:V,eventDataTransform:V,success:V,failure:V};function YR(t,e,n=QR(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=Ub(r,n),o=Lq(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:ro(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Md(i,e),extendedProps:s}}return null}function QR(t){return Object.assign(Object.assign(Object.assign({},Rd),Nq),t.pluginHooks.eventSourceRefiners)}function Lq(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function Bq(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return Vq(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return Fq(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return $q(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Jb(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Gs(t,r.activeRange,i):t;case"REMOVE_EVENTS":return Rq(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return XR(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Wf(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return cr();default:return t}}function Vq(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let o=Xl(JR(i,e,s),e,s);return r&&(o=Gs(o,r,s)),Jb(XR(t,e.sourceId),o)}return t}function Fq(t,e,n,r,i){const{defIdMap:s,instanceIdMap:o}=zq(t);let a=Xl(JR(n,e,i),e,i,!1,s,o);return Gs(a,r,i)}function JR(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=aS(t,i)),r&&(t=aS(t,r)),t}function aS(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function $q(t,e,n,r){return n&&(e=Gs(e,n,r)),Jb(t,e)}function lS(t,e,n){let{defs:r}=t,i=io(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function XR(t,e){return Wf(t,n=>n.sourceId!==e)}function jq(t,e){return{defs:t.defs,instances:qs(t.instances,n=>!e[n.instanceId])}}function zq(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const o=e[s],{publicId:a}=o;a&&(r[a]=s)}for(let s in n){const o=n[s],a=e[o.defId],{publicId:l}=a;l&&(i[l]=s)}return{defIdMap:r,instanceIdMap:i}}class qf{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){Uq(this.handlers,e,n)}off(e,n){Hq(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function Uq(t,e,n){(t[e]||(t[e]=[])).push(n)}function Hq(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const Wq={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function qq(t,e){return Xl(Gq(t),null,e)}function Gq(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},Wq),n)),e}function ZR(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},Xb(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function Kq(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Xb(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,c3(t,e.dateEnv)),n}function cS(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=mt(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function Zb(t,e,n,r){let i=Dd(t.defs,e),s=cr();for(let o in t.defs){let a=t.defs[o];s.defs[o]=Yq(a,i[o],n,r)}for(let o in t.instances){let a=t.instances[o],l=s.defs[a.defId];s.instances[o]=Qq(a,l,i[a.defId],n,r)}return s}function Yq(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function Qq(t,e,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=UR(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:s.add(l.range.start,r.datesDelta),end:s.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:s.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:cS(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:mt(l.range.start),end:mt(l.range.end)}),l.range.end<l.range.start&&(l.range.end=cS(e.allDay,l.range.start,i)),l}class Bo{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class gt{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in qR)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Xu[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Xu)n=Xu[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Rd){let r=Rd[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,o=Uo(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=Uo(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},o=i.createMarker(e),a;if(o&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=UR(l));let c=Uo(l.start,o,i,r.granularity);if(a){let u=Uo(l.end,a,i,r.granularity);wW(c,u)?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:u,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}}moveStart(e){let n=Je(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=Je(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=Je(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=Ft(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),o=Qb(s,n.instanceId);o=Zb(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new gt(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Ds(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=e1(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Bo(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function e1(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Ds(t,e,n){let{defs:r,instances:i}=t,s=[],o=n?n.instanceId:"";for(let a in i){let l=i[a],c=r[l.defId];l.instanceId!==o&&s.push(new gt(e,c,l))}return s}function uS(t,e,n,r){let i={},s={},o={},a=[],l=[],c=Dd(t.defs,e);for(let u in t.defs){let d=t.defs[u];c[d.defId].display==="inverse-background"&&(d.groupId?(i[d.groupId]=[],o[d.groupId]||(o[d.groupId]=d)):s[u]=[])}for(let u in t.instances){let d=t.instances[u],h=t.defs[d.defId],p=c[h.defId],m=d.range,g=!h.allDay&&r?HR(m,r):m,b=da(g,n);b&&(p.display==="inverse-background"?h.groupId?i[h.groupId].push(b):s[d.defId].push(b):p.display!=="none"&&(p.display==="background"?a:l).push({def:h,ui:p,instance:d,range:b,isStart:g.start&&g.start.valueOf()===b.start.valueOf(),isEnd:g.end&&g.end.valueOf()===b.end.valueOf()}))}for(let u in i){let d=i[u],h=sS(d,n);for(let p of h){let m=o[u],g=c[m.defId];a.push({def:m,ui:g,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let u in s){let d=s[u],h=sS(d,n);for(let p of h)a.push({def:t.defs[u],ui:c[u],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function dS(t,e){t.fcSeg=e}function fa(t){return t.fcSeg||t.parentNode.fcSeg||null}function Dd(t,e){return io(t,n=>t1(n,e))}function t1(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),Oq(n)}function Jq(t,e){let n=t.map(Xq);return n.sort((r,i)=>hW(r,i,e)),n.map(r=>r._seg)}function Xq(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function Zq(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,o=s.startEditable;for(let a of r)o=a(o,i,s,e);return o}function e3(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function t3(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function n1(t,e,n,r,i,s,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,d=t.eventRange.def,h=t.eventRange.instance;c==null&&(c=r!==!1),u==null&&(u=i!==!1);let p=h.range.start,m=h.range.end,g=t.start||t.eventRange.range.start,b=t.end||t.eventRange.range.end,w=mt(p).valueOf()===mt(g).valueOf(),A=mt(Wi(m,-1)).valueOf()===mt(Wi(b,-1)).valueOf();return c&&!d.allDay&&(w||A)?(g=w?p:g,b=A?m:b,u&&d.hasEnd?a.formatRange(g,b,e,{forcedStartTzo:h.forcedStartTzo,forcedEndTzo:h.forcedEndTzo}):a.format(g,e,{forcedTzo:h.forcedStartTzo})):""}function Rl(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&Ni(e,r.start)}}function n3(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function r3(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function r1(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!s.hasHandlers("eventClick"))),a?NR(l=>{s.trigger("eventClick",{el:l.target,event:new gt(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const i3={start:V,end:V,allDay:Boolean};function s3(t,e,n){let r=o3(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function o3(t,e){let{refined:n,extra:r}=Ub(t,i3),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}function a3(t,e){return wq(t.range,e.range)&&t.allDay===e.allDay&&l3(t,e)}function l3(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function c3(t,e){return Object.assign(Object.assign({},s1(t.range,e,t.allDay)),{allDay:t.allDay})}function i1(t,e,n){return Object.assign(Object.assign({},s1(t,e,n)),{timeZone:e.timeZone})}function s1(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function u3(t,e,n){let r=KR({editable:!1},n),i=sv(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:t1(i,e),instance:Kb(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function d3(t,e,n){let r=!1,i=function(a){r||(r=!0,e(a))},s=function(a){r||(r=!0,n(a))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}class fS extends Error{constructor(e,n){super(e),this.response=n}}function f3(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new fS("Failure parsing JSON",i)});throw new fS("Request failed",i)})}let fp;function o1(){return fp==null&&(fp=h3()),fp}function h3(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class p3 extends bt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Id(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Id(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return o1()||o.push("fc-liquid-hack"),e.children(o,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Ma{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function m3(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function ew(t){return{[t.component.uid]:t}}const av={};class g3{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,o;for(let a in n)i.push(a);for(s=0;s<i.length;s+=1)if(o=n[i[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Rc(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=Je(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Ft(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),Ft(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=s3(r,i.dateEnv,Je({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),ZR(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),Kq(e,n))}addEvent(e,n){if(e instanceof gt){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:ov({def:o,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof Bo)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=Wb(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let s=GR(e,i,r,!1);if(s){let o=new gt(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:ov(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:e1(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let o=r[s];if(o.publicId===e){if(o.recurringDef)return new gt(n,o,null);for(let a in i){let l=i[a];if(l.defId===o.defId)return new gt(n,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return Ds(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new Bo(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Bo(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Bo)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=YR(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Bo(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=Je(e);n&&this.trigger("_scrollRequest",{time:n})}}function y3(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function a1(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function v3(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function b3(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function w3(t,e){return{left:t.left-e.left,top:t.top-e.top}}function l1(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!Ni(r.activeRange,t)),isOther:!!(r&&!Ni(r.currentRange,t)),isToday:!!(e&&Ni(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function tw(t,e){let n=["fc-day",`fc-day-${TW[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const E3=Ft({year:"numeric",month:"long",day:"numeric"}),x3=Ft({week:"long"});function lv(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:o}=t;let a=i.format(e,n==="week"?x3:E3);if(s.navLinks){let l=i.toDate(e);const c=u=>{let d=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof d=="function"?d.call(o,i.toDate(e),u):(typeof d=="string"&&(n=d),o.zoomTo(e,n))};return Object.assign({title:_l(s.navLinkHint,[a,l],a),"data-navlink":""},r?PR(c):{onClick:c})}return{"aria-label":a}}let hp=null;function S3(){return hp===null&&(hp=T3()),hp}function T3(){let t=document.createElement("div");kl(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Vb(t),n}let pp;function C3(){return pp||(pp=A3()),pp}function A3(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=c1(t);return document.body.removeChild(t),e}function c1(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function k3(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=c1(t),l=a.y-r-i,c=a.x-s-o,u={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return S3()&&n.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function _3(t,e=!1,n){let r=nw(t),i=k3(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function nw(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function I3(t){let e=u1(t),n=t.getBoundingClientRect();for(let r of e){let i=a1(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function u1(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class Od{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Eu(this.tops||[],e.tops||[])&&Eu(this.bottoms||[],e.bottoms||[])&&Eu(this.lefts||[],e.lefts||[])&&Eu(this.rights||[],e.rights||[])}}function Eu(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class rw{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class R3 extends rw{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class M3 extends rw{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class ao extends bt{constructor(){super(...arguments),this.uid=ro()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!un(e,".fc-event-mirror")}isValidDateDownEl(e){return!un(e,".fc-event:not(.fc-bg-event)")&&!un(e,".fc-more-link")&&!un(e,"a[data-navlink]")&&!un(e,".fc-popover")}}class D3{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:d1(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,s=n.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(mp(i,n.level,n.levelCoord),mp(r,n.level,[e])):mp(r[n.level],n.lateral,e),this.stackCnts[Ml(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,o=n.length,a=0,l=-1,c=-1,u=null,d=0;for(let m=0;m<o;m+=1){const g=n[m];if(!i&&g>=a+this.getEntryThickness(e))break;let b=r[m],w,A=pS(b,e.span.start,hS),C=A[0]+A[1];for(;(w=b[C])&&w.span.start<e.span.end;){let I=g+this.getEntryThickness(w);I>a&&(a=I,u=w,l=m,c=C),I===a&&(d=Math.max(d,s[Ml(w)]+1)),C+=1}}let h=0;if(u)for(h=l+1;h<o&&n[h]<a;)h+=1;let p=-1;return h<o&&n[h]===a&&(p=pS(r[h],e.span.end,hS)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:d,levelCoord:a,level:h,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let o=e[s],a=n[s];for(let l of o)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return i}}function hS(t){return t.span.end}function Ml(t){return t.index+":"+t.span.start}function d1(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function mp(t,e,n){t.splice(e,0,n)}function pS(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}class O3{constructor(e,n){this.emitter=new qf}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const iw={};function P3(t,e){return!t||e>10?Ft({weekday:"short"}):e>1?Ft({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Ft({weekday:"long"})}const f1="fc-col-header-cell";function h1(t){return t.text}class N3 extends bt{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:o,dateProfile:a}=s,l=l1(o,s.todayRange,null,a),c=[f1].concat(tw(l,r)),u=e.format(o,s.dayHeaderFormat),d=!l.isDisabled&&s.colCnt>1?lv(this.context,o):{},h=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:i},s.extraRenderProps),{text:u}),l);return j(li,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":l.isDisabled?void 0:jb(o)},s.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:h1,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},p=>j("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&j(p,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const L3=Ft({weekday:"long"});class B3 extends bt{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,o=fn(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:i}),e.extraRenderProps),{text:l});return j(li,{elTag:"th",elClasses:[f1,...tw(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:h1,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},u=>j("div",{className:"fc-scrollgrid-sync-inner"},j(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,L3)}})))}}class sw extends mf{constructor(e,n){super(e,n),this.initialNowDate=Rc(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:n}=this,r=Wi(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),i=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(i,Je(1,e.unit)),o=s.valueOf()-r.valueOf();return o=Math.min(1e3*60*60*24,o),{currentState:{nowDate:i,todayRange:mS(i)},nextState:{nowDate:s,todayRange:mS(s)},waitMs:o}}setTimeout(){let{nextState:e,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}sw.contextType=so;function mS(t){let e=mt(t),n=fn(e,1);return{start:e,end:n}}class V3 extends bt{constructor(){super(...arguments),this.createDayHeaderFormatter=Xe(F3)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return j(sw,{unit:"day"},(a,l)=>j("tr",{role:"row"},s&&s("day"),n.map(c=>i?j(N3,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):j(B3,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}}function F3(t,e,n){return t||P3(e,n)}class $3{constructor(e,n){let r=e.start,{end:i}=e,s=[],o=[],a=-1;for(;r<i;)n.isHiddenDay(r)?s.push(a+.5):(a+=1,s.push(a),o.push(r)),r=fn(r,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(fn(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Ra(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class j3{constructor(e,n){let{dates:r}=e,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:o}=r,a=s;for(;a<=o;){let l=Math.floor(a/n),c=Math.min((l+1)*n,o+1);i.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:r.isStart&&a===s,isEnd:r.isEnd&&c-1===o}),a=c}}return i}}class z3{constructor(){this.sliceBusinessHours=Xe(this._sliceBusinessHours),this.sliceDateSelection=Xe(this._sliceDateSpan),this.sliceEventStore=Xe(this._sliceEventStore),this.sliceEventDrag=Xe(this._sliceInteraction),this.sliceEventResize=Xe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:Wi(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(Gs(e,xu(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let o=uS(e,n,xu(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let o=uS(e.mutatedEvents,n,xu(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...o){if(!e)return[];let a=xu(n,!!r),l=da(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=u3(e,i,s),u=this.sliceRange(e.range,...o);for(let d of u)d.eventRange=c;return u}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:fn(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function xu(t,e){let n=t.activeRange;return e?n:{start:Wi(n.start,t.slotMinTime.milliseconds),end:Wi(n.end,t.slotMaxTime.milliseconds-864e5)}}function p1(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!Hf(e.validRange,r[i].range))return!1;return m1({eventDrag:t},n)}function U3(t,e,n){return Hf(e.validRange,t.range)?m1({dateSelection:t},n):!1}function m1(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||H3)(r,e)}function H3(t,e,n={},r){return!(t.eventDrag&&!W3(t,e,n,r)||t.dateSelection&&!q3(t,e,n,r))}function W3(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,a=o.defs,l=o.instances,c=Dd(a,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(c=io(c,r));let u=jq(t.eventStore,s.affectedEvents.instances),d=u.defs,h=u.instances,p=Dd(d,t.eventUiBases);for(let m in l){let g=l[m],b=g.range,w=c[g.defId],A=a[g.defId];if(!g1(w.constraints,b,u,t.businessHours,e))return!1;let{eventOverlap:C}=e.options,I=typeof C=="function"?C:null;for(let O in h){let S=h[O];if(Gb(b,S.range)&&(p[S.defId].overlap===!1&&s.isEvent||w.overlap===!1||I&&!I(new gt(e,d[S.defId],S),new gt(e,A,g))))return!1}let P=i.eventStore;for(let O of w.allows){let S=Object.assign(Object.assign({},n),{range:g.range,allDay:A.allDay}),x=P.defs[A.defId],T=P.instances[m],v;if(x?v=new gt(e,x,T):v=new gt(e,A),!O(Xb(S,e),v))return!1}}return!0}function q3(t,e,n,r){let i=t.eventStore,s=i.defs,o=i.instances,a=t.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(r&&(c=r(c)),!g1(c.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,d=typeof u=="function"?u:null;for(let h in o){let p=o[h];if(Gb(l,p.range)&&(c.overlap===!1||d&&!d(new gt(e,s[p.defId],p),null)))return!1}for(let h of c.allows){let p=Object.assign(Object.assign({},n),a);if(!h(Xb(p,e),null))return!1}return!0}function g1(t,e,n,r,i){for(let s of t)if(!K3(G3(s,e,n,r,i),e))return!1;return!0}function G3(t,e,n,r,i){return t==="businessHours"?gp(Gs(r,e,i)):typeof t=="string"?gp(Wf(n,s=>s.groupId===t)):typeof t=="object"&&t?gp(Gs(t,e,i)):[]}function gp(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function K3(t,e){for(let n of t)if(Hf(n,e))return!0;return!1}const Su=/^(visible|hidden)$/;class Y3 extends bt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,oi(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),j("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Su.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Su.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Su.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Su.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Ts{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,o=!1,a=!1;n!==null?(o=r in s,s[r]=n,i[r]=(i[r]||0)+1,a=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return rq(this.currentMap,e,n,r)}getAll(){return Wb(this.currentMap)}}function Q3(t){let e=rW(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,yW(r));return Math.ceil(n)}function y1(t,e){return t.liquid&&e.liquid}function J3(t,e){return e.maxHeight!=null||y1(t,e)}function X3(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):j("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,j(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function Z3(t,e){return Hi(t,e,_r)}function e6(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(j("col",{style:{width:r.width==="shrink"?t6(e):r.width||"",minWidth:r.minWidth||""}}))}return j("colgroup",{},...n)}function t6(t){return t??4}function n6(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function r6(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function i6(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function s6(t){return j("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function gS(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function o6(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class v1 extends bt{constructor(){super(...arguments),this.processCols=Xe(e=>e,Z3),this.renderMicroColGroup=Xe(e6),this.scrollerRefs=new Ts,this.scrollerElRefs=new Ts(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),a=r6(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=i.length,c=0,u,d=[],h=[],p=[];for(;c<l&&(u=i[c]).type==="header";)d.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=i[c]).type==="body";)h.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=i[c]).type==="footer";)p.push(this.renderSection(u,o,!0)),c+=1;let m=!o1();const g={role:"rowgroup"};return j("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!m&&d.length)&&j("thead",g,...d),!!(!m&&h.length)&&j("tbody",g,...h),!!(!m&&p.length)&&j("tfoot",g,...p),m&&j("tbody",g,...d,...h,...p))}renderSection(e,n,r){return"outerContent"in e?j(bn,{key:e.key},e.outerContent):j("tr",{key:e.key,role:"presentation",className:i6(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=J3(s,e),u=y1(s,e),d=s.liquid?o?"scroll":c?"auto":"hidden":"visible",h=e.key,p=X3(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&a[h]!==void 0?a[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return j(i?"th":"td",{ref:r.elRef,role:"presentation"},j("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},j(Y3,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:d,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,n){let r=a6(this.props.sections,n);r&&oi(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return n6(this.props.cols)?Q3(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=C3(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let l=a.key,c=r.currentMap[l];if(c){let u=c.parentNode;s[l]=Math.floor(u.getBoundingClientRect().width-(i?e.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}}}v1.addStateEquality({scrollerClientWidths:_r,scrollerClientHeights:_r});function a6(t,e){for(let n of t)if(n.key===e)return n;return null}class ow extends bt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&dS(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:o}=s,a={event:new gt(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&Zq(i,n),isStartResizable:!e.disableResizing&&e3(i,n),isEndResizable:!e.disableResizing&&t3(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return j(li,Object.assign({},e,{elRef:this.handleEl,elClasses:[...n3(a),...i.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&dS(this.el,this.props.seg)}}class l6 extends bt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,a=n1(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return j(ow,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:r1(i,n),defaultGenerator:c6,timeText:a}),(l,c)=>j(bn,null,j(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&j("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&j("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function c6(t){return j("div",{className:"fc-event-main-frame"},t.timeText&&j("div",{className:"fc-event-time"},t.timeText),j("div",{className:"fc-event-title-container"},j("div",{className:"fc-event-title fc-sticky"},t.event.title||j(bn,null," "))))}const u6=Ft({day:"numeric"});class b1 extends bt{constructor(){super(...arguments),this.refineRenderProps=Ju(d6)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return j(li,Object.assign({},e,{elClasses:[...tw(i,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":jb(e.date)}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function w1(t){return!!(t.dayCellContent||iv("dayCellContent",t))}function d6(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=l1(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:u6):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class f6 extends bt{render(){let{props:e}=this,{seg:n}=e;return j(ow,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:h6,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function h6(t){let{title:e}=t.event;return e&&j("div",{className:"fc-event-title"},t.event.title)}function p6(t){return j("div",{className:`fc-${t}`})}const m6=t=>j(so.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),a=n.format(i,s);return j(li,Object.assign({},t,{renderProps:{num:o,text:a,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:g6,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function g6(t){return t.text}const yp=10;class y6 extends bt{constructor(){super(...arguments),this.state={titleId:zf()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&oi(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=DR(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return NP(j("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),j("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},j("span",{className:"fc-popover-title",id:i.titleId},r.title),j("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),j("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=I3(n);if(s){let o=i.getBoundingClientRect(),a=r?un(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=e?s.right-o.width:s.left;a=Math.max(a,yp),l=Math.min(l,document.documentElement.clientWidth-yp-o.width),l=Math.max(l,yp);let c=i.offsetParent.getBoundingClientRect();kl(i,{top:a-c.top,left:l-c.left})}}}class v6 extends ao{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:o}=r,a=n.format(i,e.dayPopoverFormat);return j(b1,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:s},(l,c,u)=>j(y6,{elRef:u.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},w1(e)&&j(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class b6 extends bt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:zf()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&oi(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=yS(n).start;function o(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new gt(r,l,c),start:r.dateEnv.toDate(u.start),end:r.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return j(so.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:o}=r,{moreLinkText:a}=s,{moreCnt:l}=e,c=yS(e),u=typeof a=="function"?a.call(o,l):`+${l} ${a}`,d=_l(s.moreLinkHint,[l],u),h={num:l,shortText:`+${l}`,text:u,view:i};return j(bn,null,!!e.moreCnt&&j(li,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),PR(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||w6,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&j(v6,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=un(this.linkEl,".fc-view-harness"))}}function w6(t){return t.text}function yS(t){if(t.allDayDate)return{start:t.allDayDate,end:fn(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:E6(e),end:S6(e)}}function E6(t){return t.reduce(x6).eventRange.range.start}function x6(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function S6(t){return t.reduce(T6).eventRange.range.end}function T6(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class C6{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class nse extends C6{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const A6=[],E1={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},x1=Object.assign(Object.assign({},E1),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function k6(t){let e=t.length>0?t[0].code:"en",n=A6.concat(t),r={en:x1};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function S1(t,e){return typeof t=="object"&&!Array.isArray(t)?T1(t.code,[t.code],t):_6(t,e)}function _6(t,e){let n=[].concat(t||[]),r=I6(n,e)||x1;return T1(t,n,r)}function I6(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function T1(t,e,n){let r=Hb([E1,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function ns(t){return{id:ro(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function R6(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let o of s){const a=o.name,l=n[a];l===void 0?(n[a]=o.id,i(o.deps),r=D6(r,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&i(t),i(e),r}function M6(){let t=[],e=[],n;return(r,i)=>((!n||!Hi(r,t)||!Hi(i,e))&&(n=R6(r,i)),t=r,e=i,n)}function D6(t,e){return{premiumReleaseDate:O6(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function O6(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class rs extends Ic{}rs.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};rs.prototype.baseIconClass="fc-icon";rs.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};rs.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};rs.prototype.iconOverrideOption="buttonIcons";rs.prototype.iconOverrideCustomButtonOption="icon";rs.prototype.iconOverridePrefix="fc-icon-";function P6(t,e){let n={},r;for(r in t)cv(r,n,t,e);for(r in e)cv(r,n,t,e);return n}function cv(t,e,n,r){if(e[t])return e[t];let i=N6(t,e,n,r);return i&&(e[t]=i),i}function N6(t,e,n,r){let i=n[t],s=r[t],o=u=>i&&i[u]!==null?i[u]:s&&s[u]!==null?s[u]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=cv(l,e,n,r)}return!a&&c&&(a=c.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}function vS(t){return io(t,L6)}function L6(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=bS(e):n&&!(n.prototype instanceof bt)&&(n=bS(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function bS(t){return e=>j(so.Consumer,null,n=>j(li,{elTag:"div",elClasses:zR(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function B6(t,e,n,r){let i=vS(t),s=vS(e.views),o=P6(i,s);return io(o,a=>V6(a,s,e,n,r))}function V6(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",l="",c={};if(s&&(o=F6(s),o)){let h=nv(o);a=h.unit,h.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let u=h=>{let p=h.buttonText||{},m=t.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null},d=h=>{let p=h.buttonHints||{},m=t.defaults.buttonTextKey;return m!=null&&p[m]!=null?p[m]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(r)||u(n)||t.overrides.buttonText,buttonTextDefault:u(i)||t.defaults.buttonText||u(Il)||t.type,buttonTitleOverride:d(r)||d(n)||t.overrides.buttonHint,buttonTitleDefault:d(i)||t.defaults.buttonHint||d(Il)}}let wS={};function F6(t){let e=JSON.stringify(t),n=wS[e];return n===void 0&&(n=Je(t),wS[e]=n),n}function $6(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function j6(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function z6(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function U6(t,e,n){let r=e?e.activeRange:null;return A1({},Q6(t,n),r,n)}function H6(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return A1(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return q6(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?k1(t,i,r):t;case"FETCH_EVENT_SOURCES":return aw(t,e.sourceIds?BR(e.sourceIds):_1(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Y6(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function W6(t,e,n){let r=e?e.activeRange:null;return aw(t,_1(t,n),r,!0,n)}function C1(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function A1(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=k1(i,n,r)),Object.assign(Object.assign({},t),i)}function q6(t,e){return qs(t,n=>n.sourceId!==e)}function k1(t,e,n){return aw(t,qs(t,r=>G6(r,e,n)),e,!1,n)}function G6(t,e,n){return I1(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function aw(t,e,n,r,i){let s={};for(let o in t){let a=t[o];e[o]?s[o]=K6(a,n,r,i):s[o]=a}return s}function K6(t,e,n,r){let{options:i,calendarApi:s}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=ro();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:c}=l;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(s,c,l.response)||c),t.success&&(c=t.success.call(s,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function Y6(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function _1(t,e){return qs(t,n=>I1(n,e))}function Q6(t,e){let n=QR(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let o=YR(s,e,n);o&&i.push(o)}return i}function I1(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function J6(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function X6(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Z6(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function e9(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function t9(t,e,n,r,i){let s=t.headerToolbar?ES(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?ES(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function ES(t,e,n,r,i,s){let o={},a=[],l=!1;for(let c in t){let u=t[c],d=n9(u,e,n,r,i,s);o[c]=d.widgets,a.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function n9(t,e,n,r,i,s){let o=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},c=e.buttonText||{},u=n.buttonHints||{},d=e.buttonHints||{},h=t?t.split(" "):[],p=[],m=!1;return{widgets:h.map(b=>b.split(",").map(w=>{if(w==="title")return m=!0,{buttonName:w};let A,C,I,P,O,S;if(A=a[w])I=x=>{A.click&&A.click.call(x.target,x,x.target)},(P=r.getCustomButtonIconClass(A))||(P=r.getIconClass(w,o))||(O=A.text),S=A.hint||A.text;else if(C=i[w]){p.push(w),I=()=>{s.changeView(w)},(O=C.buttonTextOverride)||(P=r.getIconClass(w,o))||(O=C.buttonTextDefault);let x=C.buttonTextOverride||C.buttonTextDefault;S=_l(C.buttonTitleOverride||C.buttonTitleDefault||e.viewHint,[x,w],x)}else if(s[w])if(I=()=>{s[w]()},(O=l[w])||(P=r.getIconClass(w,o))||(O=c[w]),w==="prevYear"||w==="nextYear"){let x=w==="prevYear"?"prev":"next";S=_l(u[x]||d[x],[c.year||"year","year"],c[w])}else S=x=>_l(u[w]||d[w],[c[x]||x,x],c[w]);return{buttonName:w,buttonClick:I,buttonIcon:P,buttonText:O,buttonHint:S}})),viewsWithButtons:p,hasTitle:m}}class r9{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let i9={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const s9=ns({name:"array-event-source",eventSourceDefs:[i9]});let o9={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;d3(i.bind(null,i1(t.range,r)),s=>e({rawEvents:s}),n)}};const a9=ns({name:"func-event-source",eventSourceDefs:[o9]}),l9={method:String,extraParams:V,startParam:String,endParam:String,timeZoneParam:String};let c9={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=d9(r,t.range,t.context);f3(r.method,r.url,i).then(([s,o])=>{e({rawEvents:s,response:o})},n)}};const u9=ns({name:"json-event-source",eventSourceRefiners:l9,eventSourceDefs:[c9]});function d9(t,e,n){let{dateEnv:r,options:i}=n,s,o,a,l,c={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[s]=r.formatIso(e.start),c[o]=r.formatIso(e.end),r.timeZone!=="local"&&(c[a]=r.timeZone),c}const f9={daysOfWeek:V,startTime:Je,endTime:Je,duration:Je,startRecur:V,endRecur:V};let h9={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=EW(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=da(e,{start:t.startRecur,end:t.endRecur});return r?m9(t.daysOfWeek,t.startTime,r,n):[]}};const p9=ns({name:"simple-recurring-event",recurringTypes:[h9],eventRefiners:f9});function m9(t,e,n,r){let i=t?BR(t):null,s=mt(n.start),o=n.end,a=[];for(;s<o;){let l;(!i||i[s.getUTCDay()])&&(e?l=r.add(s,e):l=s,a.push(l)),s=fn(s,1)}return a}const g9=ns({name:"change-handler",optionChangeHandlers:{events(t,e){xS([t],e)},eventSources:xS}});function xS(t,e){let n=Wb(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function y9(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},i1(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function v9(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Ds(t,e))}const b9=[s9,a9,u9,p9,g9,ns({name:"misc",isLoadingFuncs:[t=>C1(t.eventSources)],propSetHandlers:{dateProfile:y9,eventStore:v9}})];class w9{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new Bb(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function E9(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Ft(e.titleFormat||x9(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function x9(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Cd(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class S9{constructor(e){this.computeCurrentViewData=Xe(this._computeCurrentViewData),this.organizeRawLocales=Xe(k6),this.buildLocale=Xe(S1),this.buildPluginHooks=M6(),this.buildDateEnv=Xe(T9),this.buildTheme=Xe(C9),this.parseToolbars=Xe(t9),this.buildViewSpecs=Xe(B6),this.buildDateProfileGenerator=Ju(A9),this.buildViewApi=Xe(k9),this.buildViewUiProps=Ju(R9),this.buildEventUiBySource=Xe(_9,_r),this.buildEventUiBases=Xe(I9),this.parseContextBusinessHours=Ju(M9),this.buildTitle=Xe(E9),this.emitter=new qf,this.actionRunner=new w9(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o=Sq(r.calendarOptions,r.dateEnv),a=s.dateProfileGenerator.build(o);Ni(a.activeRange,o)||(o=a.currentRange.start);let l={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let h of r.pluginHooks.contextInit)h(l);let c=U6(r.calendarOptions,a,l),u={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:c,eventUiBases:{},eventStore:cr(),renderableEventStore:cr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},d=Object.assign(Object.assign({},l),u);for(let h of r.pluginHooks.reducers)Object.assign(u,h(null,null,d));vp(u,l)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=j6(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),a=$6(r.currentViewType,e),l=this.computeCurrentViewData(a,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let c={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:d}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(u)),u=xq(u,e),d=z6(d,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Ni(d.currentRange,u))&&(u=d.currentRange.start);let h=H6(r.eventSources,e,d,c),p=Bq(r.eventStore,e,h,d,c),g=C1(h)&&!l.options.progressiveEventRendering&&r.renderableEventStore||p,{eventUiSingleBase:b,selectionConfig:w}=this.buildViewUiProps(c),A=this.buildEventUiBySource(h),C=this.buildEventUiBases(g.defs,b,A),I={dynamicOptionOverrides:s,currentViewType:a,currentDate:u,dateProfile:d,eventSources:h,eventStore:p,renderableEventStore:g,selectionConfig:w,eventUiBases:C,businessHours:this.parseContextBusinessHours(c),dateSelection:J6(r.dateSelection,e),eventSelection:X6(r.eventSelection,e),eventDrag:Z6(r.eventDrag,e),eventResize:e9(r.eventResize,e)},P=Object.assign(Object.assign({},c),I);for(let x of o.pluginHooks.reducers)Object.assign(I,x(r,e,P));let O=vp(r,c),S=vp(I,c);!O&&S?i.trigger("loading",!0):O&&!S&&i.trigger("loading",!1),this.state=I,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),a=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=i.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=W6(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=lS(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=lS(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,n);SS(l);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,a,i.defaultRangeSeparator),u=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),d=this.buildTheme(i,s),h=this.parseToolbars(i,this.stableOptionOverrides,d,u,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:c,viewSpecs:u,theme:d,toolbarConfig:h,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=up([Il,e,n]),s=this.organizeRawLocales(r),o=s.map,a=this.buildLocale(i||s.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],b9),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tS),nS),rS),l.listenerRefiners),l.optionRefiners),u={},d=up([Il,a,e,n]),h={},p=this.currentCalendarOptionsInput,m=this.currentCalendarOptionsRefined,g=!1;for(let b in d)this.optionsForRefining.indexOf(b)===-1&&(d[b]===p[b]||gs[b]&&b in p&&gs[b](p[b],d[b]))?h[b]=m[b]:c[b]?(h[b]=c[b](d[b]),g=!0):u[b]=p[b];return g&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:u}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);SS(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,n,r,i,s){let o=up([Il,e.optionDefaults,r,i,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tS),nS),rS),ZW),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,d=!1,h={};for(let p in o)o[p]===c[p]||gs[p]&&gs[p](o[p],c[p])?l[p]=u[p]:(o[p]===this.currentCalendarOptionsInput[p]||gs[p]&&gs[p](o[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(l[p]=this.currentCalendarOptionsRefined[p]):a[p]?l[p]=a[p](o[p]):h[p]=o[p],d=!0);return d&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function T9(t,e,n,r,i,s,o,a){let l=S1(e||o.defaultCode,o.map);return new cq({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function C9(t,e){let n=e.themeClasses[t.themeSystem]||rs;return new n(t)}function A9(t){let e=t.dateProfileGeneratorClass||WR;return new e(t)}function k9(t,e,n){return new r9(t,e,n)}function _9(t){return io(t,e=>e.ui)}function I9(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function R9(t){let{options:e}=t;return{eventUiSingleBase:Md({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Md({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function vp(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function M9(t){return qq(t.options.businessHours,t)}function SS(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class D9 extends bt{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return j("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let o of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:d}=o;if(a==="title")s=!1,i.push(j("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=a===n.activeButton,p=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",m=[`fc-${a}-button`,r.getClass("button")];h&&m.push(r.getClass("buttonActive")),i.push(j("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:p,"aria-pressed":h,className:m.join(" "),onClick:l},c||(u?j("span",{className:u,role:"img"}):"")))}}if(i.length>1){let o=s&&r.getClass("buttonGroup")||"";return j("div",{className:o},...i)}return i[0]}}class TS extends bt{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,o=e.sectionWidgets,a=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,s=o.right):s=o.end,j("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return j(D9,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class O9 extends bt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,oi(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return r?n.availableWidth!==null?s=n.availableWidth/r:o=`${1/r*100}%`:s=e.height||"",j("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class P9 extends Ma{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,o=fa(r);if(o&&i.isValidSegDownEl(n.target)){let a=un(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new gt(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=OR(e.el,"click",".fc-event",this.handleSegClick)}}class N9 extends Ma{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{fa(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=oW(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,o=fa(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new gt(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}}class L9 extends oo{constructor(){super(...arguments),this.buildViewContext=Xe(fq),this.buildViewPropTransformers=Xe(V9),this.buildToolbarProps=Xe(B9),this.headerRef=ti(),this.footerRef=ti(),this.interactionsStore={},this.state={viewLabelId:zf()},this.registerInteractiveComponent=(e,n)=>{let r=m3(e,n),o=[P9,N9].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=o,av[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete av[e.uid]},this.resizeRunner=new Bb(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Rc(e.options.now,e.dateEnv),e.viewTitle),s=!1,o="",a;e.isHeightAuto||e.forPrint?o="":r.height!=null?s=!0:r.contentHeight!=null?o=r.contentHeight:a=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return j(so.Provider,{value:l},n.header&&j(TS,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:c},i)),j(O9,{liquid:s,height:o,aspectRatio:a,labeledById:c},this.renderView(e),this.buildAppendContent()),n.footer&&j(TS,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return j(bn,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of s)Object.assign(i,a.transform(i,e));let o=r.component;return j(o,Object.assign({},i))}}function B9(t,e,n,r,i,s){let o=n.build(i,void 0,!1),a=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!Ni(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function V9(t){return t.map(e=>new e)}class rse extends g3{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Id(()=>{Sy(j(p3,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,o,a)=>(this.setClassNames(i),this.setHeight(s),j(jR.Provider,{value:this.customContentRenderId},j(L9,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Sy(null,this.el),this.setClassNames([]),this.setHeight(""))},J5(e),this.el=e,this.renderRunner=new Bb(this.handleRenderRequest),new S9({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Id(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Hi(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){MR(this.el,"height",e)}}class F9 extends ao{constructor(){super(...arguments),this.headerElRef=ti()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],o=gS(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),j(iS,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},j(v1,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&gS(a.options),c=!o.forPrint&&o6(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:s6}]}),j(iS,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},j(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:u}))}}function Tu(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Cu(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function CS(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const R1=Ft({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function M1(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class D1 extends bt{render(){let{props:e}=this;return j(l6,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:R1,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class O1 extends bt{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||R1,o=n1(i,s,n,!0,e.defaultDisplayEventEnd);return j(ow,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:r1(e.seg,n),defaultGenerator:$9,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function $9(t){return j(bn,null,j("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&j("div",{className:"fc-event-time"},t.timeText),j("div",{className:"fc-event-title"},t.event.title||j(bn,null," ")))}class j9 extends bt{constructor(){super(...arguments),this.compileSegs=Xe(z9)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return j(b6,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return j(bn,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return j("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},M1(s)?j(O1,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Rl(s,e.todayRange))):j(D1,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Rl(s,e.todayRange))))}))}})}}function z9(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const U9=Ft({week:"narrow"});class H9 extends ao{constructor(){super(...arguments),this.rootElRef=ti(),this.state={dayNumberId:zf()},this.handleRootEl=e=>{oi(this.rootElRef,e),oi(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:o}=e,{date:a,dateProfile:l}=n;const c=n.showDayNumber&&q9(a,l.currentRange,o);return j(b1,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:W9,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,d)=>j("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&j(m6,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:lv(e,a,"week"),date:a,defaultFormat:U9}),!d.isDisabled&&(n.showDayNumber||w1(s)||n.forceDayTop)?j("div",{className:"fc-daygrid-day-top"},j(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},lv(e,a)),{id:r.dayNumberId})})):n.showDayNumber?j("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},j("a",{className:"fc-daygrid-day-number"}," ")):void 0,j("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,j("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},j(j9,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),j("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function W9(t){return t.dayNumberText||j(bn,null," ")}function q9(t,e,n){const{start:r,end:i}=e,s=Wi(i,-1),o=n.getYear(r),a=n.getMonth(r),l=n.getYear(s),c=n.getMonth(s);return!(o===l&&a===c)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function P1(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function N1(t){return P1(t)+":"+t.lastCol}function G9(t,e,n,r,i,s,o){let a=new Q9(w=>{let A=t[w.index].eventRange.instance.instanceId+":"+w.span.start+":"+(w.span.end-1);return i[A]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=s,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let w=0;w<t.length;w+=1){let A=t[w],C=N1(A);i[C]!=null?l.push({index:w,span:{start:A.firstCol,end:A.lastCol+1}}):c.push(A)}let u=a.addSegs(l),d=a.toRects(),{singleColPlacements:h,multiColPlacements:p,leftoverMargins:m}=K9(d,t,o),g=[],b=[];for(let w of c){p[w.firstCol].push({seg:w,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let A=w.firstCol;A<=w.lastCol;A+=1)h[A].push({seg:Xo(w,A,A+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)g.push(0);for(let w of u){let A=t[w.index],C=w.span;p[C.start].push({seg:Xo(A,C.start,C.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let I=C.start;I<C.end;I+=1)g[I]+=1,h[I].push({seg:Xo(A,I,I+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)b.push(m[w]);return{singleColPlacements:h,multiColPlacements:p,moreCnts:g,moreMarginTops:b}}function K9(t,e,n){let r=Y9(t,n.length),i=[],s=[],o=[];for(let a=0;a<n.length;a+=1){let l=r[a],c=[],u=0,d=0;for(let p of l){let m=e[p.index];c.push({seg:Xo(m,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-u}),u=p.levelCoord+p.thickness}let h=[];u=0,d=0;for(let p of l){let m=e[p.index],g=p.span.end-p.span.start>1,b=p.span.start===a;d+=p.levelCoord-u,u=p.levelCoord+p.thickness,g?(d+=p.thickness,b&&h.push({seg:Xo(m,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):b&&(h.push({seg:Xo(m,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:d}),d=0)}i.push(c),s.push(h),o.push(d)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function Y9(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function Xo(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,o=da(s,{start:r[e].date,end:fn(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}class Q9 extends D3{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[Ml(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){const c=Ml(o);if(!s[c])if(this.allowReslicing){const u=Object.assign(Object.assign({},o),{span:d1(o.span,n.span)}),d=Ml(u);s[d]=!0,i[a][l]=u,r.push(u),this.splitEntry(o,n,r)}else s[c]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}}class L1 extends ao{constructor(){super(...arguments),this.cellElRefs=new Ts,this.frameElRefs=new Ts,this.fgElRefs=new Ts,this.segHarnessRefs=new Ts,this.rootElRef=ti(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,o=Cu(e.businessHourSegs,s),a=Cu(e.bgEventSegs,s),l=Cu(this.getHighlightSegs(),s),c=Cu(this.getMirrorSegs(),s),{singleColPlacements:u,multiColPlacements:d,moreCnts:h,moreMarginTops:p}=G9(Jq(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),m=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return j("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,b)=>{let w=this.renderFgSegs(b,e.forPrint?u[b]:d[b],e.todayRange,m),A=this.renderFgSegs(b,J9(c[b],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return j(H9,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&b===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:h[b],moreMarginTop:p[b],singlePlacements:u[b],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:j(bn,null,j(bn,null,w),j(bn,null,A)),bgContent:j(bn,null,this.renderFillSegs(l[b],"highlight"),this.renderFillSegs(o[b],"non-business"),this.renderFillSegs(a[b],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!_r(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,d=this.props.cells.length===1,h=s||o||a,p=[];if(u)for(let m of n){let{seg:g}=m,{instanceId:b}=g.eventRange.instance,w=m.isVisible&&!i[b],A=m.isAbsolute,C="",I="";A&&(l.isRtl?(I=0,C=u.lefts[g.lastCol]-u.lefts[g.firstCol]):(C=0,I=u.rights[g.firstCol]-u.rights[g.lastCol])),p.push(j("div",{className:"fc-daygrid-event-harness"+(A?" fc-daygrid-event-harness-abs":""),key:P1(g),ref:h?null:this.segHarnessRefs.createRef(N1(g)),style:{visibility:w?"":"hidden",marginTop:A?"":m.marginTop,top:A?m.absoluteTop:"",left:C,right:I}},M1(g)?j(O1,Object.assign({seg:g,isDragging:s,isSelected:b===c,defaultDisplayEventEnd:d},Rl(g,r))):j(D1,Object.assign({seg:g,isDragging:s,isResizing:o,isDateSelecting:a,isSelected:b===c,defaultDisplayEventEnd:d},Rl(g,r)))))}return p}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let a of e){let l=r?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};o.push(j("div",{key:r3(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?j(f6,Object.assign({seg:a},Rl(a,i))):p6(n)))}return j(bn,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(c=>i.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new Od(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(u))&&this.setState({framePositions:new Od(c,l,!0,!1)})}}const s=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}L1.addStateEquality({segHeights:_r});function J9(t,e){if(!t.length)return[];let n=X9(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function X9(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class Z9 extends ao{constructor(){super(...arguments),this.splitBusinessHourSegs=Xe(Tu),this.splitBgEventSegs=Xe(Tu),this.splitFgEventSegs=Xe(Tu),this.splitDateSelectionSegs=Xe(Tu),this.splitEventDrag=Xe(CS),this.splitEventResize=Xe(CS),this.rowRefs=new Ts}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),c=this.splitEventResize(e.eventResize,r),u=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return j(sw,{unit:"day"},(d,h)=>j(bn,null,e.cells.map((p,m)=>j(L1,{ref:this.rowRefs.createRef(m),key:p.length?p[0].date.toISOString():m,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:i[m],eventSelection:e.eventSelection,bgEventSegs:s[m].filter(eG),fgEventSegs:o[m],dateSelectionSegs:a[m],eventDrag:l[m],eventResize:c[m],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Od(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Od(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&s!=null){let a=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=fn(r,1);return{start:r,end:i}}}function eG(t){return t.eventRange.def.allDay}class tG extends ao{constructor(){super(...arguments),this.elRef=ti(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return j("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},j("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,j("tbody",{role:"presentation"},j(Z9,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=nG(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function nG(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${BW(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${jb(e.currentDate)}"]`)),n}class rG extends z3{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class iG extends ao{constructor(){super(...arguments),this.slicer=new rG,this.tableRef=ti()}render(){let{props:e,context:n}=this;return j(tG,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class sG extends F9{constructor(){super(...arguments),this.buildDayTableModel=Xe(oG),this.headerRef=ti(),this.tableRef=ti()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&j(V3,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=a=>j(iG,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}}function oG(t,e){let n=new $3(t.renderRange,e);return new j3(n,/year|month|week/.test(t.currentRangeUnit))}class aG extends WR{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return lG({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function lG(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=Yx(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(fn(n.end,-1))),a=Math.ceil(CW(o,i));i=Yx(i,6-a)}return{start:r,end:i}}var cG=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';_R(cG);var ise=ns({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:sG,dateProfileGeneratorClass:aG},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});iw.touchMouseIgnoreWait=500;let uv=0,Pd=0,dv=!1;class B1{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&uG(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,dG()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new qf,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),fG()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),hG()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||un(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){dv=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?un(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return uv||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(dv=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,o=0,a=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(o=i-this.origPageX,a=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:o,deltaY:a}}}function uG(t){return t.button===0&&!t.ctrlKey}function dG(){uv+=1,setTimeout(()=>{uv-=1},iw.touchMouseIgnoreWait)}function fG(){Pd+=1,Pd===1&&window.addEventListener("touchmove",V1,{passive:!1})}function hG(){Pd-=1,Pd||window.removeEventListener("touchmove",V1,{passive:!1})}function V1(t){dv&&t.preventDefault()}class pG{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",kl(r,{left:i.left,top:i.top}),aW(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(Vb(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&kl(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),kl(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class F1 extends rw{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class $1 extends F1{constructor(e,n){super(new R3(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return _3(this.scrollController.el)}}class mG extends F1{constructor(e){super(new M3,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const AS=typeof performance=="function"?performance.now:Date.now;class gG{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=AS();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(AS()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,o=s*s/(i*i)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let o of s){let a=o.clientRect,l=e-a.left,c=a.right-e,u=n-a.top,d=a.bottom-n;l>=0&&c>=0&&u>=0&&d>=0&&(u<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"top",distance:u}),d<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>d)&&(i={scrollCache:o,name:"bottom",distance:d}),l<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:o,name:"left",distance:l}),c<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"right",distance:c}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new mG(!1):new $1(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Mc extends O3{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,lW(document.body),uW(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:a,deltaY:l}=i;o=a*a+l*l,o>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,cW(document.body),dW(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new B1(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new pG,this.autoScroller=new gG}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class yG{constructor(e){this.el=e,this.origRect=nw(e),this.scrollCaches=u1(e).map(n=>new $1(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!vG(i.getEventTarget())&&!y3(r,i.clientRect))return!1;return!0}}function vG(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Gf{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new qf}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=nw(i),r=v3(r,s));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&s){let a=a1(s,o.rect);a&&(r=b3(a))}this.coordAdjust=w3(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Kf(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=io(this.droppableStore,e=>(e.component.prepareHits(),new yG(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let o in r){let a=r[o].component,l=i[o];if(l&&l.isWithinClipping(e,n)){let c=l.computeLeft(),u=l.computeTop(),d=e-c,h=n-u,{origRect:p}=l,m=p.right-p.left,g=p.bottom-p.top;if(d>=0&&d<m&&h>=0&&h<g){let b=a.queryHit(d,h,m,g);b&&Hf(b.dateProfile.activeRange,b.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(d+c-window.scrollX,h+u-window.scrollY)))&&(!s||b.layer>s.layer)&&(b.componentId=o,b.context=a.context,b.rect.left+=c,b.rect.right+=c,b.rect.top+=u,b.rect.bottom+=u,s=b)}}}return s}}function Kf(t,e){return!t&&!e?!0:!!t!=!!e?!1:a3(t.dateSpan,e.dateSpan)}function j1(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,bG(t,e.dateEnv)),n}function bG(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class wG extends Ma{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&Kf(o,a)){let{context:l}=i,c=Object.assign(Object.assign({},j1(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new Mc(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Gf(this.dragging,ew(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class EG extends Ma{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?xG(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,u=!1;if(o){let d=this.hitDragging.initialHit;o.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,o)||(c=SG(d,o,l.pluginHooks.dateSelectionTransformers)),(!c||!U3(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?Fb():$b(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(ZR(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Mc(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Gf(this.dragging,ew(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function xG(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function SG(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(gW);let o={};for(let a of n){let l=a(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:s[0],end:s[3]},o.allDay=r.allDay,o}class Dc extends Ma{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:l,dragging:c}=this,{mirror:u}=c,{options:d}=l.context,h=l.context;this.subjectEl=o.subjectEl;let p=this.subjectSeg=fa(o.subjectEl),g=(this.eventRange=p.eventRange).instance.instanceId;this.relevantEvents=Qb(h.getCurrentData().eventStore,g),c.minDistance=o.isTouch?0:d.eventDragMinDistance,c.delay=o.isTouch&&g!==l.props.eventSelection?CG(l):null,d.fixedMirrorParent?u.parentNode=d.fixedMirrorParent:u.parentNode=un(a,".fc"),u.revertDuration=d.dragRevertDuration;let b=l.isValidSegDownEl(a)&&!un(a,".fc-event-resizer");c.setIgnoreMove(!b),this.isDragging=b&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,l=this.eventRange,c=l.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new gt(a,l.def,l.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,d=null,h=null,p=null,m=!1,g={affectedEvents:l,mutatedEvents:cr(),isEvent:!0};if(o){d=o.context;let b=d.options;u===d||b.editable&&b.droppable?(h=TG(c,o,this.eventRange.instance.range.start,d.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(p=Zb(l,d.getCurrentData().eventUiBases,h,d),g.mutatedEvents=p,p1(g,o.dateProfile,d)||(m=!0,h=null,p=null,g.mutatedEvents=cr()))):d=null}this.displayDrag(d,g),m?Fb():$b(),a||(u===d&&Kf(c,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=h,this.mutatedRelevantEvents=p)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,l=a.viewApi,{receivingContext:c,validMutation:u}=this,d=this.eventRange.def,h=this.eventRange.instance,p=new gt(a,d,h),m=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:b}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:p,jsEvent:o.origEvent,view:l}),u){if(c===a){let w=new gt(a,g.defs[d.defId],h?g.instances[h.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:g});let A={oldEvent:p,event:w,relatedEvents:Ds(g,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:m})}},C={};for(let I of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(C,I(u,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},A),C),{el:o.subjectEl,delta:u.datesDelta,jsEvent:o.origEvent,view:l})),a.emitter.trigger("eventChange",A)}else if(c){let w={event:p,relatedEvents:Ds(m,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:m})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},w),{draggedEl:o.subjectEl,view:l})),a.dispatch({type:"REMOVE_EVENTS",eventStore:m}),a.emitter.trigger("eventRemove",w);let A=g.defs[d.defId],C=g.instances[h.instanceId],I=new gt(c,A,C);c.dispatch({type:"MERGE_EVENTS",eventStore:g});let P={event:I,relatedEvents:Ds(g,c,C),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};c.emitter.trigger("eventAdd",P),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},j1(b.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:b.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},P),{draggedEl:o.subjectEl,view:b.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Mc(e.el);i.pointer.selector=Dc.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Gf(this.dragging,av);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:cr(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Dc.SELECTOR=".fc-event-draggable, .fc-event-resizable";function TG(t,e,n,r){let i=t.dateSpan,s=e.dateSpan,o=i.range.start,a=s.range.start,l={};i.allDay!==s.allDay&&(l.allDay=s.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?o=mt(n):o=n);let c=Uo(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let d of r)d(u,t,e);return u}function CG(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class AG extends Ma{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,a=this.querySegEl(s),l=fa(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=Qb(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(s);this.draggingSegEl=l,this.draggingSeg=fa(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new gt(o,a.def,a.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.eventRange.instance,h=null,p=null,m=!1,g={affectedEvents:c,mutatedEvents:cr(),isEvent:!0};s&&(s.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,s)||(h=kG(u,s,a.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),h&&(p=Zb(c,l.getCurrentData().eventUiBases,h,l),g.mutatedEvents=p,p1(g,s.dateProfile,l)||(m=!0,h=null,p=null,g.mutatedEvents=null)),p?l.dispatch({type:"SET_EVENT_RESIZE",state:g}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),m?Fb():$b(),o||(h&&Kf(u,s)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=p)},this.handleDragEnd=s=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new gt(o,a,l),u=this.relevantEvents,d=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let h=new gt(o,d.defs[a.defId],l?d.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:d});let p={oldEvent:c,event:h,relatedEvents:Ds(d,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Je(0),endDelta:this.validMutation.endDelta||Je(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",p)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Mc(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new Gf(this.dragging,ew(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return un(e.subjectEl,".fc-event")}}function kG(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,a=Uo(s,o,i,t.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}class _G{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=DR(r.origEvent);this.matchesCancel=!!un(s,i),this.matchesEvent=!!un(s,Dc.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,o=i.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=i.options.unselectAuto;a&&(!a||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new B1(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const IG={fixedMirrorParent:V},RG={dateClick:V,eventDragStart:V,eventDragStop:V,eventDrop:V,eventResizeStart:V,eventResizeStop:V,eventResize:V,drop:V,eventReceive:V,eventLeave:V};iw.dataAttrPrefix="";var sse=ns({name:"@fullcalendar/interaction",componentInteractions:[wG,EG,Dc,AG],calendarInteractions:[_G],elementDraggingImpl:Mc,optionRefiners:IG,listenerRefiners:RG});const z1=6048e5,MG=864e5,kS=Symbol.for("constructDateFrom");function ai(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&kS in t?t[kS](e):t instanceof Date?new t.constructor(e):new Date(e)}function er(t,e){return ai(e||t,t)}function ose(t,e,n){const r=er(t,n==null?void 0:n.in);return isNaN(e)?ai(t,NaN):(e&&r.setDate(r.getDate()+e),r)}let DG={};function Yf(){return DG}function Zl(t,e){var a,l,c,u;const n=Yf(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=er(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Nd(t,e){return Zl(t,{...e,weekStartsOn:1})}function U1(t,e){const n=er(t,e==null?void 0:e.in),r=n.getFullYear(),i=ai(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Nd(i),o=ai(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Nd(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function _S(t){const e=er(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function OG(t,...e){const n=ai.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function IS(t,e){const n=er(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function PG(t,e,n){const[r,i]=OG(n==null?void 0:n.in,t,e),s=IS(r),o=IS(i),a=+s-_S(s),l=+o-_S(o);return Math.round((a-l)/MG)}function NG(t,e){const n=U1(t,e),r=ai(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Nd(r)}function LG(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function BG(t){return!(!LG(t)&&typeof t!="number"||isNaN(+er(t)))}function VG(t,e){const n=er(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const FG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$G=(t,e,n)=>{let r;const i=FG[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function bp(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const jG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HG={date:bp({formats:jG,defaultWidth:"full"}),time:bp({formats:zG,defaultWidth:"full"}),dateTime:bp({formats:UG,defaultWidth:"full"})},WG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qG=(t,e,n,r)=>WG[t];function ol(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const GG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},XG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZG=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},e7={ordinalNumber:ZG,era:ol({values:GG,defaultWidth:"wide"}),quarter:ol({values:KG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ol({values:YG,defaultWidth:"wide"}),day:ol({values:QG,defaultWidth:"wide"}),dayPeriod:ol({values:JG,defaultWidth:"wide",formattingValues:XG,defaultFormattingWidth:"wide"})};function al(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?n7(a,d=>d.test(o)):t7(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function t7(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function n7(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function r7(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const i7=/^(\d+)(th|st|nd|rd)?/i,s7=/\d+/i,o7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},a7={any:[/^b/i,/^(a|c)/i]},l7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c7={any:[/1/i,/2/i,/3/i,/4/i]},u7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},d7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},f7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},h7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},p7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},m7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},g7={ordinalNumber:r7({matchPattern:i7,parsePattern:s7,valueCallback:t=>parseInt(t,10)}),era:al({matchPatterns:o7,defaultMatchWidth:"wide",parsePatterns:a7,defaultParseWidth:"any"}),quarter:al({matchPatterns:l7,defaultMatchWidth:"wide",parsePatterns:c7,defaultParseWidth:"any",valueCallback:t=>t+1}),month:al({matchPatterns:u7,defaultMatchWidth:"wide",parsePatterns:d7,defaultParseWidth:"any"}),day:al({matchPatterns:f7,defaultMatchWidth:"wide",parsePatterns:h7,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:p7,defaultMatchWidth:"any",parsePatterns:m7,defaultParseWidth:"any"})},y7={code:"en-US",formatDistance:$G,formatLong:HG,formatRelative:qG,localize:e7,match:g7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function v7(t,e){const n=er(t,e==null?void 0:e.in);return PG(n,VG(n))+1}function b7(t,e){const n=er(t,e==null?void 0:e.in),r=+Nd(n)-+NG(n);return Math.round(r/z1)+1}function H1(t,e){var u,d,h,p;const n=er(t,e==null?void 0:e.in),r=n.getFullYear(),i=Yf(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=ai((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Zl(o,e),l=ai((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Zl(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function w7(t,e){var a,l,c,u;const n=Yf(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=H1(t,e),s=ai((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Zl(s,e)}function E7(t,e){const n=er(t,e==null?void 0:e.in),r=+Zl(n,e)-+w7(n,e);return Math.round(r/z1)+1}function tt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const mi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return tt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):tt(n+1,2)},d(t,e){return tt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return tt(t.getHours()%12||12,e.length)},H(t,e){return tt(t.getHours(),e.length)},m(t,e){return tt(t.getMinutes(),e.length)},s(t,e){return tt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return tt(i,e.length)}},Ro={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return mi.y(t,e)},Y:function(t,e,n,r){const i=H1(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return tt(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):tt(s,e.length)},R:function(t,e){const n=U1(t);return tt(n,e.length)},u:function(t,e){const n=t.getFullYear();return tt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return tt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return tt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return mi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return tt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=E7(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):tt(i,e.length)},I:function(t,e,n){const r=b7(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):tt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):mi.d(t,e)},D:function(t,e,n){const r=v7(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):tt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return tt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return tt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return tt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ro.noon:r===0?i=Ro.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ro.evening:r>=12?i=Ro.afternoon:r>=4?i=Ro.morning:i=Ro.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return mi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):mi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):tt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):tt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):mi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):mi.s(t,e)},S:function(t,e){return mi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return DS(r);case"XXXX":case"XX":return vs(r);case"XXXXX":case"XXX":default:return vs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return DS(r);case"xxxx":case"xx":return vs(r);case"xxxxx":case"xxx":default:return vs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+MS(r,":");case"OOOO":default:return"GMT"+vs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+MS(r,":");case"zzzz":default:return"GMT"+vs(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return tt(r,e.length)},T:function(t,e,n){return tt(+t,e.length)}};function MS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+tt(s,2)}function DS(t,e){return t%60===0?(t>0?"-":"+")+tt(Math.abs(t)/60,2):vs(t,e)}function vs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=tt(Math.trunc(r/60),2),s=tt(r%60,2);return n+i+e+s}const OS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},W1=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},x7=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return OS(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",OS(r,e)).replace("{{time}}",W1(i,e))},S7={p:W1,P:x7},T7=/^D+$/,C7=/^Y+$/,A7=["D","DD","YY","YYYY"];function k7(t){return T7.test(t)}function _7(t){return C7.test(t)}function I7(t,e,n){const r=R7(t,e,n);if(console.warn(r),A7.includes(t))throw new RangeError(r)}function R7(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const M7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,O7=/^'([^]*?)'?$/,P7=/''/g,N7=/[a-zA-Z]/;function ase(t,e,n){var u,d,h,p;const r=Yf(),i=r.locale??y7,s=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,a=er(t,n==null?void 0:n.in);if(!BG(a))throw new RangeError("Invalid time value");let l=e.match(D7).map(m=>{const g=m[0];if(g==="p"||g==="P"){const b=S7[g];return b(m,i.formatLong)}return m}).join("").match(M7).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:L7(m)};if(RS[g])return{isToken:!0,value:m};if(g.match(N7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(_7(g)||k7(g))&&I7(g,e,String(t));const b=RS[g[0]];return b(a,g,i.localize,c)}).join("")}function L7(t){const e=t.match(O7);return e?e[1].replace(P7,"'"):t}var B7="firebase",V7="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(B7,V7,"app");var PS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,x){function T(){}T.prototype=x.prototype,S.D=x.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(v,k,M){for(var _=Array(arguments.length-2),W=2;W<arguments.length;W++)_[W-2]=arguments[W];return x.prototype[k].apply(v,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,x,T){T||(T=0);var v=Array(16);if(typeof x=="string")for(var k=0;16>k;++k)v[k]=x.charCodeAt(T++)|x.charCodeAt(T++)<<8|x.charCodeAt(T++)<<16|x.charCodeAt(T++)<<24;else for(k=0;16>k;++k)v[k]=x[T++]|x[T++]<<8|x[T++]<<16|x[T++]<<24;x=S.g[0],T=S.g[1],k=S.g[2];var M=S.g[3],_=x+(M^T&(k^M))+v[0]+3614090360&4294967295;x=T+(_<<7&4294967295|_>>>25),_=M+(k^x&(T^k))+v[1]+3905402710&4294967295,M=x+(_<<12&4294967295|_>>>20),_=k+(T^M&(x^T))+v[2]+606105819&4294967295,k=M+(_<<17&4294967295|_>>>15),_=T+(x^k&(M^x))+v[3]+3250441966&4294967295,T=k+(_<<22&4294967295|_>>>10),_=x+(M^T&(k^M))+v[4]+4118548399&4294967295,x=T+(_<<7&4294967295|_>>>25),_=M+(k^x&(T^k))+v[5]+1200080426&4294967295,M=x+(_<<12&4294967295|_>>>20),_=k+(T^M&(x^T))+v[6]+2821735955&4294967295,k=M+(_<<17&4294967295|_>>>15),_=T+(x^k&(M^x))+v[7]+4249261313&4294967295,T=k+(_<<22&4294967295|_>>>10),_=x+(M^T&(k^M))+v[8]+1770035416&4294967295,x=T+(_<<7&4294967295|_>>>25),_=M+(k^x&(T^k))+v[9]+2336552879&4294967295,M=x+(_<<12&4294967295|_>>>20),_=k+(T^M&(x^T))+v[10]+4294925233&4294967295,k=M+(_<<17&4294967295|_>>>15),_=T+(x^k&(M^x))+v[11]+2304563134&4294967295,T=k+(_<<22&4294967295|_>>>10),_=x+(M^T&(k^M))+v[12]+1804603682&4294967295,x=T+(_<<7&4294967295|_>>>25),_=M+(k^x&(T^k))+v[13]+4254626195&4294967295,M=x+(_<<12&4294967295|_>>>20),_=k+(T^M&(x^T))+v[14]+2792965006&4294967295,k=M+(_<<17&4294967295|_>>>15),_=T+(x^k&(M^x))+v[15]+1236535329&4294967295,T=k+(_<<22&4294967295|_>>>10),_=x+(k^M&(T^k))+v[1]+4129170786&4294967295,x=T+(_<<5&4294967295|_>>>27),_=M+(T^k&(x^T))+v[6]+3225465664&4294967295,M=x+(_<<9&4294967295|_>>>23),_=k+(x^T&(M^x))+v[11]+643717713&4294967295,k=M+(_<<14&4294967295|_>>>18),_=T+(M^x&(k^M))+v[0]+3921069994&4294967295,T=k+(_<<20&4294967295|_>>>12),_=x+(k^M&(T^k))+v[5]+3593408605&4294967295,x=T+(_<<5&4294967295|_>>>27),_=M+(T^k&(x^T))+v[10]+38016083&4294967295,M=x+(_<<9&4294967295|_>>>23),_=k+(x^T&(M^x))+v[15]+3634488961&4294967295,k=M+(_<<14&4294967295|_>>>18),_=T+(M^x&(k^M))+v[4]+3889429448&4294967295,T=k+(_<<20&4294967295|_>>>12),_=x+(k^M&(T^k))+v[9]+568446438&4294967295,x=T+(_<<5&4294967295|_>>>27),_=M+(T^k&(x^T))+v[14]+3275163606&4294967295,M=x+(_<<9&4294967295|_>>>23),_=k+(x^T&(M^x))+v[3]+4107603335&4294967295,k=M+(_<<14&4294967295|_>>>18),_=T+(M^x&(k^M))+v[8]+1163531501&4294967295,T=k+(_<<20&4294967295|_>>>12),_=x+(k^M&(T^k))+v[13]+2850285829&4294967295,x=T+(_<<5&4294967295|_>>>27),_=M+(T^k&(x^T))+v[2]+4243563512&4294967295,M=x+(_<<9&4294967295|_>>>23),_=k+(x^T&(M^x))+v[7]+1735328473&4294967295,k=M+(_<<14&4294967295|_>>>18),_=T+(M^x&(k^M))+v[12]+2368359562&4294967295,T=k+(_<<20&4294967295|_>>>12),_=x+(T^k^M)+v[5]+4294588738&4294967295,x=T+(_<<4&4294967295|_>>>28),_=M+(x^T^k)+v[8]+2272392833&4294967295,M=x+(_<<11&4294967295|_>>>21),_=k+(M^x^T)+v[11]+1839030562&4294967295,k=M+(_<<16&4294967295|_>>>16),_=T+(k^M^x)+v[14]+4259657740&4294967295,T=k+(_<<23&4294967295|_>>>9),_=x+(T^k^M)+v[1]+2763975236&4294967295,x=T+(_<<4&4294967295|_>>>28),_=M+(x^T^k)+v[4]+1272893353&4294967295,M=x+(_<<11&4294967295|_>>>21),_=k+(M^x^T)+v[7]+4139469664&4294967295,k=M+(_<<16&4294967295|_>>>16),_=T+(k^M^x)+v[10]+3200236656&4294967295,T=k+(_<<23&4294967295|_>>>9),_=x+(T^k^M)+v[13]+681279174&4294967295,x=T+(_<<4&4294967295|_>>>28),_=M+(x^T^k)+v[0]+3936430074&4294967295,M=x+(_<<11&4294967295|_>>>21),_=k+(M^x^T)+v[3]+3572445317&4294967295,k=M+(_<<16&4294967295|_>>>16),_=T+(k^M^x)+v[6]+76029189&4294967295,T=k+(_<<23&4294967295|_>>>9),_=x+(T^k^M)+v[9]+3654602809&4294967295,x=T+(_<<4&4294967295|_>>>28),_=M+(x^T^k)+v[12]+3873151461&4294967295,M=x+(_<<11&4294967295|_>>>21),_=k+(M^x^T)+v[15]+530742520&4294967295,k=M+(_<<16&4294967295|_>>>16),_=T+(k^M^x)+v[2]+3299628645&4294967295,T=k+(_<<23&4294967295|_>>>9),_=x+(k^(T|~M))+v[0]+4096336452&4294967295,x=T+(_<<6&4294967295|_>>>26),_=M+(T^(x|~k))+v[7]+1126891415&4294967295,M=x+(_<<10&4294967295|_>>>22),_=k+(x^(M|~T))+v[14]+2878612391&4294967295,k=M+(_<<15&4294967295|_>>>17),_=T+(M^(k|~x))+v[5]+4237533241&4294967295,T=k+(_<<21&4294967295|_>>>11),_=x+(k^(T|~M))+v[12]+1700485571&4294967295,x=T+(_<<6&4294967295|_>>>26),_=M+(T^(x|~k))+v[3]+2399980690&4294967295,M=x+(_<<10&4294967295|_>>>22),_=k+(x^(M|~T))+v[10]+4293915773&4294967295,k=M+(_<<15&4294967295|_>>>17),_=T+(M^(k|~x))+v[1]+2240044497&4294967295,T=k+(_<<21&4294967295|_>>>11),_=x+(k^(T|~M))+v[8]+1873313359&4294967295,x=T+(_<<6&4294967295|_>>>26),_=M+(T^(x|~k))+v[15]+4264355552&4294967295,M=x+(_<<10&4294967295|_>>>22),_=k+(x^(M|~T))+v[6]+2734768916&4294967295,k=M+(_<<15&4294967295|_>>>17),_=T+(M^(k|~x))+v[13]+1309151649&4294967295,T=k+(_<<21&4294967295|_>>>11),_=x+(k^(T|~M))+v[4]+4149444226&4294967295,x=T+(_<<6&4294967295|_>>>26),_=M+(T^(x|~k))+v[11]+3174756917&4294967295,M=x+(_<<10&4294967295|_>>>22),_=k+(x^(M|~T))+v[2]+718787259&4294967295,k=M+(_<<15&4294967295|_>>>17),_=T+(M^(k|~x))+v[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(k+(_<<21&4294967295|_>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,x){x===void 0&&(x=S.length);for(var T=x-this.blockSize,v=this.B,k=this.h,M=0;M<x;){if(k==0)for(;M<=T;)i(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<x;)if(v[k++]=S.charCodeAt(M++),k==this.blockSize){i(this,v),k=0;break}}else for(;M<x;)if(v[k++]=S[M++],k==this.blockSize){i(this,v),k=0;break}}this.h=k,this.o+=x},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;var T=8*this.o;for(x=S.length-8;x<S.length;++x)S[x]=T&255,T/=256;for(this.u(S),S=Array(16),x=T=0;4>x;++x)for(var v=0;32>v;v+=8)S[T++]=this.g[x]>>>v&255;return S};function s(S,x){var T=a;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=x(S)}function o(S,x){this.h=x;for(var T=[],v=!0,k=S.length-1;0<=k;k--){var M=S[k]|0;v&&M==x||(T[k]=M,v=!1)}this.g=T}var a={};function l(S){return-128<=S&&128>S?s(S,function(x){return new o([x|0],0>x?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return b(c(-S));for(var x=[],T=1,v=0;S>=T;v++)x[v]=S/T|0,T*=4294967296;return new o(x,0)}function u(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return b(u(S.substring(1),x));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(x,8)),v=d,k=0;k<S.length;k+=8){var M=Math.min(8,S.length-k),_=parseInt(S.substring(k,k+M),x);8>M?(M=c(Math.pow(x,M)),v=v.j(M).add(c(_))):(v=v.j(T),v=v.add(c(_)))}return v}var d=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-b(this).m();for(var S=0,x=1,T=0;T<this.g.length;T++){var v=this.i(T);S+=(0<=v?v:4294967296+v)*x,x*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(m(this))return"0";if(g(this))return"-"+b(this).toString(S);for(var x=c(Math.pow(S,6)),T=this,v="";;){var k=I(T,x).g;T=w(T,k.j(x));var M=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=k,m(T))return M+v;for(;6>M.length;)M="0"+M;v=M+v}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function m(S){if(S.h!=0)return!1;for(var x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=w(this,S),g(S)?-1:m(S)?0:1};function b(S){for(var x=S.g.length,T=[],v=0;v<x;v++)T[v]=~S.g[v];return new o(T,~S.h).add(h)}t.abs=function(){return g(this)?b(this):this},t.add=function(S){for(var x=Math.max(this.g.length,S.g.length),T=[],v=0,k=0;k<=x;k++){var M=v+(this.i(k)&65535)+(S.i(k)&65535),_=(M>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);v=_>>>16,M&=65535,_&=65535,T[k]=_<<16|M}return new o(T,T[T.length-1]&-2147483648?-1:0)};function w(S,x){return S.add(b(x))}t.j=function(S){if(m(this)||m(S))return d;if(g(this))return g(S)?b(this).j(b(S)):b(b(this).j(S));if(g(S))return b(this.j(b(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var x=this.g.length+S.g.length,T=[],v=0;v<2*x;v++)T[v]=0;for(v=0;v<this.g.length;v++)for(var k=0;k<S.g.length;k++){var M=this.i(v)>>>16,_=this.i(v)&65535,W=S.i(k)>>>16,$=S.i(k)&65535;T[2*v+2*k]+=_*$,A(T,2*v+2*k),T[2*v+2*k+1]+=M*$,A(T,2*v+2*k+1),T[2*v+2*k+1]+=_*W,A(T,2*v+2*k+1),T[2*v+2*k+2]+=M*W,A(T,2*v+2*k+2)}for(v=0;v<x;v++)T[v]=T[2*v+1]<<16|T[2*v];for(v=x;v<2*x;v++)T[v]=0;return new o(T,0)};function A(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function C(S,x){this.g=S,this.h=x}function I(S,x){if(m(x))throw Error("division by zero");if(m(S))return new C(d,d);if(g(S))return x=I(b(S),x),new C(b(x.g),b(x.h));if(g(x))return x=I(S,b(x)),new C(b(x.g),x.h);if(30<S.g.length){if(g(S)||g(x))throw Error("slowDivide_ only works with positive integers.");for(var T=h,v=x;0>=v.l(S);)T=P(T),v=P(v);var k=O(T,1),M=O(v,1);for(v=O(v,2),T=O(T,2);!m(v);){var _=M.add(v);0>=_.l(S)&&(k=k.add(T),M=_),v=O(v,1),T=O(T,1)}return x=w(S,k.j(x)),new C(k,x)}for(k=d;0<=S.l(x);){for(T=Math.max(1,Math.floor(S.m()/x.m())),v=Math.ceil(Math.log(T)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),M=c(T),_=M.j(x);g(_)||0<_.l(S);)T-=v,M=c(T),_=M.j(x);m(M)&&(M=h),k=k.add(M),S=w(S,_)}return new C(k,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var x=Math.max(this.g.length,S.g.length),T=[],v=0;v<x;v++)T[v]=this.i(v)&S.i(v);return new o(T,this.h&S.h)},t.or=function(S){for(var x=Math.max(this.g.length,S.g.length),T=[],v=0;v<x;v++)T[v]=this.i(v)|S.i(v);return new o(T,this.h|S.h)},t.xor=function(S){for(var x=Math.max(this.g.length,S.g.length),T=[],v=0;v<x;v++)T[v]=this.i(v)^S.i(v);return new o(T,this.h^S.h)};function P(S){for(var x=S.g.length+1,T=[],v=0;v<x;v++)T[v]=S.i(v)<<1|S.i(v-1)>>>31;return new o(T,S.h)}function O(S,x){var T=x>>5;x%=32;for(var v=S.g.length-T,k=[],M=0;M<v;M++)k[M]=0<x?S.i(M+T)>>>x|S.i(M+T+1)<<32-x:S.i(M+T);return new o(k,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,lw=o}).apply(typeof PS<"u"?PS:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q1,pl,G1,Zu,fv,K1,Y1,Q1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,y){if(y)e:{var E=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var L=f[R];if(!(L in E))break e;E=E[L]}f=f[f.length-1],R=E[f],y=y(R),y!=R&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function s(f,y){f instanceof String&&(f+="");var E=0,R=!1,L={next:function(){if(!R&&E<f.length){var F=E++;return{value:y(F,f[F]),done:!1}}return R=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(f){return f||function(){return s(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function c(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function u(f,y,E){return f.call.apply(f.bind,arguments)}function d(f,y,E){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),f.apply(y,L)}}return function(){return f.apply(y,arguments)}}function h(f,y,E){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function p(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function m(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(R,L,F){for(var J=Array(arguments.length-2),it=2;it<arguments.length;it++)J[it-2]=arguments[it];return y.prototype[L].apply(R,J)}}function g(f){const y=f.length;if(0<y){const E=Array(y);for(let R=0;R<y;R++)E[R]=f[R];return E}return[]}function b(f,y){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(l(R)){const L=f.length||0,F=R.length||0;f.length=L+F;for(let J=0;J<F;J++)f[L+J]=R[J]}else f.push(R)}}class w{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function A(f){return/^[\s\xa0]*$/.test(f)}function C(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function I(f){return I[" "](f),f}I[" "]=function(){};var P=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function O(f,y,E){for(const R in f)y.call(E,f[R],R,f)}function S(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function x(f){const y={};for(const E in f)y[E]=f[E];return y}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(f,y){let E,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(E in R)f[E]=R[E];for(let F=0;F<T.length;F++)E=T[F],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function k(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function M(f){a.setTimeout(()=>{throw f},0)}function _(){var f=z;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,E){const R=$.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var $=new w(()=>new U,f=>f.reset());class U{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let G,B=!1,z=new W,Q=()=>{const f=a.Promise.resolve(void 0);G=()=>{f.then(ae)}};var ae=()=>{for(var f;f=_();){try{f.h.call(f.g)}catch(E){M(E)}var y=$;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}B=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};a.addEventListener("test",E,y),a.removeEventListener("test",E,y)}catch{}return f}();function fe(f,y){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(P){e:{try{I(y.nodeName);var L=!0;break e}catch{}L=!1}L||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&fe.aa.h.call(this)}}m(fe,oe);var te={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Te=0;function De(f,y,E,R,L){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=L,this.key=++Te,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xe(f){this.src=f,this.g={},this.h=0}xe.prototype.add=function(f,y,E,R,L){var F=f.toString();f=this.g[F],f||(f=this.g[F]=[],this.h++);var J=ze(f,y,R,L);return-1<J?(y=f[J],E||(y.fa=!1)):(y=new De(y,this.src,F,!!R,L),y.fa=E,f.push(y)),y};function ge(f,y){var E=y.type;if(E in f.g){var R=f.g[E],L=Array.prototype.indexOf.call(R,y,void 0),F;(F=0<=L)&&Array.prototype.splice.call(R,L,1),F&&(me(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function ze(f,y,E,R){for(var L=0;L<f.length;++L){var F=f[L];if(!F.da&&F.listener==y&&F.capture==!!E&&F.ha==R)return L}return-1}var be="closure_lm_"+(1e6*Math.random()|0),ie={};function rt(f,y,E,R,L){if(Array.isArray(y)){for(var F=0;F<y.length;F++)rt(f,y[F],E,R,L);return null}return E=Ot(E),f&&f[ve]?f.K(y,E,c(R)?!!R.capture:!1,L):ue(f,y,E,!1,R,L)}function ue(f,y,E,R,L,F){if(!y)throw Error("Invalid event type");var J=c(L)?!!L.capture:!!L,it=qe(f);if(it||(f[be]=it=new xe(f)),E=it.add(y,E,R,J,F),E.proxy)return E;if(R=$e(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)pe||(L=J),L===void 0&&(L=!1),f.addEventListener(y.toString(),R,L);else if(f.attachEvent)f.attachEvent(Ve(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function $e(){function f(E){return y.call(f.src,f.listener,E)}const y=ne;return f}function lt(f,y,E,R,L){if(Array.isArray(y))for(var F=0;F<y.length;F++)lt(f,y[F],E,R,L);else R=c(R)?!!R.capture:!!R,E=Ot(E),f&&f[ve]?(f=f.i,y=String(y).toString(),y in f.g&&(F=f.g[y],E=ze(F,E,R,L),-1<E&&(me(F[E]),Array.prototype.splice.call(F,E,1),F.length==0&&(delete f.g[y],f.h--)))):f&&(f=qe(f))&&(y=f.g[y.toString()],f=-1,y&&(f=ze(y,E,R,L)),(E=-1<f?y[f]:null)&&Ue(E))}function Ue(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[ve])ge(y.i,f);else{var E=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(E,R,f.capture):y.detachEvent?y.detachEvent(Ve(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=qe(y))?(ge(E,f),E.h==0&&(E.src=null,y[be]=null)):me(f)}}}function Ve(f){return f in ie?ie[f]:ie[f]="on"+f}function ne(f,y){if(f.da)f=!0;else{y=new fe(y,this);var E=f.listener,R=f.ha||f.src;f.fa&&Ue(f),f=E.call(R,y)}return f}function qe(f){return f=f[be],f instanceof xe?f:null}var Ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(f){return typeof f=="function"?f:(f[Ze]||(f[Ze]=function(y){return f.handleEvent(y)}),f[Ze])}function et(){ce.call(this),this.i=new xe(this),this.M=this,this.F=null}m(et,ce),et.prototype[ve]=!0,et.prototype.removeEventListener=function(f,y,E,R){lt(this,f,y,E,R)};function Ge(f,y){var E,R=f.F;if(R)for(E=[];R;R=R.F)E.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new oe(y,f);else if(y instanceof oe)y.target=y.target||f;else{var L=y;y=new oe(R,f),v(y,L)}if(L=!0,E)for(var F=E.length-1;0<=F;F--){var J=y.g=E[F];L=yt(J,R,!0,y)&&L}if(J=y.g=f,L=yt(J,R,!0,y)&&L,L=yt(J,R,!1,y)&&L,E)for(F=0;F<E.length;F++)J=y.g=E[F],L=yt(J,R,!1,y)&&L}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],R=0;R<E.length;R++)me(E[R]);delete f.g[y],f.h--}}this.F=null},et.prototype.K=function(f,y,E,R){return this.i.add(String(f),y,!1,E,R)},et.prototype.L=function(f,y,E,R){return this.i.add(String(f),y,!0,E,R)};function yt(f,y,E,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,F=0;F<y.length;++F){var J=y[F];if(J&&!J.da&&J.capture==E){var it=J.listener,qt=J.ha||J.src;J.fa&&ge(f.i,J),L=it.call(qt,R)!==!1&&L}}return L&&!R.defaultPrevented}function Lt(f,y,E){if(typeof f=="function")E&&(f=h(f,E));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(f,y||0)}function Ht(f){f.g=Lt(()=>{f.g=null,f.i&&(f.i=!1,Ht(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class _e extends ce{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(f){ce.call(this),this.h=f,this.g={}}m(At,ce);var ut=[];function dt(f){O(f.g,function(y,E){this.g.hasOwnProperty(E)&&Ue(y)},f),f.g={}}At.prototype.N=function(){At.aa.N.call(this),dt(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=a.JSON.stringify,Ke=a.JSON.parse,kt=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function yn(){}yn.prototype.h=null;function as(f){return f.h||(f.h=f.i())}function Hc(){}var ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function La(){oe.call(this,"d")}m(La,oe);function Ba(){oe.call(this,"c")}m(Ba,oe);var Vr={},Wc=null;function yo(){return Wc=Wc||new et}Vr.La="serverreachability";function Ce(f){oe.call(this,Vr.La,f)}m(Ce,oe);function Wt(f){const y=yo();Ge(y,new Ce(y))}Vr.STAT_EVENT="statevent";function Va(f,y){oe.call(this,Vr.STAT_EVENT,f),this.stat=y}m(Va,oe);function vn(f){const y=yo();Ge(y,new Va(y,f))}Vr.Ma="timingevent";function c0(f,y){oe.call(this,Vr.Ma,f),this.size=y}m(c0,oe);function Fa(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},y)}function $a(){this.g=!0}$a.prototype.xa=function(){this.g=!1};function iP(f,y,E,R,L,F){f.info(function(){if(f.g)if(F)for(var J="",it=F.split("&"),qt=0;qt<it.length;qt++){var He=it[qt].split("=");if(1<He.length){var nn=He[0];He=He[1];var rn=nn.split("_");J=2<=rn.length&&rn[1]=="type"?J+(nn+"="+He+"&"):J+(nn+"=redacted&")}}else J=null;else J=F;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+y+`
`+E+`
`+J})}function sP(f,y,E,R,L,F,J){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+y+`
`+E+`
`+F+" "+J})}function vo(f,y,E,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+aP(f,E)+(R?" "+R:"")})}function oP(f,y){f.info(function(){return"TIMEOUT: "+y})}$a.prototype.info=function(){};function aP(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var R=E[f];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return he(E)}catch{return y}}var qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},u0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Eh;function Gc(){}m(Gc,yn),Gc.prototype.g=function(){return new XMLHttpRequest},Gc.prototype.i=function(){return{}},Eh=new Gc;function ui(f,y,E,R){this.j=f,this.i=y,this.l=E,this.R=R||1,this.U=new At(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new d0}function d0(){this.i=null,this.g="",this.h=!1}var f0={},xh={};function Sh(f,y,E){f.L=1,f.v=Jc(Fr(y)),f.m=E,f.P=!0,h0(f,null)}function h0(f,y){f.F=Date.now(),Kc(f),f.A=Fr(f.v);var E=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),k0(E.i,"t",R),f.C=0,E=f.j.J,f.h=new d0,f.g=W0(f.j,E?y:null,!f.m),0<f.O&&(f.M=new _e(h(f.Y,f,f.g),f.O)),y=f.U,E=f.g,R=f.ca;var L="readystatechange";Array.isArray(L)||(L&&(ut[0]=L.toString()),L=ut);for(var F=0;F<L.length;F++){var J=rt(E,L[F],R||y.handleEvent,!1,y.h||y);if(!J)break;y.g[J.key]=J}y=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Wt(),iP(f.i,f.u,f.A,f.l,f.R,f.m)}ui.prototype.ca=function(f){f=f.target;const y=this.M;y&&$r(f)==3?y.j():this.Y(f)},ui.prototype.Y=function(f){try{if(f==this.g)e:{const rn=$r(this.g);var y=this.g.Ba();const Eo=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||P0(this.g)))){this.J||rn!=4||y==7||(y==8||0>=Eo?Wt(3):Wt(2)),Th(this);var E=this.g.Z();this.X=E;t:if(p0(this)){var R=P0(this.g);f="";var L=R.length,F=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cs(this),ja(this);var J="";break t}this.h.i=new a.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,f+=this.h.i.decode(R[y],{stream:!(F&&y==L-1)});R.length=0,this.h.g+=f,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=E==200,sP(this.i,this.u,this.A,this.l,this.R,rn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var it,qt=this.g;if((it=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(it)){var He=it;break t}}He=null}if(E=He)vo(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ch(this,E);else{this.o=!1,this.s=3,vn(12),cs(this),ja(this);break e}}if(this.P){E=!0;let tr;for(;!this.J&&this.C<J.length;)if(tr=lP(this,J),tr==xh){rn==4&&(this.s=4,vn(14),E=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==f0){this.s=4,vn(15),vo(this.i,this.l,J,"[Invalid Chunk]"),E=!1;break}else vo(this.i,this.l,tr,null),Ch(this,tr);if(p0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||J.length!=0||this.h.h||(this.s=1,vn(16),E=!1),this.o=this.o&&E,!E)vo(this.i,this.l,J,"[Invalid Chunked Response]"),cs(this),ja(this);else if(0<J.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Mh(nn),nn.M=!0,vn(11))}}else vo(this.i,this.l,J,null),Ch(this,J);rn==4&&cs(this),this.o&&!this.J&&(rn==4?j0(this.j,this):(this.o=!1,Kc(this)))}else CP(this.g),E==400&&0<J.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),cs(this),ja(this)}}}catch{}finally{}};function p0(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function lP(f,y){var E=f.C,R=y.indexOf(`
`,E);return R==-1?xh:(E=Number(y.substring(E,R)),isNaN(E)?f0:(R+=1,R+E>y.length?xh:(y=y.slice(R,R+E),f.C=R+E,y)))}ui.prototype.cancel=function(){this.J=!0,cs(this)};function Kc(f){f.S=Date.now()+f.I,m0(f,f.I)}function m0(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Fa(h(f.ba,f),y)}function Th(f){f.B&&(a.clearTimeout(f.B),f.B=null)}ui.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(oP(this.i,this.A),this.L!=2&&(Wt(),vn(17)),cs(this),this.s=2,ja(this)):m0(this,this.S-f)};function ja(f){f.j.G==0||f.J||j0(f.j,f)}function cs(f){Th(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,dt(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Ch(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||Ah(E.h,f))){if(!f.K&&Ah(E.h,f)&&E.G==3){try{var R=E.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)ru(E),tu(E);else break e;Rh(E),vn(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=Fa(h(E.Za,E),6e3));if(1>=v0(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ds(E,11)}else if((f.K||E.g==f)&&ru(E),!A(y))for(L=E.Da.g.parse(y),y=0;y<L.length;y++){let He=L[y];if(E.T=He[0],He=He[1],E.G==2)if(He[0]=="c"){E.K=He[1],E.ia=He[2];const nn=He[3];nn!=null&&(E.la=nn,E.j.info("VER="+E.la));const rn=He[4];rn!=null&&(E.Aa=rn,E.j.info("SVER="+E.Aa));const Eo=He[5];Eo!=null&&typeof Eo=="number"&&0<Eo&&(R=1.5*Eo,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const tr=f.g;if(tr){const su=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(su){var F=R.h;F.g||su.indexOf("spdy")==-1&&su.indexOf("quic")==-1&&su.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(kh(F,F.h),F.h=null))}if(R.D){const Dh=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Dh&&(R.ya=Dh,ft(R.I,R.D,Dh))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var J=f;if(R.qa=H0(R,R.J?R.ia:null,R.W),J.K){b0(R.h,J);var it=J,qt=R.L;qt&&(it.I=qt),it.B&&(Th(it),Kc(it)),R.g=J}else F0(R);0<E.i.length&&nu(E)}else He[0]!="stop"&&He[0]!="close"||ds(E,7);else E.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ds(E,7):Ih(E):He[0]!="noop"&&E.l&&E.l.ta(He),E.v=0)}}Wt(4)}catch{}}var cP=class{constructor(f,y){this.g=f,this.map=y}};function g0(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function y0(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function v0(f){return f.h?1:f.g?f.g.size:0}function Ah(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function kh(f,y){f.g?f.g.add(y):f.h=y}function b0(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}g0.prototype.cancel=function(){if(this.i=w0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function w0(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return g(f.i)}function uP(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var y=[],E=f.length,R=0;R<E;R++)y.push(f[R]);return y}y=[],E=0;for(R in f)y[E++]=f[R];return y}function dP(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const R in f)y[E++]=R;return y}}}function E0(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=dP(f),R=uP(f),L=R.length,F=0;F<L;F++)y.call(void 0,R[F],E&&E[F],f)}var x0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fP(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var R=f[E].indexOf("="),L=null;if(0<=R){var F=f[E].substring(0,R);L=f[E].substring(R+1)}else F=f[E];y(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function us(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof us){this.h=f.h,Yc(this,f.j),this.o=f.o,this.g=f.g,Qc(this,f.s),this.l=f.l;var y=f.i,E=new Ha;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),S0(this,E),this.m=f.m}else f&&(y=String(f).match(x0))?(this.h=!1,Yc(this,y[1]||"",!0),this.o=za(y[2]||""),this.g=za(y[3]||"",!0),Qc(this,y[4]),this.l=za(y[5]||"",!0),S0(this,y[6]||"",!0),this.m=za(y[7]||"")):(this.h=!1,this.i=new Ha(null,this.h))}us.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Ua(y,T0,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Ua(y,T0,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ua(E,E.charAt(0)=="/"?mP:pP,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ua(E,yP)),f.join("")};function Fr(f){return new us(f)}function Yc(f,y,E){f.j=E?za(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Qc(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function S0(f,y,E){y instanceof Ha?(f.i=y,vP(f.i,f.h)):(E||(y=Ua(y,gP)),f.i=new Ha(y,f.h))}function ft(f,y,E){f.i.set(y,E)}function Jc(f){return ft(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function za(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ua(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,hP),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hP(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var T0=/[#\/\?@]/g,pP=/[#\?:]/g,mP=/[#\?]/g,gP=/[#\?@]/g,yP=/#/g;function Ha(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function di(f){f.g||(f.g=new Map,f.h=0,f.i&&fP(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=Ha.prototype,t.add=function(f,y){di(this),this.i=null,f=bo(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function C0(f,y){di(f),y=bo(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function A0(f,y){return di(f),y=bo(f,y),f.g.has(y)}t.forEach=function(f,y){di(this),this.g.forEach(function(E,R){E.forEach(function(L){f.call(y,L,R,this)},this)},this)},t.na=function(){di(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let R=0;R<y.length;R++){const L=f[R];for(let F=0;F<L.length;F++)E.push(y[R])}return E},t.V=function(f){di(this);let y=[];if(typeof f=="string")A0(this,f)&&(y=y.concat(this.g.get(bo(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},t.set=function(f,y){return di(this),this.i=null,f=bo(this,f),A0(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function k0(f,y,E){C0(f,y),0<E.length&&(f.i=null,f.g.set(bo(f,y),g(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var R=y[E];const F=encodeURIComponent(String(R)),J=this.V(R);for(R=0;R<J.length;R++){var L=F;J[R]!==""&&(L+="="+encodeURIComponent(String(J[R]))),f.push(L)}}return this.i=f.join("&")};function bo(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function vP(f,y){y&&!f.j&&(di(f),f.i=null,f.g.forEach(function(E,R){var L=R.toLowerCase();R!=L&&(C0(this,R),k0(this,L,E))},f)),f.j=y}function bP(f,y){const E=new $a;if(a.Image){const R=new Image;R.onload=p(fi,E,"TestLoadImage: loaded",!0,y,R),R.onerror=p(fi,E,"TestLoadImage: error",!1,y,R),R.onabort=p(fi,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=p(fi,E,"TestLoadImage: timeout",!1,y,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function wP(f,y){const E=new $a,R=new AbortController,L=setTimeout(()=>{R.abort(),fi(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then(F=>{clearTimeout(L),F.ok?fi(E,"TestPingServer: ok",!0,y):fi(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),fi(E,"TestPingServer: error",!1,y)})}function fi(f,y,E,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(E)}catch{}}function EP(){this.g=new kt}function xP(f,y,E){const R=E||"";try{E0(f,function(L,F){let J=L;c(L)&&(J=he(L)),y.push(R+F+"="+encodeURIComponent(J))})}catch(L){throw y.push(R+"type="+encodeURIComponent("_badmap")),L}}function Xc(f){this.l=f.Ub||null,this.j=f.eb||!1}m(Xc,yn),Xc.prototype.g=function(){return new Zc(this.l,this.j)},Xc.prototype.i=function(f){return function(){return f}}({});function Zc(f,y){et.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Zc,et),t=Zc.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,qa(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wa(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_0(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function _0(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Wa(this):qa(this),this.readyState==3&&_0(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Wa(this))},t.Qa=function(f){this.g&&(this.response=f,Wa(this))},t.ga=function(){this.g&&Wa(this)};function Wa(f){f.readyState=4,f.l=null,f.j=null,f.v=null,qa(f)}t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function qa(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function I0(f){let y="";return O(f,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function _h(f,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=I0(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):ft(f,y,E))}function wt(f){et.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(wt,et);var SP=/^https?$/i,TP=["POST","PUT"];t=wt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Eh.g(),this.v=this.o?as(this.o):as(Eh),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(F){R0(this,F);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)E.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())E.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TP,y,void 0))||R||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,J]of E)this.g.setRequestHeader(F,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{O0(this),this.u=!0,this.g.send(f),this.u=!1}catch(F){R0(this,F)}};function R0(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,M0(f),eu(f)}function M0(f){f.A||(f.A=!0,Ge(f,"complete"),Ge(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ge(this,"complete"),Ge(this,"abort"),eu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eu(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?D0(this):this.bb())},t.bb=function(){D0(this)};function D0(f){if(f.h&&typeof o<"u"&&(!f.v[1]||$r(f)!=4||f.Z()!=2)){if(f.u&&$r(f)==4)Lt(f.Ea,0,f);else if(Ge(f,"readystatechange"),$r(f)==4){f.h=!1;try{const J=f.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=J===0){var L=String(f.D).match(x0)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),R=!SP.test(L?L.toLowerCase():"")}E=R}if(E)Ge(f,"complete"),Ge(f,"success");else{f.m=6;try{var F=2<$r(f)?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.Z()+"]",M0(f)}}finally{eu(f)}}}}function eu(f,y){if(f.g){O0(f);const E=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ge(f,"ready");try{E.onreadystatechange=R}catch{}}}function O0(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function $r(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Ke(y)}};function P0(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function CP(f){const y={};f=(f.g&&2<=$r(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(A(f[R]))continue;var E=k(f[R]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=y[L]||[];y[L]=F,F.push(E)}S(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function N0(f){this.Aa=0,this.i=[],this.j=new $a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,f),this.cb=Ga("retryDelaySeedMs",1e4,f),this.Wa=Ga("forwardChannelMaxRetries",2,f),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new g0(f&&f.concurrentRequestLimit),this.Da=new EP,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=N0.prototype,t.la=8,t.G=1,t.connect=function(f,y,E,R){vn(0),this.W=f,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=H0(this,null,this.W),nu(this)};function Ih(f){if(L0(f),f.G==3){var y=f.U++,E=Fr(f.I);if(ft(E,"SID",f.K),ft(E,"RID",y),ft(E,"TYPE","terminate"),Ka(f,E),y=new ui(f,f.j,y),y.L=2,y.v=Jc(Fr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=y.v,E=!0),E||(y.g=W0(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Kc(y)}U0(f)}function tu(f){f.g&&(Mh(f),f.g.cancel(),f.g=null)}function L0(f){tu(f),f.u&&(a.clearTimeout(f.u),f.u=null),ru(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function nu(f){if(!y0(f.h)&&!f.s){f.s=!0;var y=f.Ga;G||Q(),B||(G(),B=!0),z.add(y,f),f.B=0}}function AP(f,y){return v0(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Fa(h(f.Ga,f,y),z0(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const L=new ui(this,this.j,f);let F=this.o;if(this.S&&(F?(F=x(F),v(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=V0(this,L,y),E=Fr(this.I),ft(E,"RID",f),ft(E,"CVER",22),this.D&&ft(E,"X-HTTP-Session-Id",this.D),Ka(this,E),F&&(this.O?y="headers="+encodeURIComponent(String(I0(F)))+"&"+y:this.m&&_h(E,this.m,F)),kh(this.h,L),this.Ua&&ft(E,"TYPE","init"),this.P?(ft(E,"$req",y),ft(E,"SID","null"),L.T=!0,Sh(L,E,null)):Sh(L,E,y),this.G=2}}else this.G==3&&(f?B0(this,f):this.i.length==0||y0(this.h)||B0(this))};function B0(f,y){var E;y?E=y.l:E=f.U++;const R=Fr(f.I);ft(R,"SID",f.K),ft(R,"RID",E),ft(R,"AID",f.T),Ka(f,R),f.m&&f.o&&_h(R,f.m,f.o),E=new ui(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=V0(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),kh(f.h,E),Sh(E,R,y)}function Ka(f,y){f.H&&O(f.H,function(E,R){ft(y,R,E)}),f.l&&E0({},function(E,R){ft(y,R,E)})}function V0(f,y,E){E=Math.min(f.i.length,E);var R=f.l?h(f.l.Na,f.l,f):null;e:{var L=f.i;let F=-1;for(;;){const J=["count="+E];F==-1?0<E?(F=L[0].g,J.push("ofs="+F)):F=0:J.push("ofs="+F);let it=!0;for(let qt=0;qt<E;qt++){let He=L[qt].g;const nn=L[qt].map;if(He-=F,0>He)F=Math.max(0,L[qt].g-100),it=!1;else try{xP(nn,J,"req"+He+"_")}catch{R&&R(nn)}}if(it){R=J.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,R}function F0(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;G||Q(),B||(G(),B=!0),z.add(y,f),f.v=0}}function Rh(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Fa(h(f.Fa,f),z0(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,$0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Fa(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),tu(this),$0(this))};function Mh(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function $0(f){f.g=new ui(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Fr(f.qa);ft(y,"RID","rpc"),ft(y,"SID",f.K),ft(y,"AID",f.T),ft(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&ft(y,"TO",f.ja),ft(y,"TYPE","xmlhttp"),Ka(f,y),f.m&&f.o&&_h(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Jc(Fr(y)),E.m=null,E.P=!0,h0(E,f)}t.Za=function(){this.C!=null&&(this.C=null,tu(this),Rh(this),vn(19))};function ru(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function j0(f,y){var E=null;if(f.g==y){ru(f),Mh(f),f.g=null;var R=2}else if(Ah(f.h,y))E=y.D,b0(f.h,y),R=1;else return;if(f.G!=0){if(y.o)if(R==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var L=f.B;R=yo(),Ge(R,new c0(R,E)),nu(f)}else F0(f);else if(L=y.s,L==3||L==0&&0<y.X||!(R==1&&AP(f,y)||R==2&&Rh(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),L){case 1:ds(f,5);break;case 4:ds(f,10);break;case 3:ds(f,6);break;default:ds(f,2)}}}function z0(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function ds(f,y){if(f.j.info("Error code "+y),y==2){var E=h(f.fb,f),R=f.Xa;const L=!R;R=new us(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yc(R,"https"),Jc(R),L?bP(R.toString(),E):wP(R.toString(),E)}else vn(2);f.G=0,f.l&&f.l.sa(y),U0(f),L0(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function U0(f){if(f.G=0,f.ka=[],f.l){const y=w0(f.h);(y.length!=0||f.i.length!=0)&&(b(f.ka,y),b(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function H0(f,y,E){var R=E instanceof us?Fr(E):new us(E);if(R.g!="")y&&(R.g=y+"."+R.g),Qc(R,R.s);else{var L=a.location;R=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var F=new us(null);R&&Yc(F,R),y&&(F.g=y),L&&Qc(F,L),E&&(F.l=E),R=F}return E=f.D,y=f.ya,E&&y&&ft(R,E,y),ft(R,"VER",f.la),Ka(f,R),R}function W0(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new wt(new Xc({eb:E})):new wt(f.pa),y.Ha(f.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function q0(){}t=q0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function iu(){}iu.prototype.g=function(f,y){return new Pn(f,y)};function Pn(f,y){et.call(this),this.g=new N0(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!A(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!A(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new wo(this)}m(Pn,et),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Ih(this.g)},Pn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=he(f),f=E);y.i.push(new cP(y.Ya++,f)),y.G==3&&nu(y)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Ih(this.g),delete this.g,Pn.aa.N.call(this)};function G0(f){La.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}m(G0,La);function K0(){Ba.call(this),this.status=1}m(K0,Ba);function wo(f){this.g=f}m(wo,q0),wo.prototype.ua=function(){Ge(this.g,"a")},wo.prototype.ta=function(f){Ge(this.g,new G0(f))},wo.prototype.sa=function(f){Ge(this.g,new K0)},wo.prototype.ra=function(){Ge(this.g,"b")},iu.prototype.createWebChannel=iu.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,Q1=function(){return new iu},Y1=function(){return yo()},K1=Vr,fv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qc.NO_ERROR=0,qc.TIMEOUT=8,qc.HTTP_ERROR=6,Zu=qc,u0.COMPLETE="complete",G1=u0,Hc.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",et.prototype.listen=et.prototype.K,pl=Hc,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,q1=wt}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const NS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Tb("@firebase/firestore");function Vo(){return Ks.logLevel}function se(t,...e){if(Ks.logLevel<=Ne.DEBUG){const n=e.map(cw);Ks.debug(`Firestore (${Da}): ${t}`,...n)}}function Ys(t,...e){if(Ks.logLevel<=Ne.ERROR){const n=e.map(cw);Ks.error(`Firestore (${Da}): ${t}`,...n)}}function Ld(t,...e){if(Ks.logLevel<=Ne.WARN){const n=e.map(cw);Ks.warn(`Firestore (${Da}): ${t}`,...n)}}function cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+t;throw Ys(e),new Error(e)}function Ct(t,e){t||Le()}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class $7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class j7{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Os,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string"),new J1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string"),new ln(e)}}class z7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class U7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new z7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ct(this.o===void 0);const r=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct(typeof n.token=="string"),this.R=n.token,new H7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=q7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function ha(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ee(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new jt(0,0))}static max(){return new pt(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(),r===void 0?r=e.length-n:r>e.length-n&&Le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=gr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=gr.isNumericId(e),i=gr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?gr.extractNumericId(e).compare(gr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lw.fromString(e.substring(4,e.length-2))}}class Mt extends gr{construct(e,n,r){return new Mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const G7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends gr{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return G7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ee(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ee(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ee(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ee(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Mt.fromString(e))}static fromName(e){return new Pe(Mt.fromString(e).popFirst(5))}static empty(){return new Pe(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Mt(e.slice()))}}function K7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new qi(i,Pe.empty(),e)}function Y7(t){return new qi(t.readTime,t.key,-1)}class qi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qi(pt.min(),Pe.empty(),-1)}static max(){return new qi(pt.max(),Pe.empty(),-1)}}function Q7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==J7)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Z7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dw.oe=-1;function fw(t){return t==null}function Bd(t){return t===0&&1/t==-1/0}function e8(t){return typeof t=="number"&&Number.isInteger(t)&&!Bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LS(e)),e=n8(t.get(n),e);return LS(e)}function n8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function LS(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Z1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new Dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new Dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=s??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Kt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new Dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VS(this.data.getIterator())}getIteratorFrom(e){return new VS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class VS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new or([])}unionWith(e){let n=new tn(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new r8("Invalid base64 string: "+s):s}}(e);return new Ir(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ir(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const i8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(Ct(!!t),typeof t=="string"){let e=0;const n=i8.exec(t);if(Ct(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pa(t){return typeof t=="string"?Ir.fromBase64String(t):Ir.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pw(t){const e=t.mapValue.fields.__previous_value__;return hw(e)?pw(e):e}function Vd(t){const e=Qs(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Fd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hw(t)?4:a8(t)?9007199254740991:o8(t)?10:11:Le()}function Rr(t,e){if(t===e)return!0;const n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vd(t).isEqual(Vd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qs(i.timestampValue),a=Qs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return pa(i.bytesValue).isEqual(pa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),a=Yt(s.doubleValue);return o===a?Bd(o)===Bd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ha(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(BS(o)!==BS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Rr(o[l],a[l])))return!1;return!0}(t,e);default:return Le()}}function ec(t,e){return(t.values||[]).find(n=>Rr(n,e))!==void 0}function ma(t,e){if(t===e)return 0;const n=Js(t),r=Js(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yt(s.integerValue||s.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return FS(t.timestampValue,e.timestampValue);case 4:return FS(Vd(t),Vd(e));case 5:return nt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=pa(s),l=pa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=nt(a[c],l[c]);if(u!==0)return u}return nt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=nt(Yt(s.latitude),Yt(o.latitude));return a!==0?a:nt(Yt(s.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $S(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const d=s.fields||{},h=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=nt(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:$S(p,m)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===_u.mapValue&&o===_u.mapValue)return 0;if(s===_u.mapValue)return 1;if(o===_u.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=nt(l[d],u[d]);if(h!==0)return h;const p=ma(a[l[d]],c[u[d]]);if(p!==0)return p}return nt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Le()}}function FS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Qs(t),r=Qs(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function $S(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ma(n[i],r[i]);if(s)return s}return nt(n.length,r.length)}function ga(t){return hv(t)}function hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=hv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${hv(n.fields[o])}`;return i+"}"}(t.mapValue):Le()}function ed(t){switch(Js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pw(t);return e?16+ed(e):16;case 5:return 2*t.stringValue.length;case 6:return pa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ed(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Oa(r.fields,(s,o)=>{i+=s.length+ed(o)}),i}(t.mapValue);default:throw Le()}}function pv(t){return!!t&&"integerValue"in t}function mw(t){return!!t&&"arrayValue"in t}function td(t){return!!t&&"mapValue"in t}function o8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Dl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Dl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];td(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rr(Dl(this.value))}}function eM(t){const e=[];return Oa(t.fields,(n,r)=>{const i=new en([n]);if(td(r)){const s=eM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nr(e,0,pt.min(),pt.min(),pt.min(),rr.empty(),0)}static newFoundDocument(e,n,r,i){return new nr(e,1,n,pt.min(),r,i,0)}static newNoDocument(e,n){return new nr(e,2,n,pt.min(),pt.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new nr(e,3,n,pt.min(),pt.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.position=e,this.inclusive=n}}function jS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Pe.comparator(Pe.fromName(o.referenceValue),n.key):r=ma(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function l8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{}class $t extends tM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new u8(e,n,r):n==="array-contains"?new h8(e,r):n==="in"?new p8(e,r):n==="not-in"?new m8(e,r):n==="array-contains-any"?new g8(e,r):new $t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new d8(e,r):new f8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ma(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends tM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gi(e,n)}matches(e){return nM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nM(t){return t.op==="and"}function rM(t){return c8(t)&&nM(t)}function c8(t){for(const e of t.filters)if(e instanceof Gi)return!1;return!0}function mv(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+ga(t.value);if(rM(t))return t.filters.map(e=>mv(e)).join(",");{const e=t.filters.map(n=>mv(n)).join(",");return`${t.op}(${e})`}}function iM(t,e){return t instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.field.isEqual(i.field)&&Rr(r.value,i.value)}(t,e):t instanceof Gi?function(r,i){return i instanceof Gi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&iM(o,i.filters[a]),!0):!1}(t,e):void Le()}function sM(t){return t instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${ga(n.value)}`}(t):t instanceof Gi?function(n){return n.op.toString()+" {"+n.getFilters().map(sM).join(" ,")+"}"}(t):"Filter"}class u8 extends $t{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class d8 extends $t{constructor(e,n){super(e,"in",n),this.keys=oM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f8 extends $t{constructor(e,n){super(e,"not-in",n),this.keys=oM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class h8 extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mw(n)&&ec(n.arrayValue,this.value)}}class p8 extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}}class m8 extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ec(this.value.arrayValue,n)}}class g8 extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ec(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function US(t,e=null,n=[],r=[],i=null,s=null,o=null){return new y8(t,e,n,r,i,s,o)}function gw(t){const e=ct(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),fw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ga(r)).join(",")),e.ue=n}return e.ue}function yw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!l8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zS(t.startAt,e.startAt)&&zS(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function v8(t,e,n,r,i,s,o,a){return new Qf(t,e,n,r,i,s,o,a)}function b8(t){return new Qf(t)}function HS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w8(t){return t.collectionGroup!==null}function Ol(t){const e=ct(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tn(en.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new jd(s,r))}),n.has(en.keyField().canonicalString())||e.ce.push(new jd(en.keyField(),r))}return e.ce}function Ps(t){const e=ct(t);return e.le||(e.le=E8(e,Ol(t))),e.le}function E8(t,e){if(t.limitType==="F")return US(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jd(i.field,s)});const n=t.endAt?new $d(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $d(t.startAt.position,t.startAt.inclusive):null;return US(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gv(t,e,n){return new Qf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function aM(t,e){return yw(Ps(t),Ps(e))&&t.limitType===e.limitType}function lM(t){return`${gw(Ps(t))}|lt:${t.limitType}`}function ll(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sM(i)).join(", ")}]`),fw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ga(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ga(i)).join(",")),`Target(${r})`}(Ps(t))}; limitType=${t.limitType})`}function vw(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ol(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=jS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ol(r),i)||r.endAt&&!function(o,a,l){const c=jS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ol(r),i))}(t,e)}function x8(t){return(e,n)=>{let r=!1;for(const i of Ol(t)){const s=S8(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function S8(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ma(l,c):Le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Z1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=new Dn(Pe.comparator);function zd(){return T8}const cM=new Dn(Pe.comparator);function Iu(...t){let e=cM;for(const n of t)e=e.insert(n.key,n);return e}function uM(t){let e=cM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cs(){return Pl()}function dM(){return Pl()}function Pl(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const C8=new Dn(Pe.comparator),A8=new tn(Pe.comparator);function cn(...t){let e=A8;for(const n of t)e=e.add(n);return e}const k8=new tn(nt);function _8(){return k8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function fM(t){return{integerValue:""+t}}function I8(t,e){return e8(e)?fM(e):bw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this._=void 0}}function R8(t,e,n){return t instanceof Ud?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&hw(s)&&(s=pw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof tc?pM(t,e):t instanceof nc?mM(t,e):function(i,s){const o=hM(i,s),a=WS(o)+WS(i.Pe);return pv(o)&&pv(i.Pe)?fM(a):bw(i.serializer,a)}(t,e)}function M8(t,e,n){return t instanceof tc?pM(t,e):t instanceof nc?mM(t,e):n}function hM(t,e){return t instanceof Hd?function(r){return pv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ud extends Jf{}class tc extends Jf{constructor(e){super(),this.elements=e}}function pM(t,e){const n=gM(e);for(const r of t.elements)n.some(i=>Rr(i,r))||n.push(r);return{arrayValue:{values:n}}}class nc extends Jf{constructor(e){super(),this.elements=e}}function mM(t,e){let n=gM(e);for(const r of t.elements)n=n.filter(i=>!Rr(i,r));return{arrayValue:{values:n}}}class Hd extends Jf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function WS(t){return Yt(t.integerValue||t.doubleValue)}function gM(t){return mw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function D8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tc&&i instanceof tc||r instanceof nc&&i instanceof nc?ha(r.elements,i.elements,Rr):r instanceof Hd&&i instanceof Hd?Rr(r.Pe,i.Pe):r instanceof Ud&&i instanceof Ud}(t.transform,e.transform)}class O8{constructor(e,n){this.version=e,this.transformResults=n}}class Xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xf{}function yM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bM(t.key,Xr.none()):new Pc(t.key,t.data,Xr.none());{const n=t.data,r=rr.empty();let i=new tn(en.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new co(t.key,r,new or(i.toArray()),Xr.none())}}function P8(t,e,n){t instanceof Pc?function(i,s,o){const a=i.value.clone(),l=GS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof co?function(i,s,o){if(!nd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=GS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(vM(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Nl(t,e,n,r){return t instanceof Pc?function(s,o,a,l){if(!nd(s.precondition,o))return a;const c=s.value.clone(),u=KS(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(s,o,a,l){if(!nd(s.precondition,o))return a;const c=KS(s.fieldTransforms,l,o),u=o.data;return u.setAll(vM(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return nd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function N8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=hM(r.transform,i||null);s!=null&&(n===null&&(n=rr.empty()),n.set(r.field,s))}return n||null}function qS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ha(r,i,(s,o)=>D8(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pc extends Xf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends Xf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GS(t,e,n){const r=new Map;Ct(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,M8(o,a,n[i]))}return r}function KS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,R8(s,o,e))}return r}class bM extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L8 extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&P8(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dM();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=yM(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(pt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),cn())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(n,r)=>qS(n,r))&&ha(this.baseMutations,e.baseMutations,(n,r)=>qS(n,r))}}class ww{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ct(e.mutations.length===r.length);let i=function(){return C8}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ww(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,je;function F8(t){switch(t){default:return Le();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function $8(t){if(t===void 0)return Ys("GRPC error has no .code"),Y.UNKNOWN;switch(t){case It.OK:return Y.OK;case It.CANCELLED:return Y.CANCELLED;case It.UNKNOWN:return Y.UNKNOWN;case It.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case It.INTERNAL:return Y.INTERNAL;case It.UNAVAILABLE:return Y.UNAVAILABLE;case It.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case It.NOT_FOUND:return Y.NOT_FOUND;case It.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case It.ABORTED:return Y.ABORTED;case It.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case It.DATA_LOSS:return Y.DATA_LOSS;default:return Le()}}(je=It||(It={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new lw([4294967295,4294967295],0);class j8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function U8(t,e){return yv(t,e.toTimestamp())}function Zo(t){return Ct(!!t),pt.fromTimestamp(function(n){const r=Qs(n);return new jt(r.seconds,r.nanos)}(t))}function wM(t,e){return vv(t,e).canonicalString()}function vv(t,e){const n=function(i){return new Mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function H8(t){const e=Mt.fromString(t);return Ct(X8(e)),e}function bv(t,e){return wM(t.databaseId,e.path)}function W8(t){const e=H8(t);return e.length===4?Mt.emptyPath():G8(e)}function q8(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function G8(t){return Ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YS(t,e,n){return{name:bv(t,e),fields:n.value.mapValue.fields}}function K8(t,e){let n;if(e instanceof Pc)n={update:YS(t,e.key,e.value)};else if(e instanceof bM)n={delete:bv(t,e.key)};else if(e instanceof co)n={update:YS(t,e.key,e.data),updateMask:J8(e.fieldMask)};else{if(!(e instanceof L8))return Le();n={verify:bv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ud)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:U8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Le()}(t,e.precondition)),n}function Y8(t,e){return t&&t.length>0?(Ct(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Zo(i.updateTime):Zo(s);return o.isEqual(pt.min())&&(o=Zo(s)),new O8(o,i.transformResults||[])}(n,e))):[]}function Q8(t){let e=W8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ct(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=EM(d);return h instanceof Gi&&rM(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new jd(Fo(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,fw(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new $d(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new $d(p,h)}(n.endAt)),v8(e,i,o,s,a,"F",l,c)}function EM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fo(n.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fo(n.unaryFilter.field);return $t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fo(n.unaryFilter.field);return $t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fo(n.unaryFilter.field);return $t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(t):t.fieldFilter!==void 0?function(n){return $t.create(Fo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gi.create(n.compositeFilter.filters.map(r=>EM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le()}}(n.compositeFilter.op))}(t):Le()}function Fo(t){return en.fromServerFormat(t.fieldPath)}function J8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function X8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.ht=e}}function eK(t){const e=Q8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(){this.ln=new nK}addToCollectionParentIndex(e,n){return this.ln.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(qi.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class nK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(Mt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(41943040,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ya(0)}static Qn(){return new ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS([t,e],[n,r]){const i=nt(t,n);return i===0?nt(e,r):i}class rK{constructor(e){this.Gn=e,this.buffer=new tn(JS),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();JS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oc(n)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await uw(n)}await this.Yn(3e5)})}}class sK{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return q.resolve(dw.oe);const r=new rK(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(QS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QS):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Vo()<=Ne.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function oK(t,e){return new sK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nl(r.mutation,i,or.empty(),jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,cn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=cn()){const i=Cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Iu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,cn()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=zd();const o=Pl(),a=function(){return Pl()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof co)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Nl(u.mutation,c,u.mutation.getFieldMask(),jt.now())):o.set(c.key,or.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new lK(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pl();let i=new Dn((o,a)=>o-a),s=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||or.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||cn()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=dM();u.forEach(h=>{if(!s.has(h)){const p=yM(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(Cs());let a=-1,l=s;return o.next(c=>q.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?q.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,cn())).next(u=>({batchId:a,changes:uM(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let i=Iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Iu();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,l=>{const c=function(d,h){return new Qf(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,nr.newInvalidDocument(u)))});let a=Iu();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Nl(u.mutation,c,or.empty(),jt.now()),vw(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return q.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zo(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:eK(i.bundledQuery),readTime:Zo(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(){this.overlays=new Dn(Pe.comparator),this.dr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cs();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.dr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Cs(),s=n.length+1,o=new Pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Dn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Cs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Cs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return q.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new V8(n,r));let s=this.dr.get(n);s===void 0&&(s=cn(),this.dr.set(n,s)),this.dr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this.sessionToken=Ir.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.Er=new tn(Bt.Ar),this.Rr=new tn(Bt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Bt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Pe(new Mt([])),r=new Bt(n,e),i=new Bt(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Pe(new Mt([])),r=new Bt(n,e),i=new Bt(n,e+1);let s=cn();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Bt(e,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Pe.comparator(e.key,n.key)||nt(e.br,n.br)}static Vr(e,n){return nt(e.br,n.br)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new tn(Bt.Ar)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new Bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),i=new Bt(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(nt);return n.forEach(i=>{const s=new Bt(i,0),o=new Bt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),q.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Pe.isDocumentKey(s)||(s=s.child(""));const o=new Bt(new Pe(s),0);let a=new tn(nt);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.br)),!0)},o),q.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ct(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return q.forEach(n.mutations,i=>{const s=new Bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,n){const r=new Bt(n,0),i=this.vr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e){this.Nr=e,this.docs=function(){return new Dn(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(n))}getEntries(e,n){let r=zd();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():nr.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=zd();const o=n.path,a=new Pe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Q7(Y7(u),r)<=0||(i.has(u.key)||vw(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Le()}Br(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mK(this)}getSize(e){return q.resolve(this.size)}}class mK extends aK{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e){this.persistence=e,this.Lr=new lo(n=>gw(n),yw),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ew,this.targetCount=0,this.Qr=ya.qn()}forEachTarget(e,n){return this.Lr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),q.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new ya(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Un(n),q.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Lr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Lr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Lr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.Kr={},this.overlays={},this.$r=new dw(0),this.Ur=!1,this.Ur=!0,this.Wr=new fK,this.referenceDelegate=e(this),this.Gr=new gK(this),this.indexManager=new tK,this.remoteDocumentCache=function(i){return new pK(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Z8(n),this.jr=new uK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new hK(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new yK(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return q.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class yK extends X7{constructor(e){super(),this.currentSequenceNumber=e}}class xw{constructor(e){this.persistence=e,this.Zr=new Ew,this.Xr=null}static ei(e){return new xw(e)}get ti(){if(this.Xr)return this.Xr;throw Le()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),q.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.ti,r=>{const i=Pe.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,pt.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return q.or([()=>q.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Wd{constructor(e,n){this.persistence=e,this.ri=new lo(r=>t8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=oK(this,n)}static ei(e,n){return new Wd(e,n)}Hr(){}Jr(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return q.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?q.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Br(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,pt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),q.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ed(e.data.value)),n}ir(e,n,r){return q.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=cn(),i=cn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Sw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return TU()?8:Z7(hn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vK;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Vo()<=Ne.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),q.resolve()):(Vo()<=Ne.DEBUG&&se("QueryEngine","Query:",ll(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Vo()<=Ne.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(n))):q.resolve())}Xi(e,n){if(HS(n))return q.resolve(null);let r=Ps(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gv(n,null,"F"),r=Ps(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=cn(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,a);return this.ss(n,c,o,l.readTime)?this.Xi(e,gv(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,i){return HS(n)||i.isEqual(pt.min())?q.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?q.resolve(null):(Vo()<=Ne.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ll(n)),this.os(e,o,n,K7(i,-1)).next(a=>a))})}rs(e,n){let r=new tn(x8(e));return n.forEach((i,s)=>{vw(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return Vo()<=Ne.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",ll(n)),this.Zi.getDocumentsMatchingQuery(e,n,qi.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Dn(nt),this.cs=new lo(s=>gw(s),yw),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cK(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function EK(t,e,n,r){return new wK(t,e,n,r)}async function SM(t,e){const n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=cn();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function xK(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=q.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const b=c.docVersions.get(m);Ct(b!==null),g.version.compareTo(b)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=cn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SK(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function TK(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class XS{constructor(){this.activeTargetIds=_8()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CK{constructor(){this._o=new XS,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new XS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru=null;function wp(){return Ru===null?Ru=function(){return 268435456+Math.round(2147483648*Math.random())}():Ru++,"0x"+Ru.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class IK extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=wp(),l=this.No(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(c,s,o),this.Lo(n,l,c,i).then(u=>(se("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ld("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Da}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=kK[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,r,i){const s=wp();return new Promise((o,a)=>{const l=new q1;l.setWithCredentials(!0),l.listenOnce(G1.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zu.NO_ERROR:const u=l.getResponseJson();se(sn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Zu.TIMEOUT:se(sn,`RPC '${e}' ${s} timed out`),a(new Ee(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const d=l.getStatus();if(se(sn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(w)>=0?w:Y.UNKNOWN}(p.status);a(new Ee(m,p.message))}else a(new Ee(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ee(Y.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{se(sn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);se(sn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}qo(e,n,r){const i=wp(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Q1(),a=Y1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");se(sn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const m=new _K({Eo:b=>{p?se(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(se(sn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),se(sn,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Ao:()=>d.close()}),g=(b,w,A)=>{b.listen(w,C=>{try{A(C)}catch(I){setTimeout(()=>{throw I},0)}})};return g(d,pl.EventType.OPEN,()=>{p||(se(sn,`RPC '${e}' stream ${i} transport opened.`),m.So())}),g(d,pl.EventType.CLOSE,()=>{p||(p=!0,se(sn,`RPC '${e}' stream ${i} transport closed`),m.Do())}),g(d,pl.EventType.ERROR,b=>{p||(p=!0,Ld(sn,`RPC '${e}' stream ${i} transport errored:`,b),m.Do(new Ee(Y.UNAVAILABLE,"The operation could not be completed")))}),g(d,pl.EventType.MESSAGE,b=>{var w;if(!p){const A=b.data[0];Ct(!!A);const C=A,I=(C==null?void 0:C.error)||((w=C[0])===null||w===void 0?void 0:w.error);if(I){se(sn,`RPC '${e}' stream ${i} received error:`,I);const P=I.status;let O=function(T){const v=It[T];if(v!==void 0)return $8(v)}(P),S=I.message;O===void 0&&(O=Y.INTERNAL,S="Unknown error status: "+P+" with message "+I.message),p=!0,m.Do(new Ee(O,S)),d.close()}else se(sn,`RPC '${e}' stream ${i} received:`,A),m.vo(A)}}),g(a,K1.STAT_EVENT,b=>{b.stat===fv.PROXY?se(sn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===fv.NOPROXY&&se(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.bo()},0),m}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){return new j8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e,n,r,i,s,o,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new TM(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Ys(n.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Ee(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MK extends RK{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=Y8(e.writeResults,e.commitTime),r=Zo(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=q8(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>K8(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Ee(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,vv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ee(Y.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,vv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ee(Y.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class OK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ys(n),this.C_=!1):se("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Lc(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ct(l);c.k_.add(4),await Nc(c),c.K_.set("Unknown"),c.k_.delete(4),await eh(c)}(this))})}),this.K_=new OK(r,i)}}async function eh(t){if(Lc(t))for(const e of t.q_)await e(!0)}async function Nc(t){for(const e of t.q_)await e(!1)}function Lc(t){return ct(t).k_.size===0}async function CM(t,e,n){if(!Oc(e))throw e;t.k_.add(1),await Nc(t),t.K_.set("Offline"),n||(n=()=>SK(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await eh(t)})}function AM(t,e){return e().catch(n=>CM(t,n,e))}async function th(t){const e=ct(t),n=Ki(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;NK(e);)try{const i=await TK(e.localStore,r);if(i===null){e.B_.length===0&&n.a_();break}r=i.batchId,LK(e,i)}catch(i){await CM(e,i)}kM(e)&&_M(e)}function NK(t){return Lc(t)&&t.B_.length<10}function LK(t,e){t.B_.push(e);const n=Ki(t);n.s_()&&n.f_&&n.g_(e.mutations)}function kM(t){return Lc(t)&&!Ki(t).i_()&&t.B_.length>0}function _M(t){Ki(t).start()}async function BK(t){Ki(t).w_()}async function VK(t){const e=Ki(t);for(const n of t.B_)e.g_(n.mutations)}async function FK(t,e,n){const r=t.B_.shift(),i=ww.from(r,e,n);await AM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await th(t)}async function $K(t,e){e&&Ki(t).f_&&await async function(r,i){if(function(o){return F8(o)&&o!==Y.ABORTED}(i.code)){const s=r.B_.shift();Ki(r).__(),await AM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await th(r)}}(t,e),kM(t)&&_M(t)}async function eT(t,e){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Lc(n);n.k_.add(3),await Nc(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await eh(n)}async function jK(t,e){const n=ct(t);e?(n.k_.delete(2),await eh(n)):e||(n.k_.add(2),await Nc(n),n.K_.set("Unknown"))}function Ki(t){return t.G_||(t.G_=function(n,r,i){const s=ct(n);return s.b_(),new MK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:BK.bind(null,t),po:$K.bind(null,t),p_:VK.bind(null,t),y_:FK.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await th(t)):(await t.G_.stop(),t.B_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Tw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IM(t,e){if(Ys("AsyncQueue",`${e}: ${t}`),Oc(t))return new Ee(Y.UNAVAILABLE,`${e}: ${t}`);throw t}class zK{constructor(){this.queries=tT(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=ct(n),s=i.queries;i.queries=tT(),s.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new Ee(Y.ABORTED,"Firestore shutting down"))}}function tT(){return new lo(t=>lM(t),aM)}function UK(t){t.X_.forEach(e=>{e.next()})}var nT,rT;(rT=nT||(nT={})).na="default",rT.Cache="cache";class HK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new lo(a=>lM(a),aM),this.Oa=new Map,this.Na=new Set,this.Ba=new Dn(Pe.comparator),this.La=new Map,this.ka=new Ew,this.qa={},this.Qa=new Map,this.Ka=ya.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function WK(t,e,n){const r=YK(t);try{const i=await function(o,a){const l=ct(o),c=jt.now(),u=a.reduce((p,m)=>p.add(m.key),cn());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=zd(),g=cn();return l.hs.getEntries(p,u).next(b=>{m=b,m.forEach((w,A)=>{A.isValidDocument()||(g=g.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(b=>{d=b;const w=[];for(const A of a){const C=N8(A,d.get(A.key).overlayedDocument);C!=null&&w.push(new co(A.key,C,eM(C.value.mapValue),Xr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,w,a)}).next(b=>{h=b;const w=b.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,b.batchId,w)})}).then(()=>({batchId:h.batchId,changes:uM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.qa[o.currentUser.toKey()];c||(c=new Dn(nt)),c=c.insert(a,l),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await nh(r,i.changes),await th(r.remoteStore)}catch(i){const s=IM(i,"Failed to persist write");n.reject(s)}}function iT(t,e,n){const r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ct(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.J_)h.ea(a)&&(c=!0)}),c&&UK(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qK(t,e){const n=ct(t),r=e.batch.batchId;try{const i=await xK(n.localStore,e);MM(n,r,null),RM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nh(n,i)}catch(i){await uw(i)}}async function GK(t,e,n){const r=ct(t);try{const i=await function(o,a){const l=ct(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Ct(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);MM(r,e,n),RM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nh(r,i)}catch(i){await uw(i)}}function RM(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function MM(t,e,n){const r=ct(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}async function nh(t,e,n){const r=ct(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=void 0)===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Sw.zi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(l,c){const u=ct(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>q.forEach(c,h=>q.forEach(h.Wi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>q.forEach(h.Gi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Oc(d))throw d;se("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.us.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.us=u.us.insert(h,g)}}}(r.localStore,s))}async function KK(t,e){const n=ct(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await SM(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(l=>{l.reject(new Ee(Y.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nh(n,r.Ts)}}function YK(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GK.bind(null,e),e}class qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zf(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return EK(this.persistence,new bK,e.initialUser,this.serializer)}ja(e){return new xM(xw.ei,this.serializer)}za(e){return new CK}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qd.provider={build:()=>new qd};class QK extends qd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ct(this.persistence.referenceDelegate instanceof Wd);const r=this.persistence.referenceDelegate.garbageCollector;return new iK(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new xM(r=>Wd.ei(r,n),this.serializer)}}class wv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KK.bind(null,this.syncEngine),await jK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zK}()}createDatastore(e){const n=Zf(e.databaseInfo.databaseId),r=function(s){return new IK(s)}(e.databaseInfo);return function(s,o,a,l){return new DK(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new PK(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>iT(this.syncEngine,n,0),function(){return ZS.p()?new ZS:new AK}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new HK(i,s,o,a,l,c);return u&&(d.$a=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ct(i);se("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Nc(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wv.provider={build:()=>new wv};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=X1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=IM(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xp(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XK(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>eT(e.remoteStore,i)),t._onlineComponents=e}async function XK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await xp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ld("Error using user provided cache. Falling back to memory cache: "+n),await xp(t,new qd)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await xp(t,new QK(void 0));return t._offlineComponents}async function ZK(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await sT(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await sT(t,new wv))),t._onlineComponents}function eY(t){return ZK(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(t,e,n){if(!n)throw new Ee(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nY(t,e,n,r){if(e===!0&&r===!0)throw new Ee(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aT(t){if(!Pe.isDocumentKey(t))throw new Ee(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le()}function Ev(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cw(t);throw new Ee(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ee(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ee(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Aw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new F7;switch(r.type){case"firstParty":return new U7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=oT.get(n);r&&(se("ComponentProvider","Removing Datastore"),oT.delete(n),r.terminate())}(this),Promise.resolve()}}function rY(t,e,n,r={}){var i;const s=(t=Ev(t,Aw))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ld("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ln.MOCK_USER;else{a=zI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ee(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ln(c)}t._authCredentials=new $7(new J1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kw(this.firestore,e,this._query)}}class Zr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zr(this.firestore,e,this._key)}}class rc extends kw{constructor(e,n,r){super(e,n,b8(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zr(this.firestore,null,new Pe(e))}withConverter(e){return new rc(this.firestore,e,this._path)}}function dse(t,e,...n){if(t=Mn(t),arguments.length===1&&(e=X1.newId()),tY("doc","path",e),t instanceof Aw){const r=Mt.fromString(e,...n);return aT(r),new Zr(t,null,new Pe(r))}{if(!(t instanceof Zr||t instanceof rc))throw new Ee(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return aT(r),new Zr(t.firestore,t instanceof rc?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new TM(this,"async_queue_retry"),this.fu=()=>{const r=Ep();r&&se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Os;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Oc(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ys("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Tw.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.Eu.push(i),i}pu(){this.Au&&Le()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class OM extends Aw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cT(e),this._firestoreClient=void 0,await e}}}function fse(t,e){const n=typeof t=="object"?t:Ab(),r=typeof t=="string"?t:"(default)",i=Vf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=FI("firestore");s&&rY(i,...s)}return i}function iY(t){if(t._terminated)throw new Ee(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sY(t),t._firestoreClient}function sY(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new s8(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,DM(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new JK(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(Ir.fromBase64String(e))}catch(n){throw new Ee(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ic(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY=/^__.*__$/;class aY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pc(e,this.data,n,this.fieldTransforms)}}function VM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class _w{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new _w(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Gd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(VM(this.Mu)&&oY.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class lY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zf(e)}$u(e,n,r,i=!1){return new _w({Mu:e,methodName:n,Ku:r,path:en.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cY(t){const e=t._freezeSettings(),n=Zf(t._databaseId);return new lY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uY(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);zM("Data must be an object, but it was:",o,r);const a=$M(r,o);let l,c;if(s.merge)l=new or(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=dY(e,d,n);if(!o.contains(h))throw new Ee(Y.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);pY(u,h)||u.push(h)}l=new or(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new aY(new rr(a),l,c)}function FM(t,e){if(jM(t=Mn(t)))return zM("Unsupported field value:",e,t),$M(t,e);if(t instanceof NM)return function(r,i){if(!VM(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=FM(a,i.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Mn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return I8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=jt.fromDate(r);return{timestampValue:yv(i.serializer,s)}}if(r instanceof jt){const s=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yv(i.serializer,s)}}if(r instanceof LM)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ic)return{bytesValue:z8(i.serializer,r._byteString)};if(r instanceof Zr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wM(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof BM)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return bw(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Cw(r)}`)}(t,e)}function $M(t,e){const n={};return Z1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(t,(r,i)=>{const s=FM(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof LM||t instanceof ic||t instanceof Zr||t instanceof NM||t instanceof BM)}function zM(t,e,n){if(!jM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Cw(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function dY(t,e,n){if((e=Mn(e))instanceof PM)return e._internalPath;if(typeof e=="string")return hY(t,e);throw Gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const fY=new RegExp("[~\\*/\\[\\]]");function hY(t,e,n){if(e.search(fY)>=0)throw Gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new PM(...e.split("."))._internalPath}catch{throw Gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ee(Y.INVALID_ARGUMENT,a+t+l)}function pY(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function hse(t,e,n){t=Ev(t,Zr);const r=Ev(t.firestore,OM),i=mY(t.converter,e);return gY(r,[uY(cY(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xr.none())])}function gY(t,e){return function(r,i){const s=new Os;return r.asyncQueue.enqueueAndForget(async()=>WK(await eY(r),i,s)),s.promise}(iY(t),e)}(function(e,n=!0){(function(i){Da=i})(no),Us(new Ui("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new OM(new j7(r.getProvider("auth-internal")),new W7(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ee(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Tr(NS,"4.7.6",e),Tr(NS,"4.7.6","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="firebasestorage.googleapis.com",yY="storageBucket",vY=2*60*1e3,bY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Nr{constructor(e,n,r=0){super(Sp(e),`Firebase Storage: ${n} (${Sp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mr||(Mr={}));function Sp(t){return"storage/"+t}function wY(){const t="An unknown error occurred, please check the error payload for server response.";return new Lr(Mr.UNKNOWN,t)}function EY(){return new Lr(Mr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xY(){return new Lr(Mr.CANCELED,"User canceled the upload/download.")}function SY(t){return new Lr(Mr.INVALID_URL,"Invalid URL '"+t+"'.")}function TY(t){return new Lr(Mr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uT(t){return new Lr(Mr.INVALID_ARGUMENT,t)}function HM(){return new Lr(Mr.APP_DELETED,"The Firebase app was deleted.")}function CY(t){return new Lr(Mr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ar.makeFromUrl(e,n)}catch{return new ar(e,"")}if(r.path==="")return r;throw TY(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=n===UM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",w=new RegExp(`^https?://${g}/${i}/${b}`,"i"),C=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<C.length;I++){const P=C[I],O=P.regex.exec(e);if(O){const S=O[P.indices.bucket];let x=O[P.indices.path];x||(x=""),r=new ar(S,x),P.postModify(r);break}}if(r==null)throw SY(e);return r}}class AY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...b){c||(c=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function h(){s&&clearTimeout(s)}function p(b,...w){if(c){h();return}if(b){h(),u.call(null,b,...w);return}if(l()||o){h(),u.call(null,b,...w);return}r<64&&(r*=2);let C;a===1?(a=2,C=0):C=(r+Math.random())*1e3,d(C)}let m=!1;function g(b){m||(m=!0,h(),!c&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function _Y(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IY(t){return t!==void 0}function dT(t,e,n,r){if(r<e)throw uT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw uT(`Invalid value for '${t}'. Expected ${n} or less.`)}function RY(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Kd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Kd||(Kd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MY(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e,n,r,i,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Mu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Kd.NO_ERROR,l=s.getStatus();if(!a||MY(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Kd.ABORT;r(!1,new Mu(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Mu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());IY(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=wY();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?HM():xY();o(l)}else{const l=EY();o(l)}};this.canceled_?n(!1,new Mu(!1,null,!0)):this.backoffId_=kY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_Y(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function OY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function PY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function LY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BY(t,e,n,r,i,s,o=!0){const a=RY(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return NY(c,e),OY(c,n),PY(c,s),LY(c,r),new DY(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this._service=e,n instanceof ar?this._location=n:this._location=ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yd(e,n)}get root(){const e=new ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FY(this._location.path)}get storage(){return this._service}get parent(){const e=VY(this._location.path);if(e===null)return null;const n=new ar(this._location.bucket,e);return new Yd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CY(e)}}function fT(t,e){const n=e==null?void 0:e[yY];return n==null?null:ar.makeFromBucketSpec(n,t)}function $Y(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:zI(i,t.app.options.projectId))}class jY{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=UM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vY,this._maxUploadRetryTime=bY,this._requests=new Set,i!=null?this._bucket=ar.makeFromBucketSpec(i,this._host):this._bucket=fT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ar.makeFromBucketSpec(this._url,e):this._bucket=fT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new AY(HM());{const o=BY(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const hT="@firebase/storage",pT="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="storage";function pse(t=Ab(),e){t=Mn(t);const r=Vf(t,WM).getImmediate({identifier:e}),i=FI("storage");return i&&zY(r,...i),r}function zY(t,e,n,r={}){$Y(t,e,n,r)}function UY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new jY(n,r,i,e,no)}function HY(){Us(new Ui(WM,UY,"PUBLIC").setMultipleInstances(!0)),Tr(hT,pT,""),Tr(hT,pT,"esm2017")}HY();function Gt(t){this.content=t}Gt.prototype={constructor:Gt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Gt(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Gt(n)},addToStart:function(t,e){return new Gt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Gt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Gt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Gt.from(t),t.size?new Gt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Gt.from(t),t.size?new Gt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Gt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Gt.from=function(t){if(t instanceof Gt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Gt(e)};function qM(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=qM(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function GM(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=GM(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class K{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new K(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new K(r,i)}cutByIndex(e,n){return e==n?K.empty:e==0&&n==this.content.length?this:new K(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new K(i,s)}addToStart(e){return new K([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new K(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return qM(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return GM(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Du(0,e);if(e==this.size)return Du(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?Du(r+1,o):Du(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return K.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return K.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new K(n||e,r)}static from(e){if(!e)return K.empty;if(e instanceof K)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new K([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}K.empty=new K([],0);const Tp={index:0,offset:0};function Du(t,e){return Tp.index=t,Tp.offset=e,Tp}function Qd(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Qd(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Qd(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let at=class xv{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Qd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return xv.none;if(e instanceof xv)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};at.none=[];class Jd extends Error{}class ee{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=YM(this.content,e+this.openStart,n);return r&&new ee(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ee(KM(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ee.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ee(K.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new ee(e,r,i)}}ee.empty=new ee(K.empty,0,0);function KM(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(KM(s.content,e-i-1,n-i-1)))}function YM(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=YM(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function WY(t,e,n){if(n.openStart>t.depth)throw new Jd("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Jd("Inconsistent open depths");return QM(t,e,n,0)}function QM(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=QM(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Ls(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=qY(n,t);return Ls(s,XM(t,o,a,e,r))}else return Ls(s,Xd(t,e,r))}function JM(t,e){if(!e.type.compatibleContent(t.type))throw new Jd("Cannot join "+e.type.name+" onto "+t.type.name)}function Sv(t,e,n){let r=t.node(n);return JM(r,e.node(n)),r}function Ns(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ll(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Ns(t.nodeAfter,r),s++));for(let a=s;a<o;a++)Ns(i.child(a),r);e&&e.depth==n&&e.textOffset&&Ns(e.nodeBefore,r)}function Ls(t,e){return t.type.checkContent(e),t.copy(e)}function XM(t,e,n,r,i){let s=t.depth>i&&Sv(t,e,i+1),o=r.depth>i&&Sv(n,r,i+1),a=[];return Ll(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(JM(s,o),Ns(Ls(s,XM(t,e,n,r,i+1)),a)):(s&&Ns(Ls(s,Xd(t,e,i+1)),a),Ll(e,n,i,a),o&&Ns(Ls(o,Xd(n,r,i+1)),a)),Ll(r,null,i,a),new K(a)}function Xd(t,e,n){let r=[];if(Ll(null,t,n,r),t.depth>n){let i=Sv(t,e,n+1);Ns(Ls(i,Xd(t,e,n+1)),r)}return Ll(e,null,n,r),new K(r)}function qY(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(K.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class sc{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return at.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Zd(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new sc(n,r,s)}static resolveCached(e,n){let r=mT.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else mT.set(e,r=new GY);let i=r.elts[r.i]=sc.resolve(e,n);return r.i=(r.i+1)%KY,i}}class GY{constructor(){this.elts=[],this.i=0}}const KY=12,mT=new WeakMap;class Zd{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const YY=Object.create(null);let Li=class Tv{constructor(e,n,r,i=at.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||K.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Qd(this.attrs,n||e.defaultAttrs||YY)&&at.sameSet(this.marks,r||at.none)}copy(e=null){return e==this.content?this:new Tv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Tv(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ee.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new ee(c,i.depth-o,s.depth-o)}replace(e,n,r){return WY(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return sc.resolveCached(this,e)}resolveNoCache(e){return sc.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ZM(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=K.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=at.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!at.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=K.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Li.prototype.text=void 0;class ef extends Li{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ZM(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ef(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ef(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function ZM(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Xs{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new QY(e,n);if(r.next==null)return Xs.empty;let i=eD(r);r.next&&r.err("Unexpected trailing text");let s=rQ(nQ(i));return iQ(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return K.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=s(d,a.concat(u));if(h)return h}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Xs.empty=new Xs(!0);class QY{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function eD(t){let e=[];do e.push(JY(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function JY(t){let e=[];do e.push(XY(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function XY(t){let e=tQ(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=ZY(t,e);else break;return e}function gT(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function ZY(t,e){let n=gT(t),r=n;return t.eat(",")&&(t.next!="}"?r=gT(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function eQ(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function tQ(t){if(t.eat("(")){let e=eD(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=eQ(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function nQ(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function tD(t,e){return e-t}function yT(t,e){let n=[];return r(e),n.sort(tD);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function rQ(t){let e=Object.create(null);return n(yT(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);yT(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new Xs(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(tD);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function iQ(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function nD(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function rD(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function iD(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function sD(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new oQ(t,r,e[r]);return n}let vT=class oD{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=sD(e,r.attrs),this.defaultAttrs=nD(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:rD(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Li(this,this.computeAttrs(e),K.from(n),at.setFrom(r))}createChecked(e=null,n,r){return n=K.from(n),this.checkContent(n),new Li(this,this.computeAttrs(e),n,at.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=K.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(K.empty,!0);return s?new Li(this,e,n.append(s),at.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){iD(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:at.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new oD(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function sQ(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class oQ{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?sQ(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class rh{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=sD(e,i.attrs),this.excluded=null;let s=nD(this.attrs);this.instance=s?new at(this,s):null}create(e=null){return!e&&this.instance?this.instance:new at(this,rD(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new rh(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){iD(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class aD{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Gt.from(e.nodes),n.marks=Gt.from(e.marks||{}),this.nodes=vT.compile(this.spec.nodes,this),this.marks=rh.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Xs.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?bT(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:bT(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof vT){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new ef(r,r.defaultAttrs,e,at.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Li.fromJSON(this,e)}markFromJSON(e){return at.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function bT(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function aQ(t){return t.tag!=null}function lQ(t){return t.style!=null}class Bi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(aQ(i))this.tags.push(i);else if(lQ(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new ET(this,n,!1);return r.addAll(e,at.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new ET(this,n,!0);return r.addAll(e,at.none,n.from,n.to),ee.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(dQ(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=xT(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=xT(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Bi(e,Bi.schemaRules(e)))}}const lD={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},cQ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},cD={ol:!0,ul:!0},oc=1,Cv=2,rd=4;function wT(t,e,n){return e!=null?(e?oc:0)|(e==="full"?Cv:0):t&&t.whitespace=="pre"?oc|Cv:n&-5}class Ou{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=at.none,this.match=s||(o&rd?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(K.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&oc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=K.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!lD.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ET{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=wT(null,n.preserveWhitespace,0)|(r?rd:0);i?s=new Ou(i.type,i.attrs,at.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Ou(null,null,at.none,!0,null,o):s=new Ou(e.schema.topNodeType,null,at.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Cv?"full":this.localPreserveWS||(i.options&oc)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;cD.hasOwnProperty(o)&&this.parser.normalizeLists&&uQ(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:cQ.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(lD.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=o,!a.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=at.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):ST(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=wT(e,s,o.options);o.options&rd&&o.content.length==0&&(a|=rd);let l=at.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):ST(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Ou(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=oc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function uQ(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&cD.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function dQ(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function xT(t){let e={};for(let n in t)e[n]=t[n];return e}function ST(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class uo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Cp(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=id(Cp(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&id(Cp(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return id(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new uo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=TT(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return TT(e.marks)}}function TT(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Cp(t){return t.document||window.document}const CT=new WeakMap;function fQ(t){let e=CT.get(t);return e===void 0&&CT.set(t,e=hQ(t)),e}function hQ(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function id(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=fQ(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=id(t,h,n,r);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const uD=65535,dD=Math.pow(2,16);function pQ(t,e){return t+e*dD}function AT(t){return t&uD}function mQ(t){return(t-(t&uD))/dD}const fD=1,hD=2,sd=4,pD=8;class Av{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&pD)>0}get deletedBefore(){return(this.delInfo&(fD|sd))>0}get deletedAfter(){return(this.delInfo&(hD|sd))>0}get deletedAcross(){return(this.delInfo&sd)>0}}class Ln{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ln.empty)return Ln.empty}recover(e){let n=0,r=AT(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+mQ(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(e<=d){let h=c?e==l?-1:e==d?1:n:n,p=l+i+(h<0?0:u);if(r)return p;let m=e==(n<0?l:d)?null:pQ(a/3,e-l),g=e==l?hD:e==d?fD:sd;return(n<0?e!=l:e!=d)&&(g|=pD),new Av(p,g,m)}i+=u-c}return r?e+i:new Av(e+i,0,null)}touches(e,n){let r=0,i=AT(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new Ln(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ln.empty:new Ln(e<0?[0,-e,0]:[0,0,e])}}Ln.empty=new Ln([]);class ea{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new ea(this.maps,this.mirror,e,n)}copy(){return new ea(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ea;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Av(e,i,null)}}const Ap=Object.create(null);class gn{getMap(){return Ln.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ap[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ap)throw new RangeError("Duplicate use of step JSON ID "+e);return Ap[e]=n,n.prototype.jsonID=e,n}}class Dt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Dt(e,null)}static fail(e){return new Dt(null,e)}static fromReplace(e,n,r,i){try{return Dt.ok(e.replace(n,r,i))}catch(s){if(s instanceof Jd)return Dt.fail(s.message);throw s}}}function Iw(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Iw(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return K.fromArray(r)}class Ii extends gn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ee(Iw(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Dt.fromReplace(e,this.from,this.to,s)}invert(){return new wr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ii(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ii&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ii(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ii(n.from,n.to,e.markFromJSON(n.mark))}}gn.jsonID("addMark",Ii);class wr extends gn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ee(Iw(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Dt.fromReplace(e,this.from,this.to,r)}invert(){return new Ii(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new wr(n.pos,r.pos,this.mark)}merge(e){return e instanceof wr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new wr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new wr(n.from,n.to,e.markFromJSON(n.mark))}}gn.jsonID("removeMark",wr);class Ri extends gn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Dt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Dt.fromReplace(e,this.pos,this.pos+1,new ee(K.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ri(this.pos,n.marks[i]);return new Ri(this.pos,this.mark)}}return new va(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ri(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ri(n.pos,e.markFromJSON(n.mark))}}gn.jsonID("addNodeMark",Ri);class va extends gn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Dt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Dt.fromReplace(e,this.pos,this.pos+1,new ee(K.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ri(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new va(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new va(n.pos,e.markFromJSON(n.mark))}}gn.jsonID("removeNodeMark",va);class Vt extends gn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&kv(e,this.from,this.to)?Dt.fail("Structure replace would overwrite content"):Dt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ln([this.from,this.to-this.from,this.slice.size])}invert(e){return new Vt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Vt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Vt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ee.empty:new ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Vt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ee.empty:new ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Vt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Vt(n.from,n.to,ee.fromJSON(e,n.slice),!!n.structure)}}gn.jsonID("replace",Vt);class zt extends gn{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(kv(e,this.from,this.gapFrom)||kv(e,this.gapTo,this.to)))return Dt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Dt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Dt.fromReplace(e,this.from,this.to,r):Dt.fail("Content does not fit in gap")}getMap(){return new Ln([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new zt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new zt(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new zt(n.from,n.to,n.gapFrom,n.gapTo,ee.fromJSON(e,n.slice),n.insert,!!n.structure)}}gn.jsonID("replaceAround",zt);function kv(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function gQ(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,e),p=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(o&&o.to==h&&o.mark.eq(d[g])?o.to=p:i.push(o=new wr(h,p,d[g])));a&&a.to==h?a.to=p:s.push(a=new Ii(h,p,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function yQ(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof rh){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],h;for(let p=0;p<i.length;p++){let m=i[p];m.step==s-1&&d.eq(i[p].style)&&(h=m)}h?(h.to=c,h.step=s):i.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new wr(o.from,o.to,o.style)))}function Rw(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new Vt(a,u,ee.empty));else{r=d;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||t.step(new wr(a,u,c.marks[h]));if(i&&c.isText&&n.whitespace!="pre"){let h,p=/\r?\n|\r/g,m;for(;h=p.exec(c.text);)m||(m=new ee(K.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new Vt(a+h.index,a+h.index+h[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(K.empty,!0);t.replace(a,a,new ee(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function vQ(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Pa(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!vQ(i,s,o))break}return null}function bQ(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=K.empty,d=0;for(let m=s,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=K.from(r.node(m).copy(u)),d++):l--;let h=K.empty,p=0;for(let m=s,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,h=K.from(i.node(m).copy(h)),p++):c++;t.step(new zt(l,c,o,a,new ee(u.append(h),d,p),u.size-d,!0))}function Mw(t,e,n=null,r=t){let i=wQ(t,e),s=i&&EQ(r,e);return s?i.map(kT).concat({type:e,attrs:n}).concat(s.map(kT)):null}function kT(t){return{type:t,attrs:null}}function wQ(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function EQ(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function xQ(t,e,n){let r=K.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=K.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new zt(i,s,i,s,new ee(r,0,0),n.length,!0))}function SQ(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&TQ(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&gD(t,o,a,s),Rw(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let u=t.mapping.slice(s),d=u.map(a,1),h=u.map(a+o.nodeSize,1);return t.step(new zt(d,h,d+1,h-1,new ee(K.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&mD(t,o,a,s),!1}})}function mD(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function gD(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function TQ(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function CQ(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new zt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ee(K.from(o),0,0),1,!0))}function ta(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let d=i.node(c),h=i.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(h,d.childCount),m=r&&r[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function AQ(t,e,n=1,r){let i=t.doc.resolve(e),s=K.empty,o=K.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=K.from(i.node(a).copy(s));let u=r&&r[c];o=K.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new Vt(e,e,new ee(s.append(o),n,n),!0))}function is(t,e){let n=t.resolve(e),r=n.index();return yD(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function kQ(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function yD(t,e){return!!(t&&e&&!t.isLeaf&&kQ(t,e))}function ih(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&yD(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function _Q(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);gD(t,u.node(),u.before(),a)}o.inlineContent&&Rw(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new Vt(c,l.map(e+n,-1),ee.empty,!0)),r===!0){let u=t.doc.resolve(c);mD(t,u.node(),u.before(),t.steps.length)}return t}function IQ(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function vD(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function sh(t,e,n=e,r=ee.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return bD(i,s,r)?new Vt(e,n,r):new RQ(i,s,r).fit()}function bD(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class RQ{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=K.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=K.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new ee(s,o,a);return e>-1?new zt(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Vt(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=kp(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(K.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=kp(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ee(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=kp(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new ee(ml(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new ee(ml(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:h}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),b=d.matchType(g.type);if(!b)break;c++,(c>1||l==0||g.content.size)&&(d=b,u.push(wD(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=gl(this.placed,n,K.from(u)),this.frontier[n].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,b=a;g<p;g++){let w=b.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),b=w.content}this.unplaced=m?e==0?ee.empty:new ee(ml(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new ee(ml(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!_p(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=_p(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=_p(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=gl(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=gl(this.placed,this.depth,K.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(K.empty,!0);n.childCount&&(this.placed=gl(this.placed,this.frontier.length,n))}}function ml(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ml(t.firstChild.content,e-1,n)))}function gl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(gl(t.lastChild.content,e-1,n)))}function kp(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function wD(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,wD(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(K.empty,!0)))),t.copy(r)}function _p(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!MQ(n,s.content,o)?a:null}function MQ(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function DQ(t){return t.spec.defining||t.spec.definingForContent}function OQ(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(bD(i,s,r))return t.step(new Vt(e,n,r));let o=xD(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,p=i.pos-1;h>0;h--,p--){let m=i.node(h).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==p&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=r.openStart;for(let h=r.content,p=0;;p++){let m=h.firstChild;if(c.push(m),p==r.openStart)break;h=m.content}for(let h=u-1;h>=0;h--){let p=c[h],m=DQ(p.type);if(m&&!p.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(m||!p.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let p=(h+u+1)%(r.openStart+1),m=c[p];if(m)for(let g=0;g<o.length;g++){let b=o[(g+l)%o.length],w=!0;b<0&&(w=!1,b=-b);let A=i.node(b-1),C=i.index(b-1);if(A.canReplaceWith(C,C,m.type,m.marks))return t.replace(i.before(b),w?s.after(b):n,new ee(ED(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,n,r),!(t.steps.length>d));h--){let p=o[h];p<0||(e=i.before(p),n=s.after(p))}}function ED(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(ED(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(K.empty,!0))}return t}function PQ(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=IQ(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ee(K.from(r),0,0))}function NQ(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=xD(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function xD(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class na extends gn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Dt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Dt.fromReplace(e,this.pos,this.pos+1,new ee(K.from(i),0,n.isLeaf?0:1))}getMap(){return Ln.empty}invert(e){return new na(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new na(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new na(n.pos,n.attr,n.value)}}gn.jsonID("attr",na);class ac extends gn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Dt.ok(r)}getMap(){return Ln.empty}invert(e){return new ac(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ac(n.attr,n.value)}}gn.jsonID("docAttr",ac);let ba=class extends Error{};ba=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ba.prototype=Object.create(Error.prototype);ba.prototype.constructor=ba;ba.prototype.name="TransformError";class LQ{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ea}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ba(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ee.empty){let i=sh(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new ee(K.from(r),0,0))}delete(e,n){return this.replace(e,n,ee.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return OQ(this,e,n,r),this}replaceRangeWith(e,n,r){return PQ(this,e,n,r),this}deleteRange(e,n){return NQ(this,e,n),this}lift(e,n){return bQ(this,e,n),this}join(e,n=1){return _Q(this,e,n),this}wrap(e,n){return xQ(this,e,n),this}setBlockType(e,n=e,r,i=null){return SQ(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return CQ(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new na(e,n,r)),this}setDocAttribute(e,n){return this.step(new ac(e,n)),this}addNodeMark(e,n){return this.step(new Ri(e,n)),this}removeNodeMark(e,n){if(!(n instanceof at)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new va(e,n)),this}split(e,n=1,r){return AQ(this,e,n,r),this}addMark(e,n,r){return gQ(this,e,n,r),this}removeMark(e,n,r){return yQ(this,e,n,r),this}clearIncompatible(e,n,r){return Rw(this,e,n,r),this}}const Ip=Object.create(null);class ke{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new BQ(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ee.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?ee.empty:n),a==0&&RT(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),RT(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Se(e):$o(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?$o(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):$o(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Kn(e.node(0))}static atStart(e){return $o(e,e,0,0,1)||new Kn(e)}static atEnd(e){return $o(e,e,e.content.size,e.childCount,-1)||new Kn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ip[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ip)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ip[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Se.between(this.$anchor,this.$head).getBookmark()}}ke.prototype.visible=!0;class BQ{constructor(e,n){this.$from=e,this.$to=n}}let _T=!1;function IT(t){!_T&&!t.parent.inlineContent&&(_T=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Se extends ke{constructor(e,n=e){IT(e),IT(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ke.near(r);let i=e.resolve(n.map(this.anchor));return new Se(i.parent.inlineContent?i:r,r)}replace(e,n=ee.empty){if(super.replace(e,n),n==ee.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Se&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new oh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Se(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=ke.findFrom(n,r,!0)||ke.findFrom(n,-r,!0);if(s)n=s.$head;else return ke.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(ke.findFrom(e,-r,!0)||ke.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Se(e,n)}}ke.jsonID("text",Se);class oh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new oh(e.map(this.anchor),e.map(this.head))}resolve(e){return Se.between(e.resolve(this.anchor),e.resolve(this.head))}}class ye extends ke{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?ke.near(s):new ye(s)}content(){return new ee(K.from(this.node),0,0)}eq(e){return e instanceof ye&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Dw(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ye(e.resolve(n.anchor))}static create(e,n){return new ye(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ye.prototype.visible=!1;ke.jsonID("node",ye);class Dw{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new oh(r,r):new Dw(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ye.isSelectable(r)?new ye(n):ke.near(n)}}class Kn extends ke{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ee.empty){if(n==ee.empty){e.delete(0,e.doc.content.size);let r=ke.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Kn(e)}map(e){return new Kn(e)}eq(e){return e instanceof Kn}getBookmark(){return VQ}}ke.jsonID("all",Kn);const VQ={map(){return this},resolve(t){return new Kn(t)}};function $o(t,e,n,r,i,s=!1){if(e.inlineContent)return Se.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&ye.isSelectable(a))return ye.create(t,n-(i<0?a.nodeSize:0))}else{let l=$o(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function RT(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Vt||i instanceof zt))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(ke.near(t.doc.resolve(o),n))}const MT=1,DT=2,OT=4;class FQ extends LQ{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|MT)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&MT)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=DT,this}ensureMarks(e){return at.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&DT)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||at.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(ke.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=OT,this}get scrolledIntoView(){return(this.updated&OT)>0}}function PT(t,e){return!e||!t?t:t.bind(e)}class yl{constructor(e,n,r){this.name=e,this.init=PT(n.init,r),this.apply=PT(n.apply,r)}}const $Q=[new yl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new yl("selection",{init(t,e){return t.selection||ke.atStart(e.doc)},apply(t){return t.selection}}),new yl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new yl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Rp{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=$Q.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new yl(r.key,r.spec.state,r))})}}class Ho{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ho(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new FQ(this)}static create(e){let n=new Rp(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ho(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Rp(this.schema,e.plugins),r=n.fields,i=new Ho(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Rp(e.schema,e.plugins),s=new Ho(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Li.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=ke.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function SD(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=SD(i,e,{})),n[r]=i}return n}class On{constructor(e){this.spec=e,this.props={},e.props&&SD(e.props,this,this.props),this.key=e.key?e.key.key:TD("plugin")}getState(e){return e[this.key]}}const Mp=Object.create(null);function TD(t){return t in Mp?t+"$"+ ++Mp[t]:(Mp[t]=0,t+"$")}class Br{constructor(e="key"){this.key=TD(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Jt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},lc=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let _v=null;const Wr=function(t,e,n){let r=_v||(_v=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},jQ=function(){_v=null},Zs=function(t,e,n,r){return n&&(NT(t,e,n,r,-1)||NT(t,e,n,r,1))},zQ=/^(img|br|input|textarea|hr)$/i;function NT(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Wn(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Bc(t)||zQ.test(t.nodeName)||t.contentEditable=="false")return!1;e=Jt(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Wn(t):0}else return!1}}function Wn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function UQ(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Wn(t)}else if(t.parentNode&&!Bc(t))e=Jt(t),t=t.parentNode;else return null}}function HQ(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Bc(t))e=Jt(t)+1,t=t.parentNode;else return null}}function WQ(t,e,n){for(let r=e==0,i=e==Wn(t);r||i;){if(t==n)return!0;let s=Jt(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Wn(t)}}function Bc(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const ah=function(t){return t.focusNode&&Zs(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function bs(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function qQ(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function GQ(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Wn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Wn(r.startContainer),r.startOffset)}}}const Dr=typeof navigator<"u"?navigator:null,LT=typeof document<"u"?document:null,ss=Dr&&Dr.userAgent||"",Iv=/Edge\/(\d+)/.exec(ss),CD=/MSIE \d/.exec(ss),Rv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ss),In=!!(CD||Rv||Iv),Vi=CD?document.documentMode:Rv?+Rv[1]:Iv?+Iv[1]:0,fr=!In&&/gecko\/(\d+)/i.test(ss);fr&&+(/Firefox\/(\d+)/.exec(ss)||[0,0])[1];const Mv=!In&&/Chrome\/(\d+)/.exec(ss),dn=!!Mv,AD=Mv?+Mv[1]:0,wn=!In&&!!Dr&&/Apple Computer/.test(Dr.vendor),wa=wn&&(/Mobile\/\w+/.test(ss)||!!Dr&&Dr.maxTouchPoints>2),Un=wa||(Dr?/Mac/.test(Dr.platform):!1),KQ=Dr?/Win/.test(Dr.platform):!1,Yr=/Android \d/.test(ss),Vc=!!LT&&"webkitFontSmoothing"in LT.documentElement.style,YQ=Vc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function QQ(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ur(t,e){return typeof t=="number"?t:t[e]}function JQ(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function BT(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=lc(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?QQ(s):JQ(a),u=0,d=0;if(e.top<c.top+Ur(r,"top")?d=-(c.top-e.top+Ur(i,"top")):e.bottom>c.bottom-Ur(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Ur(i,"top")-c.top:e.bottom-c.bottom+Ur(i,"bottom")),e.left<c.left+Ur(r,"left")?u=-(c.left-e.left+Ur(i,"left")):e.right>c.right-Ur(r,"right")&&(u=e.right-c.right+Ur(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-h,g=a.scrollTop-p;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function XQ(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:kD(t.dom)}}function kD(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=lc(r));return e}function ZQ({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;_D(n,r==0?0:r-e)}function _D(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Mo=null;function eJ(t){if(t.setActive)return t.setActive();if(Mo)return t.focus(Mo);let e=kD(t);t.focus(Mo==null?{get preventScroll(){return Mo={preventScroll:!0},!0}}:void 0),Mo||(Mo=!1,_D(e,0))}function ID(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=Wr(u).getClientRects();else continue;for(let p=0;p<h.length;p++){let m=h[p];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(s=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?tJ(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:ID(n,i)}function tJ(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=gi(r,1);if(s.top!=s.bottom&&Ow(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function Ow(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function nJ(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function rJ(t,e,n){let{node:r,offset:i}=ID(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function iJ(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function RD(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Ow(e,c))return RD(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function sJ(t,e){let n=t.dom.ownerDocument,r,i=0,s=GQ(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!Ow(e,c)||(o=RD(t.dom,e,c),!o))return null}if(wn)for(let c=o;r&&c;c=lc(c))c.draggable&&(r=void 0);if(o=nJ(o,e),r){if(fr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;Vc&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=iJ(t,r,i,e))}a==null&&(a=rJ(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function VT(t){return t.top<t.bottom||t.left<t.right}function gi(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(VT(r))return r}return Array.prototype.find.call(n,VT)||t.getBoundingClientRect()}const oJ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function MD(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Vc||fr;if(r.nodeType==3)if(o&&(oJ.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=gi(Wr(r,i,i),n);if(fr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=gi(Wr(r,i-1,i-1),-1);if(c.top==l.top){let u=gi(Wr(r,i,i+1),-1);if(u.top!=l.top)return cl(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,cl(gi(Wr(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Wn(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return Dp(l.getBoundingClientRect(),!1)}if(s==null&&i<Wn(r)){let l=r.childNodes[i];if(l.nodeType==1)return Dp(l.getBoundingClientRect(),!0)}return Dp(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Wn(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Wr(l,Wn(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return cl(gi(c,1),!1)}if(s==null&&i<Wn(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Wr(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return cl(gi(c,-1),!0)}return cl(gi(r.nodeType==3?Wr(r):r,-n),n>=0)}function cl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Dp(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function DD(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function aJ(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return DD(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=MD(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Wr(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const lJ=/[\u0590-\u08ac]/;function cJ(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!lJ.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:DD(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),b=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),b}):r.pos==r.start()||r.pos==r.end()}let FT=null,$T=null,jT=!1;function uJ(t,e,n){return FT==e&&$T==n?jT:(FT=e,$T=n,jT=n=="up"||n=="down"?aJ(t,e,n):cJ(t,e,n))}const Yn=0,zT=1,As=2,Or=3;class Fc{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Yn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Jt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof PD){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof OD&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Jt(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Jt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=Jt(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Jt(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let p=0,m=0;p<this.children.length;p++){let g=this.children[p],b=m+g.size;if(s>m&&o<b)return g.setSelection(e-m-g.border,n-m-g.border,r,i);m=b}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((fr||wn)&&e==n){let{node:p,offset:m}=a;if(p.nodeType==3){if(d=!!(m&&p.nodeValue[m-1]==`
`),d&&m==p.nodeValue.length)for(let g=p,b;g;g=g.parentNode){if(b=g.nextSibling){b.nodeName=="BR"&&(a=l={node:b.parentNode,offset:Jt(b)+1});break}let w=g.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let g=p.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(fr&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||d&&wn)&&Zs(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Zs(l.node,l.offset,u.focusNode,u.focusOffset))return;let h=!1;if((c.extend||e==n)&&!d){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(e>n){let m=a;a=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?As:zT,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Or:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?As:Or}r=o}this.dirty=As}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?As:zT;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class OD extends Fc{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Yn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class dJ extends Fc{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class eo extends Fc{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=uo.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new eo(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Or||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Or&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Yn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Yn}}slice(e,n,r){let i=eo.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=Ov(s,n,o,r)),e>0&&(s=Ov(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Fi extends Fc{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=uo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let h=u;return u=BD(u,r,n),c?l=new fJ(e,n,r,i,u,d||null,h,c,s,o+1):n.isText?new lh(e,n,r,i,u,h,s):new Fi(e,n,r,i,u,d||null,h,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>K.empty)}return e}matchesNode(e,n,r){return this.dirty==Yn&&e.eq(this.node)&&tf(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new pJ(this,o&&o.node,e);yJ(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?at.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,h)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,d,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,h,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==As)&&(o&&this.protectLocalComposition(e,o),ND(this.contentDOM,this.children,e),wa&&vJ(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Se)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=bJ(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new dJ(this,s,n,i);e.input.compositionNodes.push(o),this.children=Ov(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Or||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Yn}updateOuterDeco(e){if(tf(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=LD(this.dom,this.nodeDOM,Dv(this.outerDeco,this.node,n),Dv(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function UT(t,e,n,r,i){BD(r,e,t);let s=new Fi(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class lh extends Fi{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Or||this.dirty!=Yn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Yn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Yn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new lh(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Or)}get domAtom(){return!1}isText(e){return this.node.text==e}}class PD extends Fc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Yn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class fJ extends Fi{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==Or)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function ND(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=HT(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof eo){let l=r?r.previousSibling:t.lastChild;ND(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=HT(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Bl=function(t){t&&(this.nodeName=t)};Bl.prototype=Object.create(null);const ks=[new Bl];function Dv(t,e,n){if(t.length==0)return ks;let r=n?ks[0]:new Bl,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new Bl(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Bl(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function LD(t,e,n,r){if(n==ks&&r==ks)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=ks[0]),i=l}hJ(i,a||ks[0],o)}return i}function hJ(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function BD(t,e,n){return LD(t,t,ks,Dv(e,n,t.nodeType!=1))}function tf(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function HT(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class pJ{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=mJ(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Yn,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=eo.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Or&&o.dom==o.contentDOM&&(o.dirty=As),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Fi){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Or&&tf(n,l.outerDeco));if(!h&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=As,d.updateChildren(i,o+1),d.dirty=Yn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!tf(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Fi.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=Fi.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new OD(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof eo;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof lh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((wn||dn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new PD(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function mJ(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof eo)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function gJ(t,e){return t.type.side-e.type.side}function yJ(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let b=i[o++];b.widget&&(u?(d||(d=[u])).push(b):u=b)}if(u)if(d){d.sort(gJ);for(let b=0;b<d.length;b++)n(d[b],c,!!l)}else n(u,c,!!l);let h,p;if(l)p=-1,h=l,l=null;else if(c<t.childCount)p=c,h=t.child(c++);else break;for(let b=0;b<a.length;b++)a[b].to<=s&&a.splice(b--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let m=s+h.nodeSize;if(h.isText){let b=m;o<i.length&&i[o].from<b&&(b=i[o].from);for(let w=0;w<a.length;w++)a[w].to<b&&(b=a[w].to);b<m&&(l=h.cut(b-s),h=h.cut(0,b-s),m=b,p=-1)}else for(;o<i.length&&i[o].to<m;)o++;let g=h.isInline&&!h.isLeaf?a.filter(b=>!b.inline):a.slice();r(h,g,e.forChild(s,h),p),s=m}}function vJ(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function bJ(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Ov(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function Pw(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(ah(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&ye.isSelectable(d)&&i.parent&&!(d.isInline&&WQ(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;c=new ye(o==h?a:r.resolve(h))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,h=o;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);d=Math.min(d,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),h=Math.max(h,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,o]=h==t.state.selection.anchor?[h,d]:[d,h],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=Nw(t,u,a,d)}return c}function VD(t){return t.editable?t.hasFocus():$D(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ei(t,e=!1){let n=t.state.selection;if(FD(t,n),!!VD(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&dn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Zs(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)EJ(t);else{let{anchor:r,head:i}=n,s,o;WT&&!(n instanceof Se)&&(n.$from.parent.inlineContent||(s=qT(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=qT(t,n.to))),t.docView.setSelection(r,i,t,e),WT&&(s&&GT(s),o&&GT(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&wJ(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const WT=wn||dn&&AD<63;function qT(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(wn&&i&&i.contentEditable=="false")return Op(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Op(i);if(s)return Op(s)}}function Op(t){return t.contentEditable="true",wn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function GT(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function wJ(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!VD(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function EJ(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Jt(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&In&&Vi<=11&&(r.disabled=!0,r.disabled=!1)}function FD(t,e){if(e instanceof ye){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(KT(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else KT(t)}function KT(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Nw(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Se.between(e,n,r)}function YT(t){return t.editable&&!t.hasFocus()?!1:$D(t)}function $D(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function xJ(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Zs(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Pv(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&ke.findFrom(s,e)}function yi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function QT(t,e,n){let r=t.state.selection;if(r instanceof Se)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return yi(t,new Se(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Pv(t.state,e);return i&&i instanceof ye?yi(t,i):!1}else if(!(Un&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?ye.isSelectable(s)?yi(t,new ye(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Vc?yi(t,new Se(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ye&&r.node.isInline)return yi(t,new Se(e>0?r.$to:r.$from));{let i=Pv(t.state,e);return i?yi(t,i):!1}}}function nf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Vl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Do(t,e){return e<0?SJ(t):TJ(t)}function SJ(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(fr&&n.nodeType==1&&r<nf(n)&&Vl(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Vl(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(jD(n))break;{let a=n.previousSibling;for(;a&&Vl(a,-1);)i=n.parentNode,s=Jt(a),a=a.previousSibling;if(a)n=a,r=nf(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Nv(t,n,r):i&&Nv(t,i,s)}function TJ(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=nf(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Vl(a,1))s=n,o=++r;else break}else{if(jD(n))break;{let a=n.nextSibling;for(;a&&Vl(a,1);)s=a.parentNode,o=Jt(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=nf(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Nv(t,s,o)}function jD(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function CJ(t,e){for(;t&&e==t.childNodes.length&&!Bc(t);)e=Jt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function AJ(t,e){for(;t&&!e&&!Bc(t);)e=Jt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Nv(t,e,n){if(e.nodeType!=3){let s,o;(o=CJ(e,n))?(e=o,n=0):(s=AJ(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(ah(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&ei(t)},50)}function JT(t,e){let n=t.state.doc.resolve(e);if(!(dn||KQ)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function XT(t,e,n){let r=t.state.selection;if(r instanceof Se&&!r.empty||n.indexOf("s")>-1||Un&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Pv(t.state,e);if(o&&o instanceof ye)return yi(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Kn?ke.near(o,e):ke.findFrom(o,e);return a?yi(t,a):!1}return!1}function ZT(t,e){if(!(t.state.selection instanceof Se))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function eC(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function kJ(t){if(!wn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;eC(t,r,"true"),setTimeout(()=>eC(t,r,"false"),20)}return!1}function _J(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function IJ(t,e){let n=e.keyCode,r=_J(e);if(n==8||Un&&n==72&&r=="c")return ZT(t,-1)||Do(t,-1);if(n==46&&!e.shiftKey||Un&&n==68&&r=="c")return ZT(t,1)||Do(t,1);if(n==13||n==27)return!0;if(n==37||Un&&n==66&&r=="c"){let i=n==37?JT(t,t.state.selection.from)=="ltr"?-1:1:-1;return QT(t,i,r)||Do(t,i)}else if(n==39||Un&&n==70&&r=="c"){let i=n==39?JT(t,t.state.selection.from)=="ltr"?1:-1:1;return QT(t,i,r)||Do(t,i)}else{if(n==38||Un&&n==80&&r=="c")return XT(t,-1,r)||Do(t,-1);if(n==40||Un&&n==78&&r=="c")return kJ(t)||XT(t,1,r)||Do(t,1);if(r==(Un?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function zD(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||uo.fromSchema(t.state.schema),a=KD(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=GD[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=a.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function UD(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,s||r,t)}),s)return e?new ee(K.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ee.empty;let d=t.someProp("clipboardTextParser",h=>h(e,i,r,t));if(d)a=d;else{let h=i.marks(),{schema:p}=t.state,m=uo.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let b=o.appendChild(document.createElement("p"));g&&b.appendChild(m.serializeNode(p.text(g,h)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=OJ(n),Vc&&PJ(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Bi.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!RJ.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=NJ(tC(a,+u[1],+u[2]),u[4]);else if(a=ee.maxOpen(MJ(a.content,i),!0),a.openStart||a.openEnd){let d=0,h=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;h<a.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);a=tC(a,d,h)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const RJ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function MJ(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&WD(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=qD(o[o.length-1],s.length));let u=HD(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return K.from(o)}return t}function HD(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,K.from(t));return t}function WD(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=WD(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(K.from(HD(n,t,i+1))))}}function qD(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,qD(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(K.empty,!0);return t.copy(n.append(r))}function Lv(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=Lv(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(K.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function tC(t,e,n){return e<t.openStart&&(t=new ee(Lv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ee(Lv(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const GD={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let nC=null;function KD(){return nC||(nC=document.implementation.createHTMLDocument("title"))}let Pp=null;function DJ(t){let e=window.trustedTypes;return e?(Pp||(Pp=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Pp.createHTML(t)):t}function OJ(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=KD().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&GD[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=DJ(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function PJ(t){let e=t.querySelectorAll(dn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function NJ(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=K.from(l.create(r[a+1],i)),s++,o++}return new ee(i,s,o)}const En={},xn={},LJ={touchstart:!0,touchmove:!0};class BJ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function VJ(t){for(let e in En){let n=En[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{$J(t,r)&&!Lw(t,r)&&(t.editable||!(r.type in xn))&&n(t,r)},LJ[e]?{passive:!0}:void 0)}wn&&t.dom.addEventListener("input",()=>null),Bv(t)}function Mi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function FJ(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Bv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Lw(t,r))})}function Lw(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function $J(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function jJ(t,e){!Lw(t,e)&&En[e.type]&&(t.editable||!(e.type in xn))&&En[e.type](t,e)}xn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!QD(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Yr&&dn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),wa&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,bs(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||IJ(t,n)?n.preventDefault():Mi(t,"key")};xn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};xn.keypress=(t,e)=>{let n=e;if(QD(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Un&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Se)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function ch(t){return{left:t.clientX,top:t.clientY}}function zJ(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Bw(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function ra(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function UJ(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ye.isSelectable(r)?(ra(t,new ye(n)),!0):!1}function HJ(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof ye&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ye.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(ra(t,ye.create(t.state.doc,i)),!0):!1}function WJ(t,e,n,r,i){return Bw(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?HJ(t,n):UJ(t,n))}function qJ(t,e,n,r){return Bw(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function GJ(t,e,n,r){return Bw(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||KJ(t,n,r)}function KJ(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ra(t,Se.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)ra(t,Se.create(r,a+1,a+1+o.content.size));else if(ye.isSelectable(o))ra(t,ye.create(r,a));else continue;return!0}}function Vw(t){return rf(t)}const YD=Un?"metaKey":"ctrlKey";En.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Vw(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&zJ(n,t.input.lastClick)&&!n[YD]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(ch(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new YJ(t,o,n,!!r)):(s=="doubleClick"?qJ:GJ)(t,o.pos,o.inside,n)?n.preventDefault():Mi(t,"pointer"))};class YJ{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[YD],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof ye&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Mi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ei(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ch(e))),this.updateAllowDefault(e),this.allowDefault||!n?Mi(this.view,"pointer"):WJ(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||wn&&this.mightDrag&&!this.mightDrag.node.isAtom||dn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ra(this.view,ke.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Mi(this.view,"pointer")}move(e){this.updateAllowDefault(e),Mi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}En.touchstart=t=>{t.input.lastTouch=Date.now(),Vw(t),Mi(t,"pointer")};En.touchmove=t=>{t.input.lastTouch=Date.now(),Mi(t,"pointer")};En.contextmenu=t=>Vw(t);function QD(t,e){return t.composing?!0:wn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const QJ=Yr?5e3:-1;xn.compositionstart=xn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Se&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),rf(t,!0),t.markCursor=null;else if(rf(t,!e.selection.empty),fr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}JD(t,QJ)};xn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,JD(t,20))};function JD(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>rf(t),e))}function XD(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=XJ());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function JJ(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=UQ(e.focusNode,e.focusOffset),r=HQ(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function XJ(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function rf(t,e=!1){if(!(Yr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),XD(t),e||t.docView&&t.docView.dirty){let n=Pw(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function ZJ(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const cc=In&&Vi<15||wa&&YQ<604;En.copy=xn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=cc?null:n.clipboardData,o=r.content(),{dom:a,text:l}=zD(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):ZJ(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function eX(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function tX(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?uc(t,r.value,null,i,e):uc(t,r.textContent,r.innerHTML,i,e)},50)}function uc(t,e,n,r,i){let s=UD(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||ee.empty)))return!0;if(!s)return!1;let o=eX(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function ZD(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}xn.paste=(t,e)=>{let n=e;if(t.composing&&!Yr)return;let r=cc?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&uc(t,ZD(r),r.getData("text/html"),i,n)?n.preventDefault():tX(t,n)};class eO{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const tO=Un?"altKey":"ctrlKey";En.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(ch(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ye?i.to-1:i.to))){if(r&&r.mightDrag)o=ye.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=ye.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=zD(t,a);(!n.dataTransfer.files.length||!dn||AD>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(cc?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",cc||n.dataTransfer.setData("text/plain",c),t.dragging=new eO(u,!n[tO],o)};En.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};xn.dragover=xn.dragenter=(t,e)=>e.preventDefault();xn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(ch(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",m=>{o=m(o,t)}):o=UD(t,ZD(n.dataTransfer),cc?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[tO]);if(t.someProp("handleDrop",m=>m(t,n,o||ee.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?vD(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let p=c.doc.resolve(u);if(d&&ye.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new ye(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,b,w,A)=>m=A),c.setSelection(Nw(t,p,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};En.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ei(t)},20))};En.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};En.beforeinput=(t,e)=>{if(dn&&Yr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,bs(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in xn)En[t]=xn[t];function dc(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class sf{constructor(e,n){this.toDOM=e,this.spec=n||Bs,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new qn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof sf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&dc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class $i{constructor(e,n){this.attrs=e,this.spec=n||Bs}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new qn(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof $i&&dc(this.attrs,e.attrs)&&dc(this.spec,e.spec)}static is(e){return e.type instanceof $i}destroy(){}}class Fw{constructor(e,n){this.attrs=e,this.spec=n||Bs}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new qn(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof Fw&&dc(this.attrs,e.attrs)&&dc(this.spec,e.spec)}destroy(){}}class qn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new qn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new qn(e,e,new sf(n,r))}static inline(e,n,r,i){return new qn(e,n,new $i(r,i))}static node(e,n,r,i){return new qn(e,n,new Fw(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof $i}get widget(){return this.type instanceof sf}}const jo=[],Bs={};class Pt{constructor(e,n){this.local=e.length?e:jo,this.children=n.length?n:jo}static create(e,n){return n.length?of(n,e,0,Bs):an}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==an||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Bs)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?nX(this.children,o||[],e,n,r,i,s):o?new Pt(o.sort(Vs),jo):an}add(e,n){return n.length?this==an?Pt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=rO(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,of(u,a,c+1,Bs)),s+=3}});let o=nO(s?iO(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Pt(o.length?this.local.concat(o).sort(Vs):this.local,i||this.children)}remove(e){return e.length==0||this==an?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=an?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Pt(i,r):an}forChild(e,n){if(this==an)return this;if(n.isLeaf)return Pt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof $i){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new Pt(i.sort(Vs),jo);return r?new Ci([a,r]):a}return r||an}eq(e){if(this==e)return!0;if(!(e instanceof Pt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return $w(this.localsInner(e))}localsInner(e){if(this==an)return jo;if(e.inlineContent||!this.local.some($i.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof $i||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Pt.empty=new Pt([],[]);Pt.removeOverlap=$w;const an=Pt.empty;class Ci{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Bs));return Ci.from(r)}forChild(e,n){if(n.isLeaf)return Pt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=an&&(s instanceof Ci?r=r.concat(s.members):r.push(s))}return Ci.from(r)}eq(e){if(!(e instanceof Ci)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?$w(r?n:n.sort(Vs)):jo}static from(e){switch(e.length){case 0:return an;case 1:return e[0];default:return new Ci(e.every(n=>n instanceof Pt)?e:e.reduce((n,r)=>n.concat(r instanceof Pt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function nX(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((h,p,m,g)=>{let b=g-m-(p-h);for(let w=0;w<a.length;w+=3){let A=a[w+1];if(A<0||h>A+u-d)continue;let C=a[w]+u-d;p>=C?a[w+1]=h<=C?-2:-1:h>=u&&b&&(a[w]+=b,a[w+1]+=b)}d+=b}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let h=n.map(t[c+1]+s,-1),p=h-i,{index:m,offset:g}=r.content.findIndex(d),b=r.maybeChild(m);if(b&&g==d&&g+b.nodeSize==p){let w=a[c+2].mapInner(n,b,u+1,t[c]+s+1,o);w!=an?(a[c]=d,a[c+1]=p,a[c+2]=w):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=rX(a,t,e,n,i,s,o),u=of(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let p=u.children[d];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Pt(e.sort(Vs),a)}function nO(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new qn(i.from+e,i.to+e,i.type))}return n}function rX(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function rO(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function iO(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function of(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=rO(t,a,l+n);if(c){s=!0;let u=of(c,a,n+l+1,r);u!=an&&i.push(l,l+a.nodeSize,u)}});let o=nO(s?iO(t):t,-n).sort(Vs);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Pt(o,i):an}function Vs(t,e){return t.from-e.from||t.to-e.to}function $w(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),rC(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),rC(e,i,r.copy(s.from,r.to)));break}}}return e}function rC(t,e,n){for(;e<t.length&&Vs(n,t[e])>0;)e++;t.splice(e,0,n)}function Np(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=an&&e.push(r)}),t.cursorWrapper&&e.push(Pt.create(t.state.doc,[t.cursorWrapper.deco])),Ci.from(e)}const iX={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},sX=In&&Vi<=11;class oX{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class aX{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new oX,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);In&&Vi<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),sX&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,iX)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(YT(this.view)){if(this.suppressingSelectionUpdates)return ei(this.view);if(In&&Vi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Zs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=lc(s))n.add(s);for(let s=e.anchorNode;s;s=lc(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&YT(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(fr&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let p=h.parentNode;p&&p.nodeName=="LI"&&(!d||uX(e,d)!=p)&&h.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ah(r)&&(c=Pw(e))&&c.eq(ke.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ei(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),lX(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ei(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(In&&Vi<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h)}let o=i&&i.parentNode==e.target?Jt(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?Jt(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let iC=new WeakMap,sC=!1;function lX(t){if(!iC.has(t)&&(iC.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=fr,sC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),sC=!0}}function oC(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Zs(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function cX(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return oC(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?oC(t,n):null}function uX(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function dX(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],ah(l)||c.push({node:l.focusNode,offset:l.focusOffset})),dn&&t.input.lastKeyCode===8)for(let b=s;b>i;b--){let w=r.childNodes[b-1],A=w.pmViewDesc;if(w.nodeName=="BR"&&!A){s=b;break}if(!A||A.size)break}let d=t.state.doc,h=t.someProp("domParser")||Bi.fromSchema(t.state.schema),p=d.resolve(o),m=null,g=h.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:fX,context:p});if(c&&c[0].pos!=null){let b=c[0].pos,w=c[1]&&c[1].pos;w==null&&(w=b),m={anchor:b+o,head:w+o}}return{doc:g,sel:m,from:o,to:a}}function fX(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(wn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||wn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hX=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pX(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let T=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,v=Pw(t,T);if(v&&!t.state.selection.eq(v)){if(dn&&Yr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",M=>M(t,bs(13,"Enter"))))return;let k=t.state.tr.setSelection(v);T=="pointer"?k.setMeta("pointer",!0):T=="key"&&k.scrollIntoView(),s&&k.setMeta("composition",s),t.dispatch(k)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=dX(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),h,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,p="end"):(h=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let m=yX(d.content,c.doc.content,c.from,h,p);if(m&&t.input.domChangeCount++,(wa&&t.input.lastIOSEnter>Date.now()-225||Yr)&&i.some(T=>T.nodeType==1&&!hX.test(T.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",T=>T(t,bs(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof Se&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let T=aC(t,t.state.doc,c.sel);if(T&&!T.eq(t.state.selection)){let v=t.state.tr.setSelection(T);s&&v.setMeta("composition",s),t.dispatch(v)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof Se&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),In&&Vi<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),b=c.doc.resolveNoCache(m.endB-c.from),w=u.resolve(m.start),A=g.sameParent(b)&&g.parent.inlineContent&&w.end()>=m.endA,C;if((wa&&t.input.lastIOSEnter>Date.now()-225&&(!A||i.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!A&&g.pos<c.doc.content.size&&!g.sameParent(b)&&(C=ke.findFrom(c.doc.resolve(g.pos+1),1,!0))&&C.head==b.pos)&&t.someProp("handleKeyDown",T=>T(t,bs(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&gX(u,m.start,m.endA,g,b)&&t.someProp("handleKeyDown",T=>T(t,bs(8,"Backspace")))){Yr&&dn&&t.domObserver.suppressSelectionUpdates();return}dn&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),Yr&&!A&&g.start()!=b.start()&&b.parentOffset==0&&g.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,b=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(T){return T(t,bs(13,"Enter"))})},20));let I=m.start,P=m.endA,O,S,x;if(A){if(g.pos==b.pos)In&&Vi<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ei(t),20)),O=t.state.tr.delete(I,P),S=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(x=mX(g.parent.content.cut(g.parentOffset,b.parentOffset),w.parent.content.cut(w.parentOffset,m.endA-w.start()))))O=t.state.tr,x.type=="add"?O.addMark(I,P,x.mark):O.removeMark(I,P,x.mark);else if(g.parent.child(g.index()).isText&&g.index()==b.index()-(b.textOffset?0:1)){let T=g.parent.textBetween(g.parentOffset,b.parentOffset);if(t.someProp("handleTextInput",v=>v(t,I,P,T)))return;O=t.state.tr.insertText(T,I,P)}}if(O||(O=t.state.tr.replace(I,P,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let T=aC(t,O.doc,c.sel);T&&!(dn&&t.composing&&T.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(T.head==I||T.head==O.mapping.map(P)-1)||In&&T.empty&&T.head==I)&&O.setSelection(T)}S&&O.ensureMarks(S),s&&O.setMeta("composition",s),t.dispatch(O.scrollIntoView())}function aC(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Nw(t,e.resolve(n.anchor),e.resolve(n.head))}function mX(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(K.from(c).eq(t))return{mark:a,type:o}}function gX(t,e,n,r,i){if(n-e<=i.pos-r.pos||Lp(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(Lp(s,!0,!0));return!o.parent.isTextblock||o.pos>n||Lp(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Lp(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function yX(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&lC(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&lC(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function lC(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class vX{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new BJ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(hC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=dC(this),uC(this),this.nodeViews=fC(this),this.docView=UT(this.state.doc,cC(this),Np(this),this.dom,this),this.domObserver=new aX(this,(r,i,s,o)=>pX(this,r,i,s,o)),this.domObserver.start(),VJ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Bv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(hC),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(XD(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=fC(this);wX(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Bv(this),this.editable=dC(this),uC(this);let l=Np(this),c=cC(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&XQ(this);if(o){this.domObserver.stop();let p=d&&(In||dn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&bX(i.selection,e.selection);if(d){let m=dn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=JJ(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=UT(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&xJ(this))?ei(this,p):(FD(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&ZQ(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ye){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&BT(this,n.getBoundingClientRect(),e)}else BT(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new eO(e.slice,e.move,i<0?void 0:ye.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(In){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&eJ(this.dom),ei(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return sJ(this,e)}coordsAtPos(e,n=1){return MD(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return uJ(this,n||this.state,e)}pasteHTML(e,n){return uc(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return uc(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(FJ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Np(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,jQ())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return jJ(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?wn&&this.root.nodeType===11&&qQ(this.dom.ownerDocument)==this.dom&&cX(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function cC(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[qn.node(0,t.state.doc.content.size,e)]}function uC(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:qn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function dC(t){return!t.someProp("editable",e=>e(t.state)===!1)}function bX(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function fC(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function wX(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function hC(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Yi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},af={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},EX=typeof navigator<"u"&&/Mac/.test(navigator.platform),xX=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Xt=0;Xt<10;Xt++)Yi[48+Xt]=Yi[96+Xt]=String(Xt);for(var Xt=1;Xt<=24;Xt++)Yi[Xt+111]="F"+Xt;for(var Xt=65;Xt<=90;Xt++)Yi[Xt]=String.fromCharCode(Xt+32),af[Xt]=String.fromCharCode(Xt);for(var Bp in Yi)af.hasOwnProperty(Bp)||(af[Bp]=Yi[Bp]);function SX(t){var e=EX&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||xX&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?af:Yi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const TX=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function CX(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))TX?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function AX(t){let e=Object.create(null);for(let n in t)e[CX(n)]=t[n];return e}function Vp(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function kX(t){return new On({props:{handleKeyDown:sO(t)}})}function sO(t){let e=AX(t);return function(n,r){let i=SX(r),s,o=e[Vp(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Vp(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Yi[r.keyCode])&&s!=i){let a=e[Vp(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const _X=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function oO(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const IX=(t,e,n)=>{let r=oO(t,n);if(!r)return!1;let i=jw(r);if(!i){let o=r.blockRange(),a=o&&Pa(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(uO(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Ea(s,"end")||ye.isSelectable(s)))for(let o=r.depth;;o--){let a=sh(t.doc,r.before(o),r.after(o),ee.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Ea(s,"end")?ke.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ye.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},RX=(t,e,n)=>{let r=oO(t,n);if(!r)return!1;let i=jw(r);return i?aO(t,i,e):!1},MX=(t,e,n)=>{let r=lO(t,n);if(!r)return!1;let i=zw(r);return i?aO(t,i,e):!1};function aO(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=sh(t.doc,s,l,ee.empty);if(!c||c.from!=s||c instanceof Vt&&c.slice.size>=l-s)return!1;if(n){let u=t.tr.step(c);u.setSelection(Se.create(u.doc,s)),n(u.scrollIntoView())}return!0}function Ea(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const DX=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=jw(r)}let o=s&&s.nodeBefore;return!o||!ye.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ye.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function jw(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function lO(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const OX=(t,e,n)=>{let r=lO(t,n);if(!r)return!1;let i=zw(r);if(!i)return!1;let s=i.nodeAfter;if(uO(t,i,e,1))return!0;if(r.parent.content.size==0&&(Ea(s,"start")||ye.isSelectable(s))){let o=sh(t.doc,r.before(),r.after(),ee.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Ea(s,"start")?ke.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ye.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},PX=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=zw(r)}let o=s&&s.nodeAfter;return!o||!ye.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ye.create(t.doc,s.pos)).scrollIntoView()),!0)};function zw(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const NX=(t,e)=>{let n=t.selection,r=n instanceof ye,i;if(r){if(n.node.isTextblock||!is(t.doc,n.from))return!1;i=n.from}else if(i=ih(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(ye.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},LX=(t,e)=>{let n=t.selection,r;if(n instanceof ye){if(n.node.isTextblock||!is(t.doc,n.to))return!1;r=n.to}else if(r=ih(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},BX=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Pa(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},VX=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function cO(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const FX=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=cO(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(ke.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},$X=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Kn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=cO(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(Se.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},jX=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ta(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Pa(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},zX=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(ye.create(t.doc,i))),!0)};function UX(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||is(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function uO(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&UX(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,m=K.empty;for(let w=o.length-1;w>=0;w--)m=K.from(o[w].create(null,m));m=K.from(i.copy(m));let g=t.tr.step(new zt(e.pos-1,p,e.pos,p,new ee(m,1,0),o.length,!0)),b=g.doc.resolve(p+2*o.length);b.nodeAfter&&b.nodeAfter.type==i.type&&is(g.doc,b.pos)&&g.join(b.pos),n(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:ke.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),h=d&&Pa(d);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(d,h).scrollIntoView()),!0;if(c&&Ea(s,"start",!0)&&Ea(i,"end")){let p=i,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=s,b=1;for(;!g.isTextblock;g=g.firstChild)b++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(n){let w=K.empty;for(let C=m.length-1;C>=0;C--)w=K.from(m[C].copy(w));let A=t.tr.step(new zt(e.pos-m.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new ee(w,m.length,0),0,!0));n(A.scrollIntoView())}return!0}}return!1}function dO(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Se.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const HX=dO(-1),WX=dO(1);function qX(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&Mw(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function pC(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function GX(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return KX(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function KX(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new Zd(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Zd(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=Mw(s,n,r,e);return a?(t&&YX(t,e,a,i,n),!0):!1}function YX(t,e,n,r,i){let s=K.empty;for(let u=n.length-1;u>=0;u--)s=K.from(n[u].type.create(n[u].attrs,s));t.step(new zt(e.start-(r?2:0),e.end,e.start,e.end,new ee(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,h=!0;u<d;u++,h=!1)!h&&ta(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function QX(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?JX(e,n,t,s):XX(e,n,s):!0:!1}}function JX(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new zt(s-1,o,s,o,new ee(K.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Zd(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=Pa(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(s,-1)-1;return is(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function XX(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)p-=i.child(m).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?K.empty:K.from(i))))return!1;let d=s.pos,h=d+o.nodeSize;return r.step(new zt(d-(a?1:0),h+(l?1:0),d+1,h-1,new ee((a?K.empty:K.from(i.copy(K.empty))).append(l?K.empty:K.from(i.copy(K.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function ZX(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=K.from(c?t.create():null),d=new ee(K.from(t.create(null,K.from(a.type.create(null,u)))),c?3:1,0),h=s.start,p=s.end;n(e.tr.step(new zt(h-(c?3:1),p,h,p,d,1,!0)).scrollIntoView())}return!0}}function uh(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class dh{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(r).map(([h,p])=>[h,(...g)=>{const b=this.buildProps(c,n),w=p(...g)(b);return a.push(w),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:uh({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class eZ{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function re(t,e,n){return t.config[e]===void 0&&t.parent?re(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?re(t.parent,e,n):null}):t.config[e]}function fh(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function fO(t){const e=[],{nodeExtensions:n,markExtensions:r}=fh(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=re(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,p])=>{e.push({type:d,name:h,attribute:{...s,...p}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=re(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...s,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function Nt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function pn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,h]=u.split(":").map(p=>p.trim());c.set(d,h)}),a.forEach(u=>{const[d,h]=u.split(":").map(p=>p.trim());c.set(d,h)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=s}),r},{})}function Vv(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>pn(n,r),{})}function hO(t){return typeof t=="function"}function Oe(t,e=void 0,...n){return hO(t)?e?t.bind(e)(...n):t(...n):t}function tZ(t={}){return Object.keys(t).length===0&&t.constructor===Object}function nZ(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function mC(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):nZ(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function gC(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&tZ(n)?!1:n!=null))}function rZ(t,e){var n;const r=fO(t),{nodeExtensions:i,markExtensions:s}=fh(t),o=(n=i.find(c=>re(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(w=>w.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((w,A)=>{const C=re(A,"extendNodeSchema",d);return{...w,...C?C(c):{}}},{}),p=gC({...h,content:Oe(re(c,"content",d)),marks:Oe(re(c,"marks",d)),group:Oe(re(c,"group",d)),inline:Oe(re(c,"inline",d)),atom:Oe(re(c,"atom",d)),selectable:Oe(re(c,"selectable",d)),draggable:Oe(re(c,"draggable",d)),code:Oe(re(c,"code",d)),whitespace:Oe(re(c,"whitespace",d)),linebreakReplacement:Oe(re(c,"linebreakReplacement",d)),defining:Oe(re(c,"defining",d)),isolating:Oe(re(c,"isolating",d)),attrs:Object.fromEntries(u.map(w=>{var A;return[w.name,{default:(A=w==null?void 0:w.attribute)===null||A===void 0?void 0:A.default}]}))}),m=Oe(re(c,"parseHTML",d));m&&(p.parseDOM=m.map(w=>mC(w,u)));const g=re(c,"renderHTML",d);g&&(p.toDOM=w=>g({node:w,HTMLAttributes:Vv(w,u)}));const b=re(c,"renderText",d);return b&&(p.toText=b),[c.name,p]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((b,w)=>{const A=re(w,"extendMarkSchema",d);return{...b,...A?A(c):{}}},{}),p=gC({...h,inclusive:Oe(re(c,"inclusive",d)),excludes:Oe(re(c,"excludes",d)),group:Oe(re(c,"group",d)),spanning:Oe(re(c,"spanning",d)),code:Oe(re(c,"code",d)),attrs:Object.fromEntries(u.map(b=>{var w;return[b.name,{default:(w=b==null?void 0:b.attribute)===null||w===void 0?void 0:w.default}]}))}),m=Oe(re(c,"parseHTML",d));m&&(p.parseDOM=m.map(b=>mC(b,u)));const g=re(c,"renderHTML",d);return g&&(p.toDOM=b=>g({mark:b,HTMLAttributes:Vv(b,u)})),[c.name,p]}));return new aD({topNode:o,nodes:a,marks:l})}function Fp(t,e){return e.nodes[t]||e.marks[t]||null}function yC(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Uw(t,e){const n=uo.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const iZ=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),n};function Hw(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class hh{constructor(e){this.find=e.find,this.handler=e.handler}}const sZ=(t,e)=>{if(Hw(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Pu(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=iZ(c)+s;return o.forEach(h=>{if(u)return;const p=sZ(d,h.find);if(!p)return;const m=l.state.tr,g=uh({state:l.state,transaction:m}),b={from:r-(p[0].length-s.length),to:i},{commands:w,chain:A,can:C}=new dh({editor:n,state:g});h.handler({state:g,range:b,match:p,commands:w,chain:A,can:C})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:i,text:s}),l.dispatch(m),u=!0)}),u}function oZ(t){const{editor:e,rules:n}=t,r=new On({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=Uw(K.from(u),o.schema);const{from:d}=l,h=d+u.length;Pu({editor:e,from:d,to:h,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return Pu({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Pu({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Pu({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function aZ(t){return Object.prototype.toString.call(t).slice(8,-1)}function Nu(t){return aZ(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function ph(t,e){const n={...t};return Nu(t)&&Nu(e)&&Object.keys(e).forEach(r=>{Nu(e[r])&&Nu(t[r])?n[r]=ph(t[r],e[r]):n[r]=e[r]}),n}class Qi{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(re(this,"addOptions",{name:this.name}))),this.storage=Oe(re(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Qi(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>ph(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Qi(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Oe(re(n,"addOptions",{name:n.name})),n.storage=Oe(re(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function lZ(t){return typeof t=="number"}class cZ{constructor(e){this.find=e.find,this.handler=e.handler}}const uZ=(t,e,n)=>{if(Hw(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function dZ(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new dh({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(p,m)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(r,m),b=Math.min(i,m+p.content.size),w=p.textBetween(g-m,b-m,void 0,"￼");uZ(w,s.find,o).forEach(C=>{if(C.index===void 0)return;const I=g+C.index+1,P=I+C[0].length,O={from:n.tr.mapping.map(I),to:n.tr.mapping.map(P)},S=s.handler({state:n,range:O,match:C,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(S)})}),d.every(p=>p!==null)}let Lu=null;const fZ=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function hZ(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:h,rule:p,pasteEvt:m})=>{const g=u.tr,b=uh({state:u,transaction:g});if(!(!dZ({editor:e,state:b,from:Math.max(d-1,0),to:h.b-1,rule:p,pasteEvent:m,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(u=>new On({view(d){const h=m=>{var g;r=!((g=d.dom.parentElement)===null||g===void 0)&&g.contains(m.target)?d.dom.parentElement:null,r&&(Lu=e)},p=()=>{Lu&&(Lu=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(d,h)=>{if(s=r===d.dom.parentElement,a=h,!s){const p=Lu;p&&setTimeout(()=>{const m=p.state.selection;m&&p.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,h)=>{var p;const m=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return o=h,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,p)=>{const m=d[0],g=m.getMeta("uiEvent")==="paste"&&!i,b=m.getMeta("uiEvent")==="drop"&&!s,w=m.getMeta("applyPasteRules"),A=!!w;if(!g&&!b&&!A)return;if(A){let{text:P}=w;typeof P=="string"?P=P:P=Uw(K.from(P),p.schema);const{from:O}=w,S=O+P.length,x=fZ(P);return l({rule:u,state:p,from:O,to:{b:S},pasteEvt:x})}const C=h.doc.content.findDiffStart(p.doc.content),I=h.doc.content.findDiffEnd(p.doc.content);if(!(!lZ(C)||!I||C===I.b))return l({rule:u,state:p,from:C,to:I,pasteEvt:o})}}))}function pZ(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Wo{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Wo.resolve(e),this.schema=rZ(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Wo.sort(Wo.flatten(e)),r=pZ(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=re(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=re(r,"priority")||100,o=re(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Fp(n.name,this.schema)},i=re(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Wo.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Fp(o.name,this.schema)},l=[],c=re(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&re(o,"exitable",a)&&(u.ArrowRight=()=>Qi.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([b,w])=>[b,()=>w({editor:e})]));u={...u,...g}}const d=kX(u);l.push(d);const h=re(o,"addInputRules",a);yC(o,e.options.enableInputRules)&&h&&r.push(...h());const p=re(o,"addPasteRules",a);yC(o,e.options.enablePasteRules)&&p&&i.push(...p());const m=re(o,"addProseMirrorPlugins",a);if(m){const g=m();l.push(...g)}return l}).flat();return[oZ({editor:e,rules:r}),...hZ({editor:e,rules:i}),...s]}get attributes(){return fO(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=fh(this.extensions);return Object.fromEntries(n.filter(r=>!!re(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Nt(r.name,this.schema)},o=re(r,"addNodeView",s);if(!o)return[];const a=(l,c,u,d,h)=>{const p=Vv(l,i);return o()({node:l,view:c,getPos:u,decorations:d,innerDecorations:h,editor:e,extension:r,HTMLAttributes:p})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Fp(e.name,this.schema)};e.type==="mark"&&(!((n=Oe(re(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=re(e,"onBeforeCreate",r),s=re(e,"onCreate",r),o=re(e,"onUpdate",r),a=re(e,"onSelectionUpdate",r),l=re(e,"onTransaction",r),c=re(e,"onFocus",r),u=re(e,"onBlur",r),d=re(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class Sn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(re(this,"addOptions",{name:this.name}))),this.storage=Oe(re(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Sn(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>ph(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Sn({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Oe(re(n,"addOptions",{name:n.name})),n.storage=Oe(re(n,"addStorage",{name:n.name,options:n.options})),n}}function pO(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,d)=>{var h;l.isBlock&&c>r&&(a+=s);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function mO(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const mZ=Sn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new On({key:new Br("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=mO(n);return pO(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),gZ=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),yZ=(t=!1)=>({commands:e})=>e.setContent("",t),vZ=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(h);if(!p)return;const m=Pa(p);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,g)}(m||m===0)&&e.lift(p,m)})}),!0},bZ=t=>e=>t(e),wZ=()=>({state:t,dispatch:e})=>$X(t,e),EZ=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new Se(r.doc.resolve(o-1))),!0},xZ=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},SZ=t=>({tr:e,state:n,dispatch:r})=>{const i=Nt(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},TZ=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},CZ=()=>({state:t,dispatch:e})=>_X(t,e),AZ=()=>({commands:t})=>t.keyboardShortcut("Enter"),kZ=()=>({state:t,dispatch:e})=>FX(t,e);function lf(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Hw(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function gO(t,e,n={}){return t.find(r=>r.type===e&&lf(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function vC(t,e,n={}){return!!gO(t,e,n)}function Ww(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!gO([...i.node.marks],e,n)))return;let o=i.index,a=t.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&vC([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&vC([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function ci(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const _Z=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=ci(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=Ww(l,s,e);if(d&&d.from<=c&&d.to>=u){const h=Se.create(o,d.from,d.to);n.setSelection(h)}}return!0},IZ=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function yO(t){return t instanceof Se}function _s(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function vO(t,e=null){if(!e)return null;const n=ke.atStart(t),r=ke.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?Se.create(t,_s(0,i,s),_s(t.content.size,i,s)):Se.create(t,_s(e,i,s),_s(e,i,s))}function RZ(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function qw(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const MZ=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(qw()||RZ())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!yO(n.state.selection))return o(),!0;const a=vO(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},DZ=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),OZ=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),bO=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&bO(r)}return t};function Bu(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return bO(n)}function cf(t,e,n){if(t instanceof Li||t instanceof K)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return K.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),cf("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new aD({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Bi.fromSchema(l).parseSlice(Bu(t),n.parseOptions):Bi.fromSchema(l).parse(Bu(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Bi.fromSchema(e);return n.slice?s.parseSlice(Bu(t),n.parseOptions).content:s.parse(Bu(t),n.parseOptions)}return cf("",e,n)}function PZ(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Vt||i instanceof zt))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(ke.near(t.doc.resolve(o),n))}const NZ=t=>!("type"in t),LZ=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=cf(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(m){return s.emit("contentError",{editor:s,error:m,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((NZ(a)?a:[a]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),l===c&&d){const{parent:m}=r.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,c+=1)}let p;if(u){if(Array.isArray(e))p=e.map(m=>m.text||"").join("");else if(e instanceof K){let m="";e.forEach(g=>{g.text&&(m+=g.text)}),p=m}else typeof e=="object"&&e&&e.text?p=e.text:p=e;r.insertText(p,l,c)}else p=a,r.replaceWith(l,c,p);n.updateSelection&&PZ(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:p}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:p})}return!0},BZ=()=>({state:t,dispatch:e})=>NX(t,e),VZ=()=>({state:t,dispatch:e})=>LX(t,e),FZ=()=>({state:t,dispatch:e})=>IX(t,e),$Z=()=>({state:t,dispatch:e})=>OX(t,e),jZ=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ih(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},zZ=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ih(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},UZ=()=>({state:t,dispatch:e})=>RX(t,e),HZ=()=>({state:t,dispatch:e})=>MX(t,e);function wO(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function WZ(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))qw()||wO()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const qZ=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=WZ(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function fc(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?Nt(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,h)=>{if(d.isText)return;const p=Math.max(r,h),m=Math.min(i,h+d.nodeSize);a.push({node:d,from:p,to:m})});const l=i-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>lf(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}const GZ=(t,e={})=>({state:n,dispatch:r})=>{const i=Nt(t,n.schema);return fc(n,i,e)?BX(n,r):!1},KZ=()=>({state:t,dispatch:e})=>jX(t,e),YZ=t=>({state:e,dispatch:n})=>{const r=Nt(t,e.schema);return QX(r)(e,n)},QZ=()=>({state:t,dispatch:e})=>VX(t,e);function $c(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function bC(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const JZ=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=$c(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Nt(t,r.schema)),a==="mark"&&(o=ci(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,bC(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(bC(d.attrs,e)))})})}),!0):!1},XZ=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),ZZ=()=>({tr:t,dispatch:e})=>{if(e){const n=new Kn(t.doc);t.setSelection(n)}return!0},eee=()=>({state:t,dispatch:e})=>DX(t,e),tee=()=>({state:t,dispatch:e})=>PX(t,e),nee=()=>({state:t,dispatch:e})=>zX(t,e),ree=()=>({state:t,dispatch:e})=>WX(t,e),iee=()=>({state:t,dispatch:e})=>HX(t,e);function Fv(t,e,n={},r={}){return cf(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const see=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:u}=s;if(n.preserveWhitespace!=="full"){const d=Fv(t,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function EO(t,e){const n=ci(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function oee(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function aee(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Gw(t){return e=>aee(e.$from,t)}function lee(t,e){const n={from:0,to:t.content.size};return pO(t,n,e)}function cee(t,e){const n=Nt(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function uee(t,e){const n=$c(typeof e=="string"?e:e.name,t.schema);return n==="node"?cee(t,e):n==="mark"?EO(t,e):{}}function xO(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=Ww(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function od(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function $v(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?ci(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>lf(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:h})=>{const p=d.pos,m=h.pos;t.doc.nodesBetween(p,m,(g,b)=>{if(!g.isText&&!g.marks.length)return;const w=Math.max(p,b),A=Math.min(m,b+g.nodeSize),C=A-w;o+=C,a.push(...g.marks.map(I=>({mark:I,from:w,to:A})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>lf(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=o}function dee(t,e,n={}){if(!e)return fc(t,null,n)||$v(t,null,n);const r=$c(e,t.schema);return r==="node"?fc(t,e,n):r==="mark"?$v(t,e,n):!1}function wC(t,e){const{nodeExtensions:n}=fh(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Oe(re(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Kw(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Kw(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function fee(t){return t instanceof ye}function hee(t,e,n){var r;const{selection:i}=e;let s=null;if(yO(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const p=!h||h.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=p&&m}return!c}),c})}const pee=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=ci(t,r.schema);if(i)if(o){const c=EO(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(h,p)=>{const m=Math.max(p,u),g=Math.min(p+h.nodeSize,d);h.marks.find(w=>w.type===l)?h.marks.forEach(w=>{l===w.type&&n.addMark(m,g,l.create({...w.attrs,...e}))}):n.addMark(m,g,l.create(e))})});return hee(r,n,l)},mee=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),gee=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Nt(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>pC(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>pC(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},yee=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=_s(t,0,r.content.size),s=ye.create(r,i);e.setSelection(s)}return!0},vee=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=Se.atStart(r).from,a=Se.atEnd(r).to,l=_s(i,o,a),c=_s(s,o,a),u=Se.create(r,l,c);e.setSelection(u)}return!0},bee=t=>({state:e,dispatch:n})=>{const r=Nt(t,e.schema);return ZX(r)(e,n)};function EC(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const wee=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=od(c,a.node().type.name,a.node().attrs);if(s instanceof ye&&s.node.isBlock)return!a.parentOffset||!ta(o,a.pos)?!1:(r&&(t&&EC(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:oee(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&h?[{type:h,attrs:u}]:void 0,m=ta(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!m&&ta(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(m=!0,p=h?[{type:h,attrs:u}]:void 0),r){if(m&&(s instanceof Se&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),b=e.doc.resolve(g);a.node(-1).canReplaceWith(b.index(),b.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&EC(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return m},Eee=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=Nt(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let w=K.empty;const A=l.index(-1)?1:l.index(-2)?2:3;for(let x=l.depth-A;x>=l.depth-3;x-=1)w=K.from(l.node(x).copy(w));const C=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,I={...od(h,l.node().type.name,l.node().attrs),...e},P=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(I))||void 0;w=w.append(K.from(a.createAndFill(null,P)||void 0));const O=l.before(l.depth-(A-1));n.replace(O,l.after(-C),new ee(w,4-A,0));let S=-1;n.doc.nodesBetween(O,n.doc.content.size,(x,T)=>{if(S>-1)return!1;x.isTextblock&&x.content.size===0&&(S=T+1)}),S>-1&&n.setSelection(Se.near(n.doc.resolve(S))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...od(h,d.type.name,d.attrs),...e},g={...od(h,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const b=p?[{type:a,attrs:m},{type:p,attrs:g}]:[{type:a,attrs:m}];if(!ta(n.doc,l.pos,2))return!1;if(i){const{selection:w,storedMarks:A}=r,{splittableMarks:C}=s.extensionManager,I=A||w.$to.parentOffset&&w.$from.marks();if(n.split(l.pos,2,b).scrollIntoView(),!I||!i)return!0;const P=I.filter(O=>C.includes(O.type.name));n.ensureMarks(P)}return!0},$p=(t,e)=>{const n=Gw(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&is(t.doc,n.pos)&&t.join(n.pos),!0},jp=(t,e)=>{const n=Gw(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&is(t.doc,r)&&t.join(r),!0},xee=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,p=Nt(t,o.schema),m=Nt(e,o.schema),{selection:g,storedMarks:b}=o,{$from:w,$to:A}=g,C=w.blockRange(A),I=b||g.$to.parentOffset&&g.$from.marks();if(!C)return!1;const P=Gw(O=>wC(O.type.name,d))(g);if(C.depth>=1&&P&&C.depth-P.depth<=1){if(P.node.type===p)return c.liftListItem(m);if(wC(P.node.type.name,d)&&p.validContent(P.node.content)&&a)return l().command(()=>(s.setNodeMarkup(P.pos,p),!0)).command(()=>$p(s,p)).command(()=>jp(s,p)).run()}return!n||!I||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>$p(s,p)).command(()=>jp(s,p)).run():l().command(()=>{const O=u().wrapInList(p,r),S=I.filter(x=>h.includes(x.type.name));return s.ensureMarks(S),O?!0:c.clearNodes()}).wrapInList(p,r).command(()=>$p(s,p)).command(()=>jp(s,p)).run()},See=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=ci(t,r.schema);return $v(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},Tee=(t,e,n={})=>({state:r,commands:i})=>{const s=Nt(t,r.schema),o=Nt(e,r.schema),a=fc(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},Cee=(t,e={})=>({state:n,commands:r})=>{const i=Nt(t,n.schema);return fc(n,i,e)?r.lift(i):r.wrapIn(i,e)},Aee=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},kee=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},_ee=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=ci(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&o){let{from:h,to:p}=a;const m=(s=c.marks().find(b=>b.type===l))===null||s===void 0?void 0:s.attrs,g=Ww(c,l,m);g&&(h=g.from,p=g.to),n.removeMark(h,p,l)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},Iee=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=$c(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Nt(t,r.schema)),a==="mark"&&(o=ci(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,h,p,m;n.selection.empty?r.doc.nodesBetween(c,u,(g,b)=>{s&&s===g.type&&(p=Math.max(b,c),m=Math.min(b+g.nodeSize,u),d=b,h=g)}):r.doc.nodesBetween(c,u,(g,b)=>{b<c&&s&&s===g.type&&(p=Math.max(b,c),m=Math.min(b+g.nodeSize,u),d=b,h=g),b>=c&&b<=u&&(s&&s===g.type&&n.setNodeMarkup(b,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(w=>{if(o===w.type){const A=Math.max(b,c),C=Math.min(b+g.nodeSize,u);n.addMark(A,C,o.create({...w.attrs,...e}))}}))}),h&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...h.attrs,...e}),o&&h.marks.length&&h.marks.forEach(g=>{o===g.type&&n.addMark(p,m,o.create({...g.attrs,...e}))}))}),!0):!1},Ree=(t,e={})=>({state:n,dispatch:r})=>{const i=Nt(t,n.schema);return qX(i,e)(n,r)},Mee=(t,e={})=>({state:n,dispatch:r})=>{const i=Nt(t,n.schema);return GX(i,e)(n,r)};var Dee=Object.freeze({__proto__:null,blur:gZ,clearContent:yZ,clearNodes:vZ,command:bZ,createParagraphNear:wZ,cut:EZ,deleteCurrentNode:xZ,deleteNode:SZ,deleteRange:TZ,deleteSelection:CZ,enter:AZ,exitCode:kZ,extendMarkRange:_Z,first:IZ,focus:MZ,forEach:DZ,insertContent:OZ,insertContentAt:LZ,joinBackward:FZ,joinDown:VZ,joinForward:$Z,joinItemBackward:jZ,joinItemForward:zZ,joinTextblockBackward:UZ,joinTextblockForward:HZ,joinUp:BZ,keyboardShortcut:qZ,lift:GZ,liftEmptyBlock:KZ,liftListItem:YZ,newlineInCode:QZ,resetAttributes:JZ,scrollIntoView:XZ,selectAll:ZZ,selectNodeBackward:eee,selectNodeForward:tee,selectParentNode:nee,selectTextblockEnd:ree,selectTextblockStart:iee,setContent:see,setMark:pee,setMeta:mee,setNode:gee,setNodeSelection:yee,setTextSelection:vee,sinkListItem:bee,splitBlock:wee,splitListItem:Eee,toggleList:xee,toggleMark:See,toggleNode:Tee,toggleWrap:Cee,undoInputRule:Aee,unsetAllMarks:kee,unsetMark:_ee,updateAttributes:Iee,wrapIn:Ree,wrapInList:Mee});const Oee=Sn.create({name:"commands",addCommands(){return{...Dee}}}),Pee=Sn.create({name:"drop",addProseMirrorPlugins(){return[new On({key:new Br("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Nee=Sn.create({name:"editable",addProseMirrorPlugins(){return[new On({key:new Br("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Lee=Sn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new On({key:new Br("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Bee=Sn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:p}=d,m=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,g=m.parent.type.spec.isolating,b=d.pos-d.parentOffset,w=g&&m.parent.childCount===1?b===d.pos:ke.atStart(c).from===h;return!u||!p.type.isTextblock||p.textContent.length||!w||w&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return qw()||wO()?s:i},addProseMirrorPlugins(){return[new On({key:new Br("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(g=>g.getMeta("composition")))return;const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),i=t.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=ke.atStart(e.doc).from,c=ke.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!Kw(n.doc))return;const h=n.tr,p=uh({state:n,transaction:h}),{commands:m}=new dh({editor:this.editor,state:p});if(m.clearNodes(),!!h.steps.length)return h}})]}}),Vee=Sn.create({name:"paste",addProseMirrorPlugins(){return[new On({key:new Br("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Fee=Sn.create({name:"tabindex",addProseMirrorPlugins(){return[new On({key:new Br("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class ws{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ws(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ws(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ws(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1),a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new ws(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new ws(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const $ee=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function jee(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class mse extends eZ{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=jee($ee,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=hO(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=n.filter(a=>!a.key.startsWith(o))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[Nee,mZ.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),Oee,Lee,Bee,Fee,Pee,Vee].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Wo(i,this)}createCommandManager(){this.commandManager=new dh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=Fv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=Fv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=vO(n,this.options.autofocus);this.view=new vX(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Ho.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return uee(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return dee(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Uw(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return lee(this.state.doc,{blockSeparator:n,textSerializers:{...mO(this.schema),...r}})}get isEmpty(){return Kw(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new ws(n,this)}get $doc(){return this.$pos(0)}}function xa(t){return new hh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Oe(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(xO(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const h=n.from+l+o.length;s.addMark(n.from+l,h,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function SO(t){return new hh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Oe(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function jv(t){return new hh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Oe(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function hc(t){return new hh({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Oe(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&Mw(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:h}=e,{splittableMarks:p}=t.editor.extensionManager,m=h||d.$to.parentOffset&&d.$from.marks();if(m){const g=m.filter(b=>p.includes(b.type.name));o.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&is(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}class Tn{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(re(this,"addOptions",{name:this.name}))),this.storage=Oe(re(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Tn(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>ph(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Tn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Oe(re(n,"addOptions",{name:n.name})),n.storage=Oe(re(n,"addStorage",{name:n.name,options:n.options})),n}}function Sa(t){return new cZ({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Oe(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),h=d+a.length;if(xO(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(b=>b===t.type&&b!==m.mark.type)).filter(m=>m.to>d).length)return null;h<n.to&&o.delete(h,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}const zee=/^\s*>\s$/,Uee=Tn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",pn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[hc({find:zee,type:this.type})]}}),Hee=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Wee=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,qee=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Gee=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Kee=Qi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",pn(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[xa({find:Hee,type:this.type}),xa({find:qee,type:this.type})]},addPasteRules(){return[Sa({find:Wee,type:this.type}),Sa({find:Gee,type:this.type})]}}),Yee="listItem",xC="textStyle",SC=/^\s*([-+*])\s$/,Qee=Tn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",pn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Yee,this.editor.getAttributes(xC)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=hc({find:SC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=hc({find:SC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(xC),editor:this.editor})),[t]}}),Jee=/(^|[^`])`([^`]+)`(?!`)/,Xee=/(^|[^`])`([^`]+)`(?!`)/g,Zee=Qi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",pn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[xa({find:Jee,type:this.type})]},addPasteRules(){return[Sa({find:Xee,type:this.type})]}}),ete=/^```([a-z]+)?[\s\n]$/,tte=/^~~~([a-z]+)?[\s\n]$/,nte=Tn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",pn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(ke.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[jv({find:ete,type:this.type,getAttributes:t=>({language:t[1]})}),jv({find:tte,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new On({key:new Br("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(Se.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),rte=Tn.create({name:"doc",topNode:!0,content:"block+"});function ite(t={}){return new On({view(e){return new ste(e,t)}})}class ste{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=vD(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const ote=Sn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[ite(this.options)]}});class Tt extends ke{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Tt.valid(r)?new Tt(r):ke.near(r)}content(){return ee.empty}eq(e){return e instanceof Tt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Tt(e.resolve(n.pos))}getBookmark(){return new Yw(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!ate(e)||!lte(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Tt.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(Tt.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!ye.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(Tt.valid(a))return a}return null}}}Tt.prototype.visible=!1;Tt.findFrom=Tt.findGapCursorFrom;ke.jsonID("gapcursor",Tt);class Yw{constructor(e){this.pos=e}map(e){return new Yw(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Tt.valid(n)?new Tt(n):ke.near(n)}}function ate(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function lte(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function cte(){return new On({props:{decorations:hte,createSelectionBetween(t,e,n){return e.pos==n.pos&&Tt.valid(n)?new Tt(n):null},handleClick:dte,handleKeyDown:ute,handleDOMEvents:{beforeinput:fte}}})}const ute=sO({ArrowLeft:Vu("horiz",-1),ArrowRight:Vu("horiz",1),ArrowUp:Vu("vert",-1),ArrowDown:Vu("vert",1)});function Vu(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof Se){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Tt.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Tt(c))),!0):!1}}function dte(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Tt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ye.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Tt(r))),!0)}function fte(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Tt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=K.empty;for(let o=r.length-1;o>=0;o--)i=K.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new ee(i,0,0));return s.setSelection(Se.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function hte(t){if(!(t.selection instanceof Tt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Pt.create(t.doc,[qn.widget(t.selection.head,e,{key:"gapcursor"})])}const pte=Sn.create({name:"gapCursor",addProseMirrorPlugins(){return[cte()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Oe(re(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),mte=Tn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",pn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(h=>a.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),gte=Tn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,pn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>jv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var uf=200,Ut=function(){};Ut.prototype.append=function(e){return e.length?(e=Ut.from(e),!this.length&&e||e.length<uf&&this.leafAppend(e)||this.length<uf&&e.leafPrepend(this)||this.appendInner(e)):this};Ut.prototype.prepend=function(e){return e.length?Ut.from(e).append(this):this};Ut.prototype.appendInner=function(e){return new yte(this,e)};Ut.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ut.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ut.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ut.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ut.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Ut.from=function(e){return e instanceof Ut?e:e&&e.length?new TO(e):Ut.empty};var TO=function(t){function e(r){t.call(this),this.values=r}e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=uf)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=uf)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ut);Ut.empty=new TO([]);var yte=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e.__proto__=t,e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ut);const vte=500;class ir{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,h)=>{if(!d.step){i||(i=this.remapping(r,h+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new mr(d.map));let p=d.step.map(i.slice(s)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new mr(m,void 0,void 0,c.length+u.length))),s--,m&&i.appendMap(m,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new ir(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),h=new mr(e.mapping.maps[u],d,n),p;(p=l&&l.merge(h))&&(h=p,u?s.pop():a=a.slice(0,a.length-1)),s.push(h),n&&(o++,n=void 0),i||(l=h)}let c=o-r.depth;return c>wte&&(a=bte(a,c),o-=c),new ir(a.append(s),o)}remapping(e,n){let r=new ea;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new ir(this.items.append(e.map(n=>new mr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=n;this.items.forEach(h=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let m=s.maps[p];if(h.step){let g=e.steps[p].invert(e.docs[p]),b=h.selection&&h.selection.map(s.slice(l+1,p));b&&a++,r.push(new mr(m,g,b))}else r.push(new mr(m))},i);let c=[];for(let h=n;h<o;h++)c.push(new mr(s.maps[h]));let u=this.items.slice(0,i).append(c).append(r),d=new ir(u,a);return d.emptyItemCount()>vte&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new mr(c.invert(),l,u),h,p=i.length-1;(h=i.length&&i[p].merge(d))?i[p]=h:i.push(d)}}else o.map&&r--},this.items.length,0),new ir(Ut.from(i.reverse()),s)}}ir.empty=new ir(Ut.empty,0);function bte(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class mr{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new mr(n.getMap().invert(),n,this.selection)}}}class vi{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const wte=20;function Ete(t,e,n,r){let i=n.getMeta(Fs),s;if(i)return i.historyState;n.getMeta(Tte)&&(t=new vi(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Fs))return o.getMeta(Fs).redo?new vi(t.done.addTransform(n,void 0,r,ad(e)),t.undone,TC(n.mapping.maps),t.prevTime,t.prevComposition):new vi(t.done,t.undone.addTransform(n,void 0,r,ad(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!xte(n,t.prevRanges)),c=o?zp(t.prevRanges,n.mapping):TC(n.mapping.maps);return new vi(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,ad(e)),ir.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new vi(t.done.rebased(n,s),t.undone.rebased(n,s),zp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new vi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),zp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function xte(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function TC(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function zp(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function Ste(t,e,n){let r=ad(e),i=Fs.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new vi(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Fs,{redo:n,historyState:l})}let Up=!1,CC=null;function ad(t){let e=t.plugins;if(CC!=e){Up=!1,CC=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Up=!0;break}}return Up}const Fs=new Br("history"),Tte=new Br("closeHistory");function Cte(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new On({key:Fs,state:{init(){return new vi(ir.empty,ir.empty,null,0,-1)},apply(e,n,r){return Ete(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?AO:r=="historyRedo"?kO:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function CO(t,e){return(n,r)=>{let i=Fs.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=Ste(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const AO=CO(!1,!0),kO=CO(!0,!0),Ate=Sn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>AO(t,e),redo:()=>({state:t,dispatch:e})=>kO(t,e)}},addProseMirrorPlugins(){return[Cte(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),kte=Tn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",pn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):fee(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(Se.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(ye.create(o.doc,c.pos)):o.setSelection(Se.create(o.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(o.insert(u,d),o.setSelection(Se.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[SO({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),_te=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Ite=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Rte=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Mte=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Dte=Qi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",pn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[xa({find:_te,type:this.type}),xa({find:Rte,type:this.type})]},addPasteRules(){return[Sa({find:Ite,type:this.type}),Sa({find:Mte,type:this.type})]}}),Ote=Tn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",pn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Pte="listItem",AC="textStyle",kC=/^(\d+)\.\s$/,Nte=Tn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",pn(this.options.HTMLAttributes,n),0]:["ol",pn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Pte,this.editor.getAttributes(AC)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=hc({find:kC,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=hc({find:kC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(AC)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Lte=Tn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",pn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Bte=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Vte=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Fte=Qi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",pn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[xa({find:Bte,type:this.type})]},addPasteRules(){return[Sa({find:Vte,type:this.type})]}}),$te=Tn.create({name:"text",group:"inline"}),gse=Sn.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,o,a,l,c,u,d,h,p,m,g,b,w;const A=[];return this.options.bold!==!1&&A.push(Kee.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&A.push(Uee.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&A.push(Qee.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&A.push(Zee.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&A.push(nte.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&A.push(rte.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&A.push(ote.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&A.push(pte.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&A.push(mte.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&A.push(gte.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&A.push(Ate.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&A.push(kte.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&A.push(Dte.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&A.push(Ote.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&A.push(Nte.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&A.push(Lte.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&A.push(Fte.configure((b=this.options)===null||b===void 0?void 0:b.strike)),this.options.text!==!1&&A.push($te.configure((w=this.options)===null||w===void 0?void 0:w.text)),A}}),jte=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,yse=Tn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",pn(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[SO({find:jte,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}});var Hp,_C;function _O(){if(_C)return Hp;_C=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return Hp=t,Hp}var Wp,IC;function zte(){if(IC)return Wp;IC=1;function t(){this.__data__=[],this.size=0}return Wp=t,Wp}var qp,RC;function IO(){if(RC)return qp;RC=1;function t(e,n){return e===n||e!==e&&n!==n}return qp=t,qp}var Gp,MC;function mh(){if(MC)return Gp;MC=1;var t=IO();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Gp=e,Gp}var Kp,DC;function Ute(){if(DC)return Kp;DC=1;var t=mh(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return Kp=r,Kp}var Yp,OC;function Hte(){if(OC)return Yp;OC=1;var t=mh();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Yp=e,Yp}var Qp,PC;function Wte(){if(PC)return Qp;PC=1;var t=mh();function e(n){return t(this.__data__,n)>-1}return Qp=e,Qp}var Jp,NC;function qte(){if(NC)return Jp;NC=1;var t=mh();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Jp=e,Jp}var Xp,LC;function gh(){if(LC)return Xp;LC=1;var t=zte(),e=Ute(),n=Hte(),r=Wte(),i=qte();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Xp=s,Xp}var Zp,BC;function Gte(){if(BC)return Zp;BC=1;var t=gh();function e(){this.__data__=new t,this.size=0}return Zp=e,Zp}var em,VC;function Kte(){if(VC)return em;VC=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return em=t,em}var tm,FC;function Yte(){if(FC)return tm;FC=1;function t(e){return this.__data__.get(e)}return tm=t,tm}var nm,$C;function Qte(){if($C)return nm;$C=1;function t(e){return this.__data__.has(e)}return nm=t,nm}var rm,jC;function RO(){if(jC)return rm;jC=1;var t=typeof ou=="object"&&ou&&ou.Object===Object&&ou;return rm=t,rm}var im,zC;function hr(){if(zC)return im;zC=1;var t=RO(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return im=n,im}var sm,UC;function jc(){if(UC)return sm;UC=1;var t=hr(),e=t.Symbol;return sm=e,sm}var om,HC;function Jte(){if(HC)return om;HC=1;var t=jc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var u=r.call(o);return c&&(a?o[i]=l:delete o[i]),u}return om=s,om}var am,WC;function Xte(){if(WC)return am;WC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return am=n,am}var lm,qC;function Na(){if(qC)return lm;qC=1;var t=jc(),e=Jte(),n=Xte(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return lm=o,lm}var cm,GC;function fo(){if(GC)return cm;GC=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return cm=t,cm}var um,KC;function MO(){if(KC)return um;KC=1;var t=Na(),e=fo(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==s}return um=o,um}var dm,YC;function Zte(){if(YC)return dm;YC=1;var t=hr(),e=t["__core-js_shared__"];return dm=e,dm}var fm,QC;function ene(){if(QC)return fm;QC=1;var t=Zte(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return fm=n,fm}var hm,JC;function DO(){if(JC)return hm;JC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return hm=n,hm}var pm,XC;function tne(){if(XC)return pm;XC=1;var t=MO(),e=ene(),n=fo(),r=DO(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!n(h)||e(h))return!1;var p=t(h)?u:s;return p.test(r(h))}return pm=d,pm}var mm,ZC;function nne(){if(ZC)return mm;ZC=1;function t(e,n){return e==null?void 0:e[n]}return mm=t,mm}var gm,eA;function ho(){if(eA)return gm;eA=1;var t=tne(),e=nne();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return gm=n,gm}var ym,tA;function Qw(){if(tA)return ym;tA=1;var t=ho(),e=hr(),n=t(e,"Map");return ym=n,ym}var vm,nA;function yh(){if(nA)return vm;nA=1;var t=ho(),e=t(Object,"create");return vm=e,vm}var bm,rA;function rne(){if(rA)return bm;rA=1;var t=yh();function e(){this.__data__=t?t(null):{},this.size=0}return bm=e,bm}var wm,iA;function ine(){if(iA)return wm;iA=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return wm=t,wm}var Em,sA;function sne(){if(sA)return Em;sA=1;var t=yh(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(t){var a=o[s];return a===e?void 0:a}return r.call(o,s)?o[s]:void 0}return Em=i,Em}var xm,oA;function one(){if(oA)return xm;oA=1;var t=yh(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return xm=r,xm}var Sm,aA;function ane(){if(aA)return Sm;aA=1;var t=yh(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return Sm=n,Sm}var Tm,lA;function lne(){if(lA)return Tm;lA=1;var t=rne(),e=ine(),n=sne(),r=one(),i=ane();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Tm=s,Tm}var Cm,cA;function cne(){if(cA)return Cm;cA=1;var t=lne(),e=gh(),n=Qw();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Cm=r,Cm}var Am,uA;function une(){if(uA)return Am;uA=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Am=t,Am}var km,dA;function vh(){if(dA)return km;dA=1;var t=une();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return km=e,km}var _m,fA;function dne(){if(fA)return _m;fA=1;var t=vh();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return _m=e,_m}var Im,hA;function fne(){if(hA)return Im;hA=1;var t=vh();function e(n){return t(this,n).get(n)}return Im=e,Im}var Rm,pA;function hne(){if(pA)return Rm;pA=1;var t=vh();function e(n){return t(this,n).has(n)}return Rm=e,Rm}var Mm,mA;function pne(){if(mA)return Mm;mA=1;var t=vh();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return Mm=e,Mm}var Dm,gA;function OO(){if(gA)return Dm;gA=1;var t=cne(),e=dne(),n=fne(),r=hne(),i=pne();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Dm=s,Dm}var Om,yA;function mne(){if(yA)return Om;yA=1;var t=gh(),e=Qw(),n=OO(),r=200;function i(s,o){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return Om=i,Om}var Pm,vA;function gne(){if(vA)return Pm;vA=1;var t=gh(),e=Gte(),n=Kte(),r=Yte(),i=Qte(),s=mne();function o(a){var l=this.__data__=new t(a);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,Pm=o,Pm}var Nm,bA;function yne(){if(bA)return Nm;bA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return Nm=t,Nm}var Lm,wA;function PO(){if(wA)return Lm;wA=1;var t=ho(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Lm=e,Lm}var Bm,EA;function NO(){if(EA)return Bm;EA=1;var t=PO();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Bm=e,Bm}var Vm,xA;function LO(){if(xA)return Vm;xA=1;var t=NO(),e=IO(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&e(l,a))||a===void 0&&!(o in s))&&t(s,o,a)}return Vm=i,Vm}var Fm,SA;function zc(){if(SA)return Fm;SA=1;var t=LO(),e=NO();function n(r,i,s,o){var a=!s;s||(s={});for(var l=-1,c=i.length;++l<c;){var u=i[l],d=o?o(s[u],r[u],u,s,r):void 0;d===void 0&&(d=r[u]),a?e(s,u,d):t(s,u,d)}return s}return Fm=n,Fm}var $m,TA;function vne(){if(TA)return $m;TA=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return $m=t,$m}var jm,CA;function po(){if(CA)return jm;CA=1;function t(e){return e!=null&&typeof e=="object"}return jm=t,jm}var zm,AA;function bne(){if(AA)return zm;AA=1;var t=Na(),e=po(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return zm=r,zm}var Um,kA;function BO(){if(kA)return Um;kA=1;var t=bne(),e=po(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Um=s,Um}var Hm,_A;function mo(){if(_A)return Hm;_A=1;var t=Array.isArray;return Hm=t,Hm}var vl={exports:{}},Wm,IA;function wne(){if(IA)return Wm;IA=1;function t(){return!1}return Wm=t,Wm}vl.exports;var RA;function VO(){return RA||(RA=1,function(t,e){var n=hr(),r=wne(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c}(vl,vl.exports)),vl.exports}var qm,MA;function Ene(){if(MA)return qm;MA=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return qm=n,qm}var Gm,DA;function FO(){if(DA)return Gm;DA=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Gm=e,Gm}var Km,OA;function xne(){if(OA)return Km;OA=1;var t=Na(),e=FO(),n=po(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",h="[object RegExp]",p="[object Set]",m="[object String]",g="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",A="[object Float32Array]",C="[object Float64Array]",I="[object Int8Array]",P="[object Int16Array]",O="[object Int32Array]",S="[object Uint8Array]",x="[object Uint8ClampedArray]",T="[object Uint16Array]",v="[object Uint32Array]",k={};k[A]=k[C]=k[I]=k[P]=k[O]=k[S]=k[x]=k[T]=k[v]=!0,k[r]=k[i]=k[b]=k[s]=k[w]=k[o]=k[a]=k[l]=k[c]=k[u]=k[d]=k[h]=k[p]=k[m]=k[g]=!1;function M(_){return n(_)&&e(_.length)&&!!k[t(_)]}return Km=M,Km}var Ym,PA;function Jw(){if(PA)return Ym;PA=1;function t(e){return function(n){return e(n)}}return Ym=t,Ym}var bl={exports:{}};bl.exports;var NA;function Xw(){return NA||(NA=1,function(t,e){var n=RO(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a}(bl,bl.exports)),bl.exports}var Qm,LA;function Sne(){if(LA)return Qm;LA=1;var t=xne(),e=Jw(),n=Xw(),r=n&&n.isTypedArray,i=r?e(r):t;return Qm=i,Qm}var Jm,BA;function $O(){if(BA)return Jm;BA=1;var t=vne(),e=BO(),n=mo(),r=VO(),i=Ene(),s=Sne(),o=Object.prototype,a=o.hasOwnProperty;function l(c,u){var d=n(c),h=!d&&e(c),p=!d&&!h&&r(c),m=!d&&!h&&!p&&s(c),g=d||h||p||m,b=g?t(c.length,String):[],w=b.length;for(var A in c)(u||a.call(c,A))&&!(g&&(A=="length"||p&&(A=="offset"||A=="parent")||m&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,w)))&&b.push(A);return b}return Jm=l,Jm}var Xm,VA;function Zw(){if(VA)return Xm;VA=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Xm=e,Xm}var Zm,FA;function jO(){if(FA)return Zm;FA=1;function t(e,n){return function(r){return e(n(r))}}return Zm=t,Zm}var eg,$A;function Tne(){if($A)return eg;$A=1;var t=jO(),e=t(Object.keys,Object);return eg=e,eg}var tg,jA;function Cne(){if(jA)return tg;jA=1;var t=Zw(),e=Tne(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return tg=i,tg}var ng,zA;function zO(){if(zA)return ng;zA=1;var t=MO(),e=FO();function n(r){return r!=null&&e(r.length)&&!t(r)}return ng=n,ng}var rg,UA;function e0(){if(UA)return rg;UA=1;var t=$O(),e=Cne(),n=zO();function r(i){return n(i)?t(i):e(i)}return rg=r,rg}var ig,HA;function Ane(){if(HA)return ig;HA=1;var t=zc(),e=e0();function n(r,i){return r&&t(i,e(i),r)}return ig=n,ig}var sg,WA;function kne(){if(WA)return sg;WA=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return sg=t,sg}var og,qA;function _ne(){if(qA)return og;qA=1;var t=fo(),e=Zw(),n=kne(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!t(o))return n(o);var a=e(o),l=[];for(var c in o)c=="constructor"&&(a||!i.call(o,c))||l.push(c);return l}return og=s,og}var ag,GA;function t0(){if(GA)return ag;GA=1;var t=$O(),e=_ne(),n=zO();function r(i){return n(i)?t(i,!0):e(i)}return ag=r,ag}var lg,KA;function Ine(){if(KA)return lg;KA=1;var t=zc(),e=t0();function n(r,i){return r&&t(i,e(i),r)}return lg=n,lg}var wl={exports:{}};wl.exports;var YA;function Rne(){return YA||(YA=1,function(t,e){var n=hr(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,h=a?a(d):new c.constructor(d);return c.copy(h),h}t.exports=l}(wl,wl.exports)),wl.exports}var cg,QA;function Mne(){if(QA)return cg;QA=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return cg=t,cg}var ug,JA;function Dne(){if(JA)return ug;JA=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,o=[];++r<i;){var a=e[r];n(a,r,e)&&(o[s++]=a)}return o}return ug=t,ug}var dg,XA;function UO(){if(XA)return dg;XA=1;function t(){return[]}return dg=t,dg}var fg,ZA;function n0(){if(ZA)return fg;ZA=1;var t=Dne(),e=UO(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(a){return r.call(o,a)}))}:e;return fg=s,fg}var hg,ek;function One(){if(ek)return hg;ek=1;var t=zc(),e=n0();function n(r,i){return t(r,e(r),i)}return hg=n,hg}var pg,tk;function r0(){if(tk)return pg;tk=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return pg=t,pg}var mg,nk;function i0(){if(nk)return mg;nk=1;var t=jO(),e=t(Object.getPrototypeOf,Object);return mg=e,mg}var gg,rk;function HO(){if(rk)return gg;rk=1;var t=r0(),e=i0(),n=n0(),r=UO(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)t(a,n(o)),o=e(o);return a}:r;return gg=s,gg}var yg,ik;function Pne(){if(ik)return yg;ik=1;var t=zc(),e=HO();function n(r,i){return t(r,e(r),i)}return yg=n,yg}var vg,sk;function WO(){if(sk)return vg;sk=1;var t=r0(),e=mo();function n(r,i,s){var o=i(r);return e(r)?o:t(o,s(r))}return vg=n,vg}var bg,ok;function Nne(){if(ok)return bg;ok=1;var t=WO(),e=n0(),n=e0();function r(i){return t(i,n,e)}return bg=r,bg}var wg,ak;function qO(){if(ak)return wg;ak=1;var t=WO(),e=HO(),n=t0();function r(i){return t(i,n,e)}return wg=r,wg}var Eg,lk;function Lne(){if(lk)return Eg;lk=1;var t=ho(),e=hr(),n=t(e,"DataView");return Eg=n,Eg}var xg,ck;function Bne(){if(ck)return xg;ck=1;var t=ho(),e=hr(),n=t(e,"Promise");return xg=n,xg}var Sg,uk;function Vne(){if(uk)return Sg;uk=1;var t=ho(),e=hr(),n=t(e,"Set");return Sg=n,Sg}var Tg,dk;function Fne(){if(dk)return Tg;dk=1;var t=ho(),e=hr(),n=t(e,"WeakMap");return Tg=n,Tg}var Cg,fk;function s0(){if(fk)return Cg;fk=1;var t=Lne(),e=Qw(),n=Bne(),r=Vne(),i=Fne(),s=Na(),o=DO(),a="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",h="[object DataView]",p=o(t),m=o(e),g=o(n),b=o(r),w=o(i),A=s;return(t&&A(new t(new ArrayBuffer(1)))!=h||e&&A(new e)!=a||n&&A(n.resolve())!=c||r&&A(new r)!=u||i&&A(new i)!=d)&&(A=function(C){var I=s(C),P=I==l?C.constructor:void 0,O=P?o(P):"";if(O)switch(O){case p:return h;case m:return a;case g:return c;case b:return u;case w:return d}return I}),Cg=A,Cg}var Ag,hk;function $ne(){if(hk)return Ag;hk=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return Ag=n,Ag}var kg,pk;function jne(){if(pk)return kg;pk=1;var t=hr(),e=t.Uint8Array;return kg=e,kg}var _g,mk;function o0(){if(mk)return _g;mk=1;var t=jne();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return _g=e,_g}var Ig,gk;function zne(){if(gk)return Ig;gk=1;var t=o0();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Ig=e,Ig}var Rg,yk;function Une(){if(yk)return Rg;yk=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return Rg=e,Rg}var Mg,vk;function Hne(){if(vk)return Mg;vk=1;var t=jc(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Mg=r,Mg}var Dg,bk;function Wne(){if(bk)return Dg;bk=1;var t=o0();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Dg=e,Dg}var Og,wk;function qne(){if(wk)return Og;wk=1;var t=o0(),e=zne(),n=Une(),r=Hne(),i=Wne(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",c="[object RegExp]",u="[object Set]",d="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",m="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",I="[object Uint8Array]",P="[object Uint8ClampedArray]",O="[object Uint16Array]",S="[object Uint32Array]";function x(T,v,k){var M=T.constructor;switch(v){case p:return t(T);case s:case o:return new M(+T);case m:return e(T,k);case g:case b:case w:case A:case C:case I:case P:case O:case S:return i(T,k);case a:return new M;case l:case d:return new M(T);case c:return n(T);case u:return new M;case h:return r(T)}}return Og=x,Og}var Pg,Ek;function Gne(){if(Ek)return Pg;Ek=1;var t=fo(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return Pg=n,Pg}var Ng,xk;function Kne(){if(xk)return Ng;xk=1;var t=Gne(),e=i0(),n=Zw();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return Ng=r,Ng}var Lg,Sk;function Yne(){if(Sk)return Lg;Sk=1;var t=s0(),e=po(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return Lg=r,Lg}var Bg,Tk;function Qne(){if(Tk)return Bg;Tk=1;var t=Yne(),e=Jw(),n=Xw(),r=n&&n.isMap,i=r?e(r):t;return Bg=i,Bg}var Vg,Ck;function Jne(){if(Ck)return Vg;Ck=1;var t=s0(),e=po(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return Vg=r,Vg}var Fg,Ak;function Xne(){if(Ak)return Fg;Ak=1;var t=Jne(),e=Jw(),n=Xw(),r=n&&n.isSet,i=r?e(r):t;return Fg=i,Fg}var $g,kk;function Zne(){if(kk)return $g;kk=1;var t=gne(),e=yne(),n=LO(),r=Ane(),i=Ine(),s=Rne(),o=Mne(),a=One(),l=Pne(),c=Nne(),u=qO(),d=s0(),h=$ne(),p=qne(),m=Kne(),g=mo(),b=VO(),w=Qne(),A=fo(),C=Xne(),I=e0(),P=t0(),O=1,S=2,x=4,T="[object Arguments]",v="[object Array]",k="[object Boolean]",M="[object Date]",_="[object Error]",W="[object Function]",$="[object GeneratorFunction]",U="[object Map]",G="[object Number]",B="[object Object]",z="[object RegExp]",Q="[object Set]",ae="[object String]",ce="[object Symbol]",oe="[object WeakMap]",pe="[object ArrayBuffer]",fe="[object DataView]",te="[object Float32Array]",ve="[object Float64Array]",Te="[object Int8Array]",De="[object Int16Array]",me="[object Int32Array]",xe="[object Uint8Array]",ge="[object Uint8ClampedArray]",ze="[object Uint16Array]",be="[object Uint32Array]",ie={};ie[T]=ie[v]=ie[pe]=ie[fe]=ie[k]=ie[M]=ie[te]=ie[ve]=ie[Te]=ie[De]=ie[me]=ie[U]=ie[G]=ie[B]=ie[z]=ie[Q]=ie[ae]=ie[ce]=ie[xe]=ie[ge]=ie[ze]=ie[be]=!0,ie[_]=ie[W]=ie[oe]=!1;function rt(ue,$e,lt,Ue,Ve,ne){var qe,Ze=$e&O,Ot=$e&S,et=$e&x;if(lt&&(qe=Ve?lt(ue,Ue,Ve,ne):lt(ue)),qe!==void 0)return qe;if(!A(ue))return ue;var Ge=g(ue);if(Ge){if(qe=h(ue),!Ze)return o(ue,qe)}else{var yt=d(ue),Lt=yt==W||yt==$;if(b(ue))return s(ue,Ze);if(yt==B||yt==T||Lt&&!Ve){if(qe=Ot||Lt?{}:m(ue),!Ze)return Ot?l(ue,i(qe,ue)):a(ue,r(qe,ue))}else{if(!ie[yt])return Ve?ue:{};qe=p(ue,yt,Ze)}}ne||(ne=new t);var Ht=ne.get(ue);if(Ht)return Ht;ne.set(ue,qe),C(ue)?ue.forEach(function(ut){qe.add(rt(ut,$e,lt,ut,ue,ne))}):w(ue)&&ue.forEach(function(ut,dt){qe.set(dt,rt(ut,$e,lt,dt,ue,ne))});var _e=et?Ot?u:c:Ot?P:I,At=Ge?void 0:_e(ue);return e(At||ue,function(ut,dt){At&&(dt=ut,ut=ue[dt]),n(qe,dt,rt(ut,$e,lt,dt,ue,ne))}),qe}return $g=rt,$g}var jg,_k;function bh(){if(_k)return jg;_k=1;var t=Na(),e=po(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return jg=r,jg}var zg,Ik;function ere(){if(Ik)return zg;Ik=1;var t=mo(),e=bh(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(t(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return zg=i,zg}var Ug,Rk;function tre(){if(Rk)return Ug;Rk=1;var t=OO(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var c=r.apply(this,o);return s.cache=l.set(a,c)||l,c};return s.cache=new(n.Cache||t),s}return n.Cache=t,Ug=n,Ug}var Hg,Mk;function nre(){if(Mk)return Hg;Mk=1;var t=tre(),e=500;function n(r){var i=t(r,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return Hg=n,Hg}var Wg,Dk;function rre(){if(Dk)return Wg;Dk=1;var t=nre(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,a,l,c){s.push(l?c.replace(n,"$1"):a||o)}),s});return Wg=r,Wg}var qg,Ok;function ire(){if(Ok)return qg;Ok=1;var t=jc(),e=_O(),n=mo(),r=bh(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return e(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return qg=o,qg}var Gg,Pk;function sre(){if(Pk)return Gg;Pk=1;var t=ire();function e(n){return n==null?"":t(n)}return Gg=e,Gg}var Kg,Nk;function a0(){if(Nk)return Kg;Nk=1;var t=mo(),e=ere(),n=rre(),r=sre();function i(s,o){return t(s)?s:e(s,o)?[s]:n(r(s))}return Kg=i,Kg}var Yg,Lk;function ore(){if(Lk)return Yg;Lk=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Yg=t,Yg}var Qg,Bk;function GO(){if(Bk)return Qg;Bk=1;var t=bh();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Qg=e,Qg}var Jg,Vk;function are(){if(Vk)return Jg;Vk=1;var t=a0(),e=GO();function n(r,i){i=t(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[e(i[s++])];return s&&s==o?r:void 0}return Jg=n,Jg}var Xg,Fk;function lre(){if(Fk)return Xg;Fk=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+n];return o}return Xg=t,Xg}var Zg,$k;function cre(){if($k)return Zg;$k=1;var t=are(),e=lre();function n(r,i){return i.length<2?r:t(r,e(i,0,-1))}return Zg=n,Zg}var ey,jk;function ure(){if(jk)return ey;jk=1;var t=a0(),e=ore(),n=cre(),r=GO();function i(s,o){return o=t(o,s),s=n(s,o),s==null||delete s[r(e(o))]}return ey=i,ey}var ty,zk;function dre(){if(zk)return ty;zk=1;var t=Na(),e=i0(),n=po(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,a=s.hasOwnProperty,l=o.call(Object);function c(u){if(!n(u)||t(u)!=r)return!1;var d=e(u);if(d===null)return!0;var h=a.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==l}return ty=c,ty}var ny,Uk;function fre(){if(Uk)return ny;Uk=1;var t=dre();function e(n){return t(n)?void 0:n}return ny=e,ny}var ry,Hk;function hre(){if(Hk)return ry;Hk=1;var t=jc(),e=BO(),n=mo(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return ry=i,ry}var iy,Wk;function pre(){if(Wk)return iy;Wk=1;var t=r0(),e=hre();function n(r,i,s,o,a){var l=-1,c=r.length;for(s||(s=e),a||(a=[]);++l<c;){var u=r[l];i>0&&s(u)?i>1?n(u,i-1,s,o,a):t(a,u):o||(a[a.length]=u)}return a}return iy=n,iy}var sy,qk;function mre(){if(qk)return sy;qk=1;var t=pre();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return sy=e,sy}var oy,Gk;function gre(){if(Gk)return oy;Gk=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return oy=t,oy}var ay,Kk;function yre(){if(Kk)return ay;Kk=1;var t=gre(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=e(o.length-i,0),c=Array(l);++a<l;)c[a]=o[i+a];a=-1;for(var u=Array(i+1);++a<i;)u[a]=o[a];return u[i]=s(c),t(r,this,u)}}return ay=n,ay}var ly,Yk;function vre(){if(Yk)return ly;Yk=1;function t(e){return function(){return e}}return ly=t,ly}var cy,Qk;function bre(){if(Qk)return cy;Qk=1;function t(e){return e}return cy=t,cy}var uy,Jk;function wre(){if(Jk)return uy;Jk=1;var t=vre(),e=PO(),n=bre(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return uy=r,uy}var dy,Xk;function Ere(){if(Xk)return dy;Xk=1;var t=800,e=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=e-(a-o);if(o=a,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return dy=r,dy}var fy,Zk;function xre(){if(Zk)return fy;Zk=1;var t=wre(),e=Ere(),n=e(t);return fy=n,fy}var hy,e_;function Sre(){if(e_)return hy;e_=1;var t=mre(),e=yre(),n=xre();function r(i){return n(e(i,void 0,t),i+"")}return hy=r,hy}var py,t_;function Tre(){if(t_)return py;t_=1;var t=_O(),e=Zne(),n=ure(),r=a0(),i=zc(),s=fre(),o=Sre(),a=qO(),l=1,c=2,u=4,d=o(function(h,p){var m={};if(h==null)return m;var g=!1;p=t(p,function(w){return w=r(w,h),g||(g=w.length>1),w}),i(h,a(h),m),g&&(m=e(m,l|c|u,s));for(var b=p.length;b--;)n(m,p[b]);return m});return py=d,py}var Cre=Tre();const Oo=hf(Cre),df={TABLE_ELEMENT:1,MENU_BAR:2,NOTCHED_OUTLINE:2};function KO(t){const e=Object.keys(t.typography.h1).some(r=>r.includes("@media")),n=Ca`
    0%, 95% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  `;return{...Oo(t.typography.body1,["lineHeight"]),"&:focus":{outline:"none"},"& h1":{fontFamily:t.typography.h3.fontFamily,fontWeight:"bold",...e?{fontSize:`${(1.5625*1.2).toFixed(4)}rem`,[t.breakpoints.up("sm")]:{fontSize:`${(1.8219*1.2).toFixed(4)}rem`},[t.breakpoints.up("md")]:{fontSize:`${(2.0243*1.2).toFixed(4)}rem`},[t.breakpoints.up("lg")]:{fontSize:`${(2.0243*1.2).toFixed(4)}rem`}}:{fontSize:`${(2.0243*1.2).toFixed(4)}rem`}},"& h2":{...Oo(t.typography.h4,["lineHeight"]),fontWeight:500},"& h3":{...Oo(t.typography.h5,["lineHeight"]),fontWeight:500},"& h4":{...Oo(t.typography.h6,["lineHeight"]),fontWeight:500},"& h5":{...Oo(t.typography.subtitle1,["lineHeight"]),fontWeight:500},"& h6":{...Oo(t.typography.subtitle2,["lineHeight"]),fontWeight:500},"& h1, & h2, & h3, & h4, & h5, & h6, & p":{marginBlockStart:0,marginBlockEnd:0},'& a:not([data-type="mention"])':{color:t.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},"& ul, & ol":{marginBlockStart:0,marginBlockEnd:0},"& ol":{listStyleType:"decimal","& ol":{listStyleType:"lower-alpha","& ol":{listStyleType:"lower-roman","& ol":{listStyleType:"decimal","& ol":{listStyleType:"lower-alpha","& ol":{listStyleType:"lower-roman"}}}}}},"& ul":{listStyleType:"disc","& ul":{listStyleType:"circle","& ul":{listStyleType:"square","& ul":{listStyleType:"disc","& ul":{listStyleType:"circle","& ul":{listStyleType:"square"}}}}}},'& ul[data-type="taskList"]':{listStyle:"none",padding:0,"& li":{display:"flex","& > label":{flex:"0 0 auto",marginRight:"0.5rem",userSelect:"none"},"& > div":{flex:"1 1 auto"}}},"& blockquote":{paddingLeft:"1rem",marginInlineStart:t.spacing(1),marginInlineEnd:t.spacing(1),position:"relative","&:before":{position:"absolute",top:0,bottom:0,left:0,display:"block",width:4,borderRadius:t.shape.borderRadius,background:t.palette.text.disabled,content:'""'}},"& :not(pre) > code":{padding:"2px 3px 1px",borderWidth:1,borderStyle:"solid",borderColor:t.palette.divider,borderRadius:3,backgroundColor:t.palette.action.hover,color:t.palette.mode==="dark"?t.palette.secondary.main:Ul(t.palette.secondary.dark,.1)},"& pre":{marginTop:t.spacing(.5),marginBottom:t.spacing(.5),padding:t.spacing(1),borderWidth:1,borderStyle:"solid",borderColor:t.palette.divider,borderRadius:t.shape.borderRadius,background:t.palette.action.hover,lineHeight:1.4,overflowX:"auto",whiteSpace:"pre !important"},'& [data-type="mention"]':{padding:"0 0.25rem",lineHeight:"1.3em",borderRadius:t.shape.borderRadius,color:t.palette.primary.main,background:t.palette.mode==="dark"?We(Ul(t.palette.primary.dark,.7),.5):We(Rf(t.palette.primary.light,.6),.3),textDecoration:"none"},"& img:not(.ProseMirror-separator)":{maxWidth:"100%",height:"auto",display:"inline-flex",...Are(t),"&.ProseMirror-selectednode":{outline:`3px solid ${t.palette.primary.main}`}},"& hr":{borderWidth:0,borderTopWidth:"thin",borderStyle:"solid",borderColor:t.palette.text.secondary,"&.ProseMirror-selectednode":{borderColor:t.palette.primary.main}},"& table":{borderCollapse:"collapse",tableLayout:"fixed",margin:0,overflowY:"hidden",overflowX:"auto",display:"block","& td, th":{minWidth:"1em",borderWidth:1,borderStyle:"solid",borderColor:t.palette.mode==="dark"?t.palette.grey[500]:t.palette.grey[400],padding:"3px 5px",verticalAlign:"top",boxSizing:"border-box",position:"relative","& > *":{marginBottom:0}},"& th":{fontWeight:500,textAlign:"left",backgroundColor:t.palette.action.selected}},"& .tableWrapper":{overflowX:"auto","& table":{overflow:"hidden",display:"table"}},"& .selectedCell:after":{zIndex:df.TABLE_ELEMENT,position:"absolute",content:'""',left:0,right:0,top:0,bottom:0,background:"rgba(200, 200, 255, 0.4)",pointerEvents:"none"},'&[contenteditable="true"]':{"& .column-resize-handle":{position:"absolute",right:-2,top:-1,bottom:-2,width:4,zIndex:df.TABLE_ELEMENT,backgroundColor:t.palette.primary.light,pointerEvents:"none"},"&.resize-cursor":{cursor:"col-resize"}},'&[contenteditable="false"]':{"& .column-resize-handle":{display:"none"},"&.resize-cursor":{pointerEvents:"none"}},"& p.is-editor-empty:first-of-type::before":{color:t.palette.text.disabled,content:"attr(data-placeholder)",float:"left",height:0,pointerEvents:"none"},"& .ProseMirror-gapcursor:after":{borderColor:t.palette.text.primary},"& .collaboration-cursor__caret":{borderLeft:"1px solid #0d0d0d",borderRight:"1px solid #0d0d0d",marginLeft:"-1px",marginRight:"-1px",position:"relative",wordBreak:"normal",cursor:"text","&:after":{position:"absolute",content:'""',left:-3,right:0,top:-2,borderWidth:3,borderStyle:"solid",borderColor:"inherit"},"&:hover .collaboration-cursor__label":{opacity:1,transition:t.transitions.create("opacity",{delay:0,duration:100,easing:"linear"})}},"& .collaboration-cursor__label":{borderRadius:"3px 3px 3px 0",color:"#0d0d0d",fontSize:12,fontStyle:"normal",fontWeight:600,fontFamily:t.typography.body1.fontFamily,left:-1,lineHeight:"normal",padding:"0.1rem 0.3rem",position:"absolute",top:"-1.4em",userSelect:"none",whiteSpace:"nowrap",pointerEvents:"none",opacity:0,transition:t.transitions.create("opacity",{delay:500,duration:100,easing:"linear"}),animation:`${n} 3s linear 1`}}}function Are(t){if(t.palette.mode!=="dark")return{};const e=t.palette.grey[200];return{backgroundColor:e,color:t.palette.getContrastText(e)}}const kre="MuiTiptap-";function _re(t,e){return`${kre}${t}-${e}`}function wh(t,e){const n={};return e.forEach(r=>{n[r]=_re(t,r)}),n}const YO=D.createContext(void 0);function Uc(){const t=D.useContext(YO);if(t===void 0)throw new Error("Tiptap editor not found in component context. Be sure to use <RichTextEditorProvider editor={editor} />!");return t}var my,n_;function Ire(){if(n_)return my;n_=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return my=e,my}var gy,r_;function Rre(){if(r_)return gy;r_=1;var t=Ire(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return gy=n,gy}var yy,i_;function Mre(){if(i_)return yy;i_=1;var t=Rre(),e=fo(),n=bh(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=t(c);var d=s.test(c);return d||o.test(c)?a(c.slice(2),d?2:8):i.test(c)?r:+c}return yy=l,yy}const vy=wh("MenuBar",["root","sticky","nonSticky","content"]),Dre=Pr({name:{MenuBar:QO}})((t,{stickyOffset:e})=>({root:{borderBottomColor:t.palette.divider,borderBottomStyle:"solid",borderBottomWidth:1},sticky:{position:"sticky",top:e??0,zIndex:df.MENU_BAR,background:t.palette.background.default},nonSticky:{},content:{}}));function QO({hide:t,disableSticky:e,stickyOffset:n,children:r,className:i,classes:s}){const{classes:o,cx:a}=Dre({stickyOffset:n},{props:{classes:s}});return N.jsx(By,{in:!t,unmountOnExit:!0,className:a(vy.root,o.root,e?[vy.nonSticky,o.nonSticky]:[vy.sticky,o.sticky],i),children:N.jsx("div",{className:o.content,children:r})})}const Ore=Pr({name:{MenuDivider:Pre}})(t=>({root:{height:18,margin:t.spacing(0,.5)}}));function Pre(t){const{classes:e,cx:n}=Ore();return N.jsx(Hy,{orientation:"vertical",...t,className:n(e.root,t.className)})}const by=wh("RichTextContent",["root","readonly","editable"]),Nre=Pr({name:{RichTextContent:JO}})(t=>({root:{"& .ProseMirror":{...KO(t)}},readonly:{},editable:{}}));function JO({className:t,classes:e={}}){const{classes:n,cx:r}=Nre(void 0,{props:{classes:e}}),i=Uc(),s=D.useMemo(()=>r(by.root,t,n.root,i!=null&&i.isEditable?[by.editable,n.editable]:[by.readonly,n.readonly]),[t,n,r,i==null?void 0:i.isEditable]);return N.jsx(i$,{className:s,component:LP,editor:i})}function vse({editor:t,children:e}){return N.jsx(YO.Provider,{value:t,children:e})}const Po=wh("FieldContainer",["root","outlined","standard","focused","disabled","notchedOutline"]),Lre=Pr({name:{FieldContainer:XO},uniqId:"Os7ZPW"})((t,e,n)=>({root:{},outlined:{borderRadius:t.shape.borderRadius,padding:1,position:"relative",[`&:hover .${n.notchedOutline}`]:{borderColor:t.palette.text.primary},[`&.${n.focused} .${n.notchedOutline}`]:{borderColor:t.palette.primary.main,borderWidth:2},[`&.${n.disabled} .${n.notchedOutline}`]:{borderColor:t.palette.action.disabled}},standard:{},focused:{},disabled:{},notchedOutline:{position:"absolute",inset:0,borderRadius:"inherit",borderColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",borderStyle:"solid",borderWidth:1,pointerEvents:"none",overflow:"hidden",zIndex:df.NOTCHED_OUTLINE}}));function XO({variant:t="outlined",children:e,focused:n,disabled:r,classes:i={},className:s}){const{classes:o,cx:a}=Lre(void 0,{props:{classes:i}});return N.jsxs("div",{className:a(Po.root,o.root,t==="outlined"?[Po.outlined,o.outlined]:[Po.standard,o.standard],n&&[Po.focused,o.focused],r&&[Po.disabled,o.disabled],s),children:[e,t==="outlined"&&N.jsx("div",{className:a(Po.notchedOutline,o.notchedOutline),"aria-hidden":!0})]})}var wy,s_;function Bre(){if(s_)return wy;s_=1;var t=hr(),e=function(){return t.Date.now()};return wy=e,wy}var Ey,o_;function Vre(){if(o_)return Ey;o_=1;var t=fo(),e=Bre(),n=Mre(),r="Expected a function",i=Math.max,s=Math.min;function o(a,l,c){var u,d,h,p,m,g,b=0,w=!1,A=!1,C=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,t(c)&&(w=!!c.leading,A="maxWait"in c,h=A?i(n(c.maxWait)||0,l):h,C="trailing"in c?!!c.trailing:C);function I(_){var W=u,$=d;return u=d=void 0,b=_,p=a.apply($,W),p}function P(_){return b=_,m=setTimeout(x,l),w?I(_):p}function O(_){var W=_-g,$=_-b,U=l-W;return A?s(U,h-$):U}function S(_){var W=_-g,$=_-b;return g===void 0||W>=l||W<0||A&&$>=h}function x(){var _=e();if(S(_))return T(_);m=setTimeout(x,O(_))}function T(_){return m=void 0,C&&u?I(_):(u=d=void 0,p)}function v(){m!==void 0&&clearTimeout(m),b=0,u=g=d=m=void 0}function k(){return m===void 0?p:T(e())}function M(){var _=e(),W=S(_);if(u=arguments,d=this,g=_,W){if(m===void 0)return P(g);if(A)return clearTimeout(m),m=setTimeout(x,l),I(g)}return m===void 0&&(m=setTimeout(x,l)),p}return M.cancel=v,M.flush=k,M}return Ey=o,Ey}var Fre=Vre();const ZO=hf(Fre);function $re({editor:t,wait:e=250}){const[n,r]=D.useState(!!(t!=null&&t.isFocused)),i=D.useMemo(()=>ZO(s=>{r(s)},e),[e]);return D.useEffect(()=>{const s=!!(t!=null&&t.isFocused);return i(s),s&&i.flush(),()=>{i.cancel()}},[t==null?void 0:t.isFocused,i]),n}class eP extends D.Component{constructor(e){var n,r;super(e),this.updateDebounced=ZO(this.forceUpdate,(n=e.wait)!==null&&n!==void 0?n:170,(r=e.options)!==null&&r!==void 0?r:{leading:!0,trailing:!0,maxWait:300})}shouldComponentUpdate(){return this.updateDebounced(),!1}componentWillUnmount(){this.updateDebounced.cancel()}render(){return this.props.children}}const No=wh("RichTextField",["root","standard","outlined","menuBar","menuBarContent","content"]),jre=Pr({name:{RichTextField:zre},uniqId:"E2Alw3"})((t,e,n)=>({root:{},standard:{[`& .${n.content}`]:{padding:t.spacing(1.5,0)},[`& .${n.menuBarContent}`]:{padding:t.spacing(1,0)}},outlined:{[`& .${n.content}`]:{padding:t.spacing(1.5)},[`& .${n.menuBarContent}`]:{padding:t.spacing(1,1.5)}},menuBar:{},menuBarContent:{},content:{}}));function zre({variant:t="outlined",controls:e,disableDebounceRenderControls:n=!1,disabled:r,className:i,classes:s={},footer:o,MenuBarProps:a,RichTextContentProps:l}){var c,u;const{classes:d,cx:h}=jre(void 0,{props:{classes:s}}),p=Uc(),m=$re({editor:p});return N.jsxs(XO,{variant:t,focused:!r&&m,disabled:r,className:h(No.root,d.root,t==="outlined"?[No.outlined,d.outlined]:[No.standard,d.standard],i),children:[e&&N.jsx(QO,{...a,classes:{...a==null?void 0:a.classes,root:h(No.menuBar,d.menuBar,(c=a==null?void 0:a.classes)===null||c===void 0?void 0:c.root),content:h(No.content,d.menuBarContent,(u=a==null?void 0:a.classes)===null||u===void 0?void 0:u.content)},children:n?e:N.jsx(eP,{children:e})}),N.jsx(JO,{...l,className:h(No.content,d.content,l==null?void 0:l.className)}),o]})}let xy;function Ure(){return xy===void 0&&(xy=navigator.platform.includes("Mac")),xy}function Hre(){return Ure()?"⌘":"Ctrl"}const Wre=Pr({name:{MenuButtonTooltip:yr}})(t=>({titleContainer:{textAlign:"center"},label:{fontSize:t.typography.pxToRem(13)},shortcutKey:{fontSize:t.typography.pxToRem(12),border:`1px solid ${We(t.palette.text.secondary,.2)}`,backgroundColor:We(t.palette.background.paper,.3),height:"19px",lineHeight:"19px",padding:"0 4px",minWidth:17,borderRadius:t.shape.borderRadius,display:"inline-block","&:not(:first-of-type)":{marginLeft:1}}}));function yr({label:t,shortcutKeys:e,placement:n="top",contentWrapperClassName:r,children:i,...s}){const{classes:o}=Wre();return N.jsx(Xz,{title:t||e&&e.length>0?N.jsxs("div",{className:o.titleContainer,children:[N.jsx("div",{className:o.label,children:t}),e&&e.length>0&&N.jsx(xs,{variant:"body2",component:"div",children:e.map((a,l)=>N.jsx("span",{className:o.shortcutKey,children:a==="mod"?Hre():a},l))})]}):"",placement:n,arrow:!0,...s,children:N.jsx("span",{className:r,children:i})})}const qre="1.25rem",Gre=Pr({name:{MenuButton:l0}})({root:{[`&& .${qu.root}`]:{border:"none",padding:5}},menuButtonIcon:{fontSize:qre}});function l0({tooltipLabel:t,tooltipShortcutKeys:e,IconComponent:n,buttonRef:r,children:i,...s}){const{classes:o}=Gre();return N.jsx("span",{className:o.root,children:N.jsx(yr,{label:t,shortcutKeys:e,children:N.jsx(cU,{ref:r,size:"small",value:t,...s,children:i??(n&&N.jsx(n,{className:o.menuButtonIcon}))})})})}const Kre=Pr({name:{MenuControlsContainer:Yre}})(t=>({root:{display:"flex",rowGap:t.spacing(.3),columnGap:t.spacing(.3),alignItems:"center",flexWrap:"wrap"}}));function Yre({children:t,className:e,debounced:n,DebounceProps:r}){const{classes:i,cx:s}=Kre(),o=N.jsx("div",{className:s(i.root,e),children:t});return n?N.jsx(eP,{...r,children:o}):o}function bse(t){var e;const n=Uc();return N.jsx(l0,{tooltipLabel:"Bold",tooltipShortcutKeys:["mod","B"],IconComponent:BB,selected:(e=n==null?void 0:n.isActive("bold"))!==null&&e!==void 0?e:!1,disabled:!(n!=null&&n.isEditable)||!n.can().toggleBold(),onClick:()=>n==null?void 0:n.chain().focus().toggleBold().run(),...t})}function Qre(t,e){const n=ci(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];return s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,a=>{o.push(...a.marks)}),o.filter(a=>a.type.name===n.name).map(a=>({...a.attrs}))}function Jre(t,e){const n=Nt(e,t.schema),{from:r,to:i}=t.selection,s=[];return t.doc.nodesBetween(r,i,o=>{s.push(o)}),s.reverse().filter(o=>o.type.name===n.name).map(o=>({...o.attrs}))}function Xre(t,e){const n=$c(e,t.schema);return n==="node"?Jre(t,e):n==="mark"?Qre(t,e):[]}function wse(t){var e;const n=Uc();return N.jsx(l0,{tooltipLabel:"Italic",tooltipShortcutKeys:["mod","I"],IconComponent:VB,selected:(e=n==null?void 0:n.isActive("italic"))!==null&&e!==void 0?e:!1,disabled:!(n!=null&&n.isEditable)||!n.can().toggleItalic(),onClick:()=>n==null?void 0:n.chain().focus().toggleItalic().run(),...t})}const Zre=Pr({name:{MenuSelect:tP}})(t=>({rootTooltipWrapper:{display:"inline-flex"},selectRoot:{[`&:not(:hover):not(.${jn.focused}) .${jn.notchedOutline}`]:{borderWidth:0},[`& .${LE.root}`]:{color:t.palette.action.active},[`&.${Lo.disabled} .${LE.root}`]:{color:t.palette.action.disabled}},select:{"&&&":{paddingLeft:t.spacing(1),paddingRight:t.spacing(3)}},selectDropdownIcon:{right:1},input:{paddingTop:"3px",paddingBottom:"3px",fontSize:"0.9em"}}));function tP({tooltipTitle:t,...e}){var n,r,i;const{classes:s,cx:o}=Zre(),[a,l]=D.useState(!1),c=N.jsx(Sb,{margin:"none",variant:"outlined",size:"small",...e,onMouseEnter:(...u)=>{var d;l(!0),(d=e.onMouseEnter)===null||d===void 0||d.call(e,...u)},onMouseLeave:(...u)=>{var d;l(!1),(d=e.onMouseLeave)===null||d===void 0||d.call(e,...u)},onClick:(...u)=>{var d;l(!1),(d=e.onClick)===null||d===void 0||d.call(e,...u)},onOpen:(...u)=>{var d;l(!1),(d=e.onOpen)===null||d===void 0||d.call(e,...u)},inputProps:{...e.inputProps,className:o(s.input,(n=e.inputProps)===null||n===void 0?void 0:n.className)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},...e.MenuProps},className:o(s.selectRoot,e.className),classes:{...e.classes,select:o(s.select,(r=e.classes)===null||r===void 0?void 0:r.select),icon:o(s.selectDropdownIcon,(i=e.classes)===null||i===void 0?void 0:i.icon)}});return t?N.jsx(yr,{label:t,contentWrapperClassName:s.rootTooltipWrapper,open:a,children:c}):c}const eie=Pr({name:{MenuSelectHeading:tie}})(t=>{const e=KO(t);return{selectInput:{width:77},menuOption:{display:"block",width:"100%"},headingOption:{marginBlockStart:0,marginBlockEnd:0,fontWeight:"bold"},headingOption1:{fontSize:e["& h1"].fontSize},headingOption2:{fontSize:e["& h2"].fontSize},headingOption3:{fontSize:e["& h3"].fontSize},headingOption4:{fontSize:e["& h4"].fontSize},headingOption5:{fontSize:e["& h5"].fontSize},headingOption6:{fontSize:e["& h6"].fontSize}}}),Fe={Paragraph:"Paragraph",Heading1:"Heading 1",Heading2:"Heading 2",Heading3:"Heading 3",Heading4:"Heading 4",Heading5:"Heading 5",Heading6:"Heading 6"},a_={[Fe.Heading1]:1,[Fe.Heading2]:2,[Fe.Heading3]:3,[Fe.Heading4]:4,[Fe.Heading5]:5,[Fe.Heading6]:6},l_={1:Fe.Heading1,2:Fe.Heading2,3:Fe.Heading3,4:Fe.Heading4,5:Fe.Heading5,6:Fe.Heading6};function tie({labels:t,hideShortcuts:e=!1,...n}){var r,i,s,o,a,l,c,u;const{classes:d,cx:h}=eie(),p=Uc(),m=D.useCallback(S=>{const x=S.target.value;x===Fe.Paragraph?p==null||p.chain().setParagraph().focus().run():x in a_&&(p==null||p.chain().setHeading({level:a_[x]}).focus().run())},[p]);let g="",b;if(p!=null&&p.isActive("paragraph"))g=Fe.Paragraph;else if(p!=null&&p.isActive("heading")){const x=Xre(p.state,"heading").map(v=>v.level);b=new Set(x).size===1?x[0]:void 0,b&&b in l_&&(g=l_[b])}const w=g!=="",A=!!(p!=null&&p.can().setParagraph()),C=D.useMemo(()=>{var S;const x=p==null?void 0:p.extensionManager.extensions.find(T=>T.name=="heading");return new Set((S=x==null?void 0:x.options.levels)!==null&&S!==void 0?S:[])},[p]),I=C.values().next(),P=I.done?void 0:I.value,O=P!==void 0&&(b===P||!!(p!=null&&p.can().setHeading({level:P})));return N.jsxs(tP,{onChange:m,disabled:!(p!=null&&p.isEditable)||!w&&!A&&!O,displayEmpty:!0,renderValue:S=>{var x,T;let v;return S===""?v=(T=(x=t==null?void 0:t.emptyValue)!==null&&x!==void 0?x:t==null?void 0:t.empty)!==null&&T!==void 0?T:N.jsx("em",{children:"Change to…"}):S===Fe.Paragraph?v=t==null?void 0:t.paragraph:S===Fe.Heading1?v=t==null?void 0:t.heading1:S===Fe.Heading2?v=t==null?void 0:t.heading2:S===Fe.Heading3?v=t==null?void 0:t.heading3:S===Fe.Heading4?v=t==null?void 0:t.heading4:S===Fe.Heading5?v=t==null?void 0:t.heading5:S===Fe.Heading6&&(v=t==null?void 0:t.heading6),v??S},"aria-label":"Text headings",tooltipTitle:"Styles",...n,value:g,inputProps:{...n.inputProps,className:h(d.selectInput,(r=n.inputProps)===null||r===void 0?void 0:r.className)},children:[N.jsx(ps,{value:Fe.Paragraph,disabled:!w&&!A,children:N.jsx(yr,{label:"",shortcutKeys:e?void 0:["mod","alt","0"],placement:"right",contentWrapperClassName:d.menuOption,children:(i=t==null?void 0:t.paragraph)!==null&&i!==void 0?i:Fe.Paragraph})}),C.has(1)&&N.jsx(ps,{value:Fe.Heading1,disabled:!O,children:N.jsx(yr,{label:"",shortcutKeys:e?void 0:["mod","alt","1"],placement:"right",contentWrapperClassName:h(d.menuOption,d.headingOption,d.headingOption1),children:(s=t==null?void 0:t.heading1)!==null&&s!==void 0?s:Fe.Heading1})}),C.has(2)&&N.jsx(ps,{value:Fe.Heading2,disabled:!O,children:N.jsx(yr,{label:"",shortcutKeys:e?void 0:["mod","alt","2"],placement:"right",contentWrapperClassName:h(d.menuOption,d.headingOption,d.headingOption2),children:(o=t==null?void 0:t.heading2)!==null&&o!==void 0?o:Fe.Heading2})}),C.has(3)&&N.jsx(ps,{value:Fe.Heading3,disabled:!O,children:N.jsx(yr,{label:"",shortcutKeys:e?void 0:["mod","alt","3"],placement:"right",contentWrapperClassName:h(d.menuOption,d.headingOption,d.headingOption3),children:(a=t==null?void 0:t.heading3)!==null&&a!==void 0?a:Fe.Heading3})}),C.has(4)&&N.jsx(ps,{value:Fe.Heading4,disabled:!O,children:N.jsx(yr,{label:"",shortcutKeys:e?void 0:["mod","alt","4"],placement:"right",contentWrapperClassName:h(d.menuOption,d.headingOption,d.headingOption4),children:(l=t==null?void 0:t.heading4)!==null&&l!==void 0?l:Fe.Heading4})}),C.has(5)&&N.jsx(ps,{value:Fe.Heading5,disabled:!O,children:N.jsx(yr,{label:"",shortcutKeys:e?void 0:["mod","alt","5"],placement:"right",contentWrapperClassName:h(d.menuOption,d.headingOption,d.headingOption5),children:(c=t==null?void 0:t.heading5)!==null&&c!==void 0?c:Fe.Heading5})}),C.has(6)&&N.jsx(ps,{value:Fe.Heading6,disabled:!O,children:N.jsx(yr,{label:"",shortcutKeys:e?void 0:["mod","alt","6"],placement:"right",contentWrapperClassName:h(d.menuOption,d.headingOption,d.headingOption6),children:(u=t==null?void 0:t.heading6)!==null&&u!==void 0?u:Fe.Heading6})})]})}function go(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}const nie=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ta(t,e,n){const r=rie(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&c_(r,"path",s),c_(r,"relativePath",s),r}function rie(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=nie.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function c_(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const iie=[".DS_Store","Thumbs.db"];function Ese(t){return go(this,void 0,void 0,function*(){return ff(t)&&sie(t.dataTransfer)?cie(t.dataTransfer,t.type):oie(t)?aie(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?lie(t):[]})}function sie(t){return ff(t)}function oie(t){return ff(t)&&ff(t.target)}function ff(t){return typeof t=="object"&&t!==null}function aie(t){return zv(t.target.files).map(e=>Ta(e))}function lie(t){return go(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Ta(n))})}function cie(t,e){return go(this,void 0,void 0,function*(){if(t.items){const n=zv(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(uie));return u_(nP(r))}return u_(zv(t.files).map(n=>Ta(n)))})}function u_(t){return t.filter(e=>iie.indexOf(e.name)===-1)}function zv(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function uie(t){if(typeof t.webkitGetAsEntry!="function")return d_(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?rP(e):d_(t,e)}function nP(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?nP(n):[n]],[])}function d_(t,e){return go(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Ta(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Ta(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function die(t){return go(this,void 0,void 0,function*(){return t.isDirectory?rP(t):fie(t)})}function rP(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>go(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(die));i.push(a),s()}else try{const a=yield Promise.all(i);n(a)}catch(a){r(a)}}),o=>{r(o)})}s()})}function fie(t){return go(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Ta(r,t.fullPath);e(i)},r=>{n(r)})})})}var Fu={},f_;function hie(){return f_||(f_=1,Fu.__esModule=!0,Fu.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0}),Fu}var pie=hie();const xse=hf(pie);export{qie as $,xie as A,Vie as B,nse as C,$ie as D,mse as E,jie as F,DH as G,fse as H,Lie as I,pse as J,xi as K,Jie as L,Rie as M,Qie as N,hse as O,bie as P,dse as Q,kie as R,ese as S,xs as T,i$ as U,Uie as V,Tie as W,Iie as X,Hy as Y,Wj as Z,Pie as _,q_ as a,Gie as a0,Kie as a1,_ie as a2,Sie as a3,Oie as a4,Aie as a5,Cie as a6,zie as a7,Mie as a8,Bie as a9,Die as aa,Wie as ab,lb as ac,Yie as ad,vse as ae,zre as af,Yre as ag,tie as ah,Pre as ai,bse as aj,wse as ak,gse as al,yse as am,uN as an,Eie as b,wie as c,vie as d,Nie as e,Ty as f,H2 as g,rse as h,W2 as i,Ji as j,xse as k,Ese as l,tse as m,Zie as n,Xie as o,Hie as p,bz as q,yie as r,K_ as s,ps as t,X2 as u,ose as v,ase as w,ise as x,sse as y,Fie as z};
